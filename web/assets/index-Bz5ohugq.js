(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();const ur=!1;var dt=Array.isArray,ci=Array.prototype.indexOf,Cn=Array.from,Ht=Object.defineProperty,st=Object.getOwnPropertyDescriptor,fr=Object.getOwnPropertyDescriptors,ui=Object.prototype,fi=Array.prototype,Sn=Object.getPrototypeOf,Dn=Object.isExtensible;const at=()=>{};function hi(n){return n()}function Vt(n){for(var e=0;e<n.length;e++)n[e]()}function di(){var n,e,t=new Promise((r,i)=>{n=r,e=i});return{promise:t,resolve:n,reject:e}}const fe=2,En=4,Kt=8,vt=16,xe=32,Ge=64,hr=128,ve=256,Nt=512,X=1024,pe=2048,Pe=4096,me=8192,Ye=16384,kn=32768,On=65536,Mn=1<<17,vi=1<<18,xt=1<<19,dr=1<<20,hn=1<<21,xn=1<<22,Fe=1<<23,Ve=Symbol("$state"),pi=Symbol("legacy props"),Pn=new class extends Error{name="StaleReactionError";message="The reaction that called `getAbortSignal()` was re-run or destroyed"};function mi(){throw new Error("https://svelte.dev/e/await_outside_boundary")}function vr(n){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function gi(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function _i(n){throw new Error("https://svelte.dev/e/effect_in_teardown")}function bi(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function yi(n){throw new Error("https://svelte.dev/e/effect_orphan")}function wi(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Ci(n){throw new Error("https://svelte.dev/e/props_invalid_value")}function Si(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Ei(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function ki(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}const Wt=1,Jt=2,pr=4,Oi=8,xi=16,Pi=2,Ti=4,Ri=8,Ai=1,Ii=2,Q=Symbol(),Li="http://www.w3.org/1999/xhtml";function qi(){console.warn("https://svelte.dev/e/select_multiple_invalid_value")}let ji=!1;function mr(n){return n===this.v}function gr(n,e){return n!=n?e==e:n!==e||n!==null&&typeof n=="object"||typeof n=="function"}function _r(n){return!gr(n,this.v)}let pt=!1,Hi=!1;function Vi(){pt=!0}let $=null;function Ut(n){$=n}function Te(n,e=!1,t){$={p:$,c:null,e:null,s:n,x:null,l:pt&&!e?{s:null,u:null,$:[]}:null}}function Re(n){var e=$,t=e.e;if(t!==null){e.e=null;for(var r of t)qr(r)}return $=e.p,{}}function Pt(){return!pt||$!==null&&$.l===null}const Ni=new WeakMap;function Ui(n){var e=I;if(e===null)return q.f|=Fe,n;if((e.f&kn)===0){if((e.f&hr)===0)throw!e.parent&&n instanceof Error&&br(n),n;e.b.error(n)}else Tn(n,e)}function Tn(n,e){for(;e!==null;){if((e.f&hr)!==0)try{e.b.error(n);return}catch(t){n=t}e=e.parent}throw n instanceof Error&&br(n),n}function br(n){const e=Ni.get(n);e&&(Ht(n,"message",{value:e.message}),Ht(n,"stack",{value:e.stack}))}let Ct=[],dn=[];function yr(){var n=Ct;Ct=[],Vt(n)}function Di(){var n=dn;dn=[],Vt(n)}function wr(n){Ct.length===0&&queueMicrotask(yr),Ct.push(n)}function Mi(){Ct.length>0&&yr(),dn.length>0&&Di()}function Bi(){for(var n=I.b;n!==null&&!n.has_pending_snippet();)n=n.parent;return n===null&&mi(),n}function Rn(n){var e=fe|pe,t=q!==null&&(q.f&fe)!==0?q:null;return I===null||t!==null&&(t.f&ve)!==0?e|=ve:I.f|=xt,{ctx:$,deps:null,effects:null,equals:mr,f:e,fn:n,reactions:null,rv:0,v:Q,wv:0,parent:t??I,ac:null}}function Fi(n,e){let t=I;t===null&&gi();var r=t.b,i=void 0,s=St(Q),a=null,o=!q;return is(()=>{try{var l=n();a&&Promise.resolve(l).catch(()=>{})}catch(v){l=Promise.reject(v)}var c=()=>l;i=a?.then(c,c)??Promise.resolve(l),a=i;var h=D,d=r.pending;o&&(r.update_pending_count(1),d||h.increment());const p=(v,f=void 0)=>{a=null,d||h.activate(),f?f!==Pn&&(s.f|=Fe,ft(s,f)):((s.f&Fe)!==0&&(s.f^=Fe),ft(s,v)),o&&(r.update_pending_count(-1),d||h.decrement()),Er()};if(i.then(p,v=>p(null,v||"unknown")),h)return()=>{queueMicrotask(()=>h.neuter())}}),new Promise(l=>{function c(h){function d(){h===i?l(s):c(i)}h.then(d,d)}c(i)})}function An(n){const e=Rn(n);return e.equals=_r,e}function Cr(n){var e=n.effects;if(e!==null){n.effects=null;for(var t=0;t<e.length;t+=1)Oe(e[t])}}function $i(n){for(var e=n.parent;e!==null;){if((e.f&fe)===0)return e;e=e.parent}return null}function In(n){var e,t=I;Ue($i(n));try{Cr(n),e=Kr(n)}finally{Ue(t)}return e}function Sr(n){var e=In(n);if(n.equals(e)||(n.v=e,n.wv=Fr()),!Qe){var t=(He||(n.f&ve)!==0)&&n.deps!==null?Pe:X;ae(n,t)}}function Ki(n,e,t){const r=Pt()?Rn:An;if(e.length===0){t(n.map(r));return}var i=D,s=I,a=Wi(),o=Bi();Promise.all(e.map(l=>Fi(l))).then(l=>{i?.activate(),a();try{t([...n.map(r),...l])}catch(c){(s.f&Ye)===0&&Tn(c,s)}i?.deactivate(),Er()}).catch(l=>{o.error(l)})}function Wi(){var n=I,e=q,t=$,r=D;return function(){Ue(n),we(e),Ut(t),r?.activate()}}function Er(){Ue(null),we(null),Ut(null)}const rn=new Set;let D=null,Lt=null,Bn=new Set,Dt=[];function kr(){const n=Dt.shift();Dt.length>0&&queueMicrotask(kr),n()}let Ze=[],zt=null,vn=!1,qt=!1;class ct{current=new Map;#l=new Map;#i=new Set;#e=0;#c=null;#u=!1;#n=[];#s=[];#r=[];#t=[];#a=[];#f=[];#h=[];skipped_effects=new Set;process(e){Ze=[],Lt=null;for(const i of e)this.#v(i);if(this.#n.length===0&&this.#e===0){this.#d();var t=this.#r,r=this.#t;this.#r=[],this.#t=[],this.#a=[],Lt=D,D=null,Fn(t),Fn(r),D===null?D=this:rn.delete(this),this.#c?.resolve()}else this.#o(this.#r),this.#o(this.#t),this.#o(this.#a);for(const i of this.#n)Ke(i);for(const i of this.#s)Ke(i);this.#n=[],this.#s=[]}#v(e){e.f^=X;for(var t=e.first;t!==null;){var r=t.f,i=(r&(xe|Ge))!==0,s=i&&(r&X)!==0,a=s||(r&me)!==0||this.skipped_effects.has(t);if(!a&&t.fn!==null){if(i)t.f^=X;else if((r&En)!==0)this.#t.push(t);else if((r&X)===0)if((r&xn)!==0){var o=t.b?.pending?this.#s:this.#n;o.push(t)}else Tt(t)&&((t.f&vt)!==0&&this.#a.push(t),Ke(t));var l=t.first;if(l!==null){t=l;continue}}var c=t.parent;for(t=t.next;t===null&&c!==null;)t=c.next,c=c.parent}}#o(e){for(const t of e)((t.f&pe)!==0?this.#f:this.#h).push(t),ae(t,X);e.length=0}capture(e,t){this.#l.has(e)||this.#l.set(e,t),this.current.set(e,e.v)}activate(){D=this}deactivate(){D=null,Lt=null;for(const e of Bn)if(Bn.delete(e),e(),D!==null)break}neuter(){this.#u=!0}flush(){Ze.length>0?Or():this.#d(),D===this&&(this.#e===0&&rn.delete(this),this.deactivate())}#d(){if(!this.#u)for(const e of this.#i)e();this.#i.clear()}increment(){this.#e+=1}decrement(){if(this.#e-=1,this.#e===0){for(const e of this.#f)ae(e,pe),ut(e);for(const e of this.#h)ae(e,Pe),ut(e);this.#r=[],this.#t=[],this.flush()}else this.deactivate()}add_callback(e){this.#i.add(e)}settled(){return(this.#c??=di()).promise}static ensure(){if(D===null){const e=D=new ct;rn.add(D),qt||ct.enqueue(()=>{D===e&&e.flush()})}return D}static enqueue(e){Dt.length===0&&queueMicrotask(kr),Dt.unshift(e)}}function Ji(n){var e=qt;qt=!0;try{for(var t;;){if(Mi(),Ze.length===0&&(D?.flush(),Ze.length===0))return zt=null,t;Or()}}finally{qt=e}}function Or(){var n=ot;vn=!0;try{var e=0;for(Jn(!0);Ze.length>0;){var t=ct.ensure();if(e++>1e3){var r,i;zi()}t.process(Ze),Ne.clear()}}finally{vn=!1,Jn(n),zt=null}}function zi(){try{wi()}catch(n){Tn(n,zt)}}let Be=null;function Fn(n){var e=n.length;if(e!==0){for(var t=0;t<e;){var r=n[t++];if((r.f&(Ye|me))===0&&Tt(r)&&(Be=[],Ke(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null&&r.ac===null?Ur(r):r.fn=null),Be?.length>0)){Ne.clear();for(const i of Be)Ke(i);Be=[]}}Be=null}}function ut(n){for(var e=zt=n;e.parent!==null;){e=e.parent;var t=e.f;if(vn&&e===I&&(t&vt)!==0)return;if((t&(Ge|xe))!==0){if((t&X)===0)return;e.f^=X}}Ze.push(e)}const Ne=new Map;function St(n,e){var t={f:0,v:n,reactions:null,equals:mr,rv:0,wv:0};return t}function qe(n,e){const t=St(n);return ls(t),t}function A(n,e=!1,t=!0){const r=St(n);return e||(r.equals=_r),pt&&t&&$!==null&&$.l!==null&&($.l.s??=[]).push(r),r}function Zi(n,e){return b(n,T(()=>u(n))),e}function b(n,e,t=!1){q!==null&&(!ye||(q.f&Mn)!==0)&&Pt()&&(q.f&(fe|vt|xn|Mn))!==0&&!ke?.includes(n)&&ki();let r=t?it(e):e;return ft(n,r)}function ft(n,e){if(!n.equals(e)){var t=n.v;Qe?Ne.set(n,e):Ne.set(n,t),n.v=e;var r=ct.ensure();r.capture(n,t),(n.f&fe)!==0&&((n.f&pe)!==0&&In(n),ae(n,(n.f&ve)===0?X:Pe)),n.wv=Fr(),xr(n,pe),Pt()&&I!==null&&(I.f&X)!==0&&(I.f&(xe|Ge))===0&&(de===null?cs([n]):de.push(n))}return e}function sn(n){b(n,n.v+1)}function xr(n,e){var t=n.reactions;if(t!==null)for(var r=Pt(),i=t.length,s=0;s<i;s++){var a=t[s],o=a.f;if(!(!r&&a===I)){var l=(o&pe)===0;l&&ae(a,e),(o&fe)!==0?xr(a,Pe):l&&((o&vt)!==0&&Be!==null&&Be.push(a),ut(a))}}}function it(n){if(typeof n!="object"||n===null||Ve in n)return n;const e=Sn(n);if(e!==ui&&e!==fi)return n;var t=new Map,r=dt(n),i=qe(0),s=$e,a=o=>{if($e===s)return o();var l=q,c=$e;we(null),Zn(s);var h=o();return we(l),Zn(c),h};return r&&t.set("length",qe(n.length)),new Proxy(n,{defineProperty(o,l,c){(!("value"in c)||c.configurable===!1||c.enumerable===!1||c.writable===!1)&&Si();var h=t.get(l);return h===void 0?h=a(()=>{var d=qe(c.value);return t.set(l,d),d}):b(h,c.value,!0),!0},deleteProperty(o,l){var c=t.get(l);if(c===void 0){if(l in o){const h=a(()=>qe(Q));t.set(l,h),sn(i)}}else b(c,Q),sn(i);return!0},get(o,l,c){if(l===Ve)return n;var h=t.get(l),d=l in o;if(h===void 0&&(!d||st(o,l)?.writable)&&(h=a(()=>{var v=it(d?o[l]:Q),f=qe(v);return f}),t.set(l,h)),h!==void 0){var p=u(h);return p===Q?void 0:p}return Reflect.get(o,l,c)},getOwnPropertyDescriptor(o,l){var c=Reflect.getOwnPropertyDescriptor(o,l);if(c&&"value"in c){var h=t.get(l);h&&(c.value=u(h))}else if(c===void 0){var d=t.get(l),p=d?.v;if(d!==void 0&&p!==Q)return{enumerable:!0,configurable:!0,value:p,writable:!0}}return c},has(o,l){if(l===Ve)return!0;var c=t.get(l),h=c!==void 0&&c.v!==Q||Reflect.has(o,l);if(c!==void 0||I!==null&&(!h||st(o,l)?.writable)){c===void 0&&(c=a(()=>{var p=h?it(o[l]):Q,v=qe(p);return v}),t.set(l,c));var d=u(c);if(d===Q)return!1}return h},set(o,l,c,h){var d=t.get(l),p=l in o;if(r&&l==="length")for(var v=c;v<d.v;v+=1){var f=t.get(v+"");f!==void 0?b(f,Q):v in o&&(f=a(()=>qe(Q)),t.set(v+"",f))}if(d===void 0)(!p||st(o,l)?.writable)&&(d=a(()=>qe(void 0)),b(d,it(c)),t.set(l,d));else{p=d.v!==Q;var m=a(()=>it(c));b(d,m)}var _=Reflect.getOwnPropertyDescriptor(o,l);if(_?.set&&_.set.call(h,c),!p){if(r&&typeof l=="string"){var C=t.get("length"),g=Number(l);Number.isInteger(g)&&g>=C.v&&b(C,g+1)}sn(i)}return!0},ownKeys(o){u(i);var l=Reflect.ownKeys(o).filter(d=>{var p=t.get(d);return p===void 0||p.v!==Q});for(var[c,h]of t)h.v!==Q&&!(c in o)&&l.push(c);return l},setPrototypeOf(){Ei()}})}function $n(n){try{if(n!==null&&typeof n=="object"&&Ve in n)return n[Ve]}catch{}return n}function Gi(n,e){return Object.is($n(n),$n(e))}var Kn,Pr,Tr,Rr;function Yi(){if(Kn===void 0){Kn=window,Pr=/Firefox/.test(navigator.userAgent);var n=Element.prototype,e=Node.prototype,t=Text.prototype;Tr=st(e,"firstChild").get,Rr=st(e,"nextSibling").get,Dn(n)&&(n.__click=void 0,n.__className=void 0,n.__attributes=null,n.__style=void 0,n.__e=void 0),Dn(t)&&(t.__t=void 0)}}function mt(n=""){return document.createTextNode(n)}function Mt(n){return Tr.call(n)}function Zt(n){return Rr.call(n)}function w(n,e){return Mt(n)}function Bt(n,e){{var t=Mt(n);return t instanceof Comment&&t.data===""?Zt(t):t}}function y(n,e=1,t=!1){let r=n;for(;e--;)r=Zt(r);return r}function Qi(n){n.textContent=""}function Ar(){return!1}let Wn=!1;function Xi(){Wn||(Wn=!0,document.addEventListener("reset",n=>{Promise.resolve().then(()=>{if(!n.defaultPrevented)for(const e of n.target.elements)e.__on_r?.()})},{capture:!0}))}function Gt(n){var e=q,t=I;we(null),Ue(null);try{return n()}finally{we(e),Ue(t)}}function Ir(n,e,t,r=t){n.addEventListener(e,()=>Gt(t));const i=n.__on_r;i?n.__on_r=()=>{i(),r(!0)}:n.__on_r=()=>r(!0),Xi()}function Lr(n){I===null&&q===null&&yi(),q!==null&&(q.f&ve)!==0&&I===null&&bi(),Qe&&_i()}function es(n,e){var t=e.last;t===null?e.last=e.first=n:(t.next=n,n.prev=t,e.last=n)}function Ce(n,e,t,r=!0){var i=I;i!==null&&(i.f&me)!==0&&(n|=me);var s={ctx:$,deps:null,nodes_start:null,nodes_end:null,f:n|pe,first:null,fn:e,last:null,next:null,parent:i,b:i&&i.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(t)try{Ke(s),s.f|=kn}catch(l){throw Oe(s),l}else e!==null&&ut(s);if(r){var a=s;if(t&&a.deps===null&&a.teardown===null&&a.nodes_start===null&&a.first===a.last&&(a.f&xt)===0&&(a=a.first),a!==null&&(a.parent=i,i!==null&&es(a,i),q!==null&&(q.f&fe)!==0&&(n&Ge)===0)){var o=q;(o.effects??=[]).push(a)}}return s}function Ln(n){const e=Ce(Kt,null,!1);return ae(e,X),e.teardown=n,e}function pn(n){Lr();var e=I.f,t=!q&&(e&xe)!==0&&(e&kn)===0;if(t){var r=$;(r.e??=[]).push(n)}else return qr(n)}function qr(n){return Ce(En|dr,n,!1)}function ts(n){return Lr(),Ce(Kt|dr,n,!0)}function ns(n){ct.ensure();const e=Ce(Ge|xt,n,!0);return(t={})=>new Promise(r=>{t.outro?jn(e,()=>{Oe(e),r(void 0)}):(Oe(e),r(void 0))})}function rs(n){return Ce(En,n,!1)}function jt(n,e){var t=$,r={effect:null,ran:!1,deps:n};t.l.$.push(r),r.effect=qn(()=>{n(),!r.ran&&(r.ran=!0,T(e))})}function jr(){var n=$;qn(()=>{for(var e of n.l.$){e.deps();var t=e.effect;(t.f&X)!==0&&ae(t,Pe),Tt(t)&&Ke(t),e.ran=!1}})}function is(n){return Ce(xn|xt,n,!0)}function qn(n,e=0){return Ce(Kt|e,n,!0)}function M(n,e=[],t=[]){Ki(e,t,r=>{Ce(Kt,()=>n(...r.map(u)),!0)})}function Hr(n,e=0){var t=Ce(vt|e,n,!0);return t}function Et(n,e=!0){return Ce(xe|xt,n,!0,e)}function Vr(n){var e=n.teardown;if(e!==null){const t=Qe,r=q;zn(!0),we(null);try{e.call(null)}finally{zn(t),we(r)}}}function Nr(n,e=!1){var t=n.first;for(n.first=n.last=null;t!==null;){const i=t.ac;i!==null&&Gt(()=>{i.abort(Pn)});var r=t.next;(t.f&Ge)!==0?t.parent=null:Oe(t,e),t=r}}function ss(n){for(var e=n.first;e!==null;){var t=e.next;(e.f&xe)===0&&Oe(e),e=t}}function Oe(n,e=!0){var t=!1;(e||(n.f&vi)!==0)&&n.nodes_start!==null&&n.nodes_end!==null&&(as(n.nodes_start,n.nodes_end),t=!0),Nr(n,e&&!t),Ft(n,0),ae(n,Ye);var r=n.transitions;if(r!==null)for(const s of r)s.stop();Vr(n);var i=n.parent;i!==null&&i.first!==null&&Ur(n),n.next=n.prev=n.teardown=n.ctx=n.deps=n.fn=n.nodes_start=n.nodes_end=n.ac=null}function as(n,e){for(;n!==null;){var t=n===e?null:Zt(n);n.remove(),n=t}}function Ur(n){var e=n.parent,t=n.prev,r=n.next;t!==null&&(t.next=r),r!==null&&(r.prev=t),e!==null&&(e.first===n&&(e.first=r),e.last===n&&(e.last=t))}function jn(n,e){var t=[];Hn(n,t,!0),Dr(t,()=>{Oe(n),e&&e()})}function Dr(n,e){var t=n.length;if(t>0){var r=()=>--t||e();for(var i of n)i.out(r)}else e()}function Hn(n,e,t){if((n.f&me)===0){if(n.f^=me,n.transitions!==null)for(const a of n.transitions)(a.is_global||t)&&e.push(a);for(var r=n.first;r!==null;){var i=r.next,s=(r.f&On)!==0||(r.f&xe)!==0;Hn(r,e,s?t:!1),r=i}}}function Vn(n){Mr(n,!0)}function Mr(n,e){if((n.f&me)!==0){n.f^=me,(n.f&X)===0&&(ae(n,pe),ut(n));for(var t=n.first;t!==null;){var r=t.next,i=(t.f&On)!==0||(t.f&xe)!==0;Mr(t,i?e:!1),t=r}if(n.transitions!==null)for(const s of n.transitions)(s.is_global||e)&&s.in()}}let rt=null;function os(n){var e=rt;try{if(rt=new Set,T(n),e!==null)for(var t of rt)e.add(t);return rt}finally{rt=e}}function an(n){for(var e of os(n))ft(e,e.v)}let ot=!1;function Jn(n){ot=n}let Qe=!1;function zn(n){Qe=n}let q=null,ye=!1;function we(n){q=n}let I=null;function Ue(n){I=n}let ke=null;function ls(n){q!==null&&(ke===null?ke=[n]:ke.push(n))}let se=null,ce=0,de=null;function cs(n){de=n}let Br=1,kt=0,$e=kt;function Zn(n){$e=n}let He=!1;function Fr(){return++Br}function Tt(n){var e=n.f;if((e&pe)!==0)return!0;if((e&Pe)!==0){var t=n.deps,r=(e&ve)!==0;if(t!==null){var i,s,a=(e&Nt)!==0,o=r&&I!==null&&!He,l=t.length;if((a||o)&&(I===null||(I.f&Ye)===0)){var c=n,h=c.parent;for(i=0;i<l;i++)s=t[i],(a||!s?.reactions?.includes(c))&&(s.reactions??=[]).push(c);a&&(c.f^=Nt),o&&h!==null&&(h.f&ve)===0&&(c.f^=ve)}for(i=0;i<l;i++)if(s=t[i],Tt(s)&&Sr(s),s.wv>n.wv)return!0}(!r||I!==null&&!He)&&ae(n,X)}return!1}function $r(n,e,t=!0){var r=n.reactions;if(r!==null&&!ke?.includes(n))for(var i=0;i<r.length;i++){var s=r[i];(s.f&fe)!==0?$r(s,e,!1):e===s&&(t?ae(s,pe):(s.f&X)!==0&&ae(s,Pe),ut(s))}}function Kr(n){var e=se,t=ce,r=de,i=q,s=He,a=ke,o=$,l=ye,c=$e,h=n.f;se=null,ce=0,de=null,He=(h&ve)!==0&&(ye||!ot||q===null),q=(h&(xe|Ge))===0?n:null,ke=null,Ut(n.ctx),ye=!1,$e=++kt,n.ac!==null&&(Gt(()=>{n.ac.abort(Pn)}),n.ac=null);try{n.f|=hn;var d=n.fn,p=d(),v=n.deps;if(se!==null){var f;if(Ft(n,ce),v!==null&&ce>0)for(v.length=ce+se.length,f=0;f<se.length;f++)v[ce+f]=se[f];else n.deps=v=se;if(!He||(h&fe)!==0&&n.reactions!==null)for(f=ce;f<v.length;f++)(v[f].reactions??=[]).push(n)}else v!==null&&ce<v.length&&(Ft(n,ce),v.length=ce);if(Pt()&&de!==null&&!ye&&v!==null&&(n.f&(fe|Pe|pe))===0)for(f=0;f<de.length;f++)$r(de[f],n);return i!==null&&i!==n&&(kt++,de!==null&&(r===null?r=de:r.push(...de))),(n.f&Fe)!==0&&(n.f^=Fe),p}catch(m){return Ui(m)}finally{n.f^=hn,se=e,ce=t,de=r,q=i,He=s,ke=a,Ut(o),ye=l,$e=c}}function us(n,e){let t=e.reactions;if(t!==null){var r=ci.call(t,n);if(r!==-1){var i=t.length-1;i===0?t=e.reactions=null:(t[r]=t[i],t.pop())}}t===null&&(e.f&fe)!==0&&(se===null||!se.includes(e))&&(ae(e,Pe),(e.f&(ve|Nt))===0&&(e.f^=Nt),Cr(e),Ft(e,0))}function Ft(n,e){var t=n.deps;if(t!==null)for(var r=e;r<t.length;r++)us(n,t[r])}function Ke(n){var e=n.f;if((e&Ye)===0){ae(n,X);var t=I,r=ot;I=n,ot=!0;try{(e&vt)!==0?ss(n):Nr(n),Vr(n);var i=Kr(n);n.teardown=typeof i=="function"?i:null,n.wv=Br;var s;ur&&Hi&&(n.f&pe)!==0&&n.deps}finally{ot=r,I=t}}}async function fs(){await Promise.resolve(),Ji()}function u(n){var e=n.f,t=(e&fe)!==0;if(rt?.add(n),q!==null&&!ye){var r=I!==null&&(I.f&Ye)!==0;if(!r&&!ke?.includes(n)){var i=q.deps;if((q.f&hn)!==0)n.rv<kt&&(n.rv=kt,se===null&&i!==null&&i[ce]===n?ce++:se===null?se=[n]:(!He||!se.includes(n))&&se.push(n));else{(q.deps??=[]).push(n);var s=n.reactions;s===null?n.reactions=[q]:s.includes(q)||s.push(q)}}}else if(t&&n.deps===null&&n.effects===null){var a=n,o=a.parent;o!==null&&(o.f&ve)===0&&(a.f^=ve)}if(Qe){if(Ne.has(n))return Ne.get(n);if(t){a=n;var l=a.v;return((a.f&X)===0&&a.reactions!==null||Wr(a))&&(l=In(a)),Ne.set(a,l),l}}else t&&(a=n,Tt(a)&&Sr(a));if((n.f&Fe)!==0)throw n.v;return n.v}function Wr(n){if(n.v===Q)return!0;if(n.deps===null)return!1;for(const e of n.deps)if(Ne.has(e)||(e.f&fe)!==0&&Wr(e))return!0;return!1}function T(n){var e=ye;try{return ye=!0,n()}finally{ye=e}}const hs=-7169;function ae(n,e){n.f=n.f&hs|e}function N(n){if(!(typeof n!="object"||!n||n instanceof EventTarget)){if(Ve in n)mn(n);else if(!Array.isArray(n))for(let e in n){const t=n[e];typeof t=="object"&&t&&Ve in t&&mn(t)}}}function mn(n,e=new Set){if(typeof n=="object"&&n!==null&&!(n instanceof EventTarget)&&!e.has(n)){e.add(n),n instanceof Date&&n.getTime();for(let r in n)try{mn(n[r],e)}catch{}const t=Sn(n);if(t!==Object.prototype&&t!==Array.prototype&&t!==Map.prototype&&t!==Set.prototype&&t!==Date.prototype){const r=fr(t);for(let i in r){const s=r[i].get;if(s)try{s.call(n)}catch{}}}}}const ds=["touchstart","touchmove"];function vs(n){return ds.includes(n)}const ps=new Set,Gn=new Set;function ms(n,e,t,r={}){function i(s){if(r.capture||yt.call(e,s),!s.cancelBubble)return Gt(()=>t?.call(this,s))}return n.startsWith("pointer")||n.startsWith("touch")||n==="wheel"?wr(()=>{e.addEventListener(n,i,r)}):e.addEventListener(n,i,r),i}function K(n,e,t,r,i){var s={capture:r,passive:i},a=ms(n,e,t,s);(e===document.body||e===window||e===document||e instanceof HTMLMediaElement)&&Ln(()=>{e.removeEventListener(n,a,s)})}let Yn=null;function yt(n){var e=this,t=e.ownerDocument,r=n.type,i=n.composedPath?.()||[],s=i[0]||n.target;Yn=n;var a=0,o=Yn===n&&n.__root;if(o){var l=i.indexOf(o);if(l!==-1&&(e===document||e===window)){n.__root=e;return}var c=i.indexOf(e);if(c===-1)return;l<=c&&(a=l)}if(s=i[a]||n.target,s!==e){Ht(n,"currentTarget",{configurable:!0,get(){return s||t}});var h=q,d=I;we(null),Ue(null);try{for(var p,v=[];s!==null;){var f=s.assignedSlot||s.parentNode||s.host||null;try{var m=s["__"+r];if(m!=null&&(!s.disabled||n.target===s))if(dt(m)){var[_,...C]=m;_.apply(s,[n,...C])}else m.call(s,n)}catch(g){p?v.push(g):p=g}if(n.cancelBubble||f===e||f===null)break;s=f}if(p){for(let g of v)queueMicrotask(()=>{throw g});throw p}}finally{n.__root=e,delete n.currentTarget,we(h),Ue(d)}}}function gs(n){var e=document.createElement("template");return e.innerHTML=n.replaceAll("<!>","<!---->"),e.content}function $t(n,e){var t=I;t.nodes_start===null&&(t.nodes_start=n,t.nodes_end=e)}function U(n,e){var t=(e&Ai)!==0,r=(e&Ii)!==0,i,s=!n.startsWith("<!>");return()=>{i===void 0&&(i=gs(s?n:"<!>"+n),t||(i=Mt(i)));var a=r||Pr?document.importNode(i,!0):i.cloneNode(!0);if(t){var o=Mt(a),l=a.lastChild;$t(o,l)}else $t(a,a);return a}}function Qn(n=""){{var e=mt(n+"");return $t(e,e),e}}function gn(){var n=document.createDocumentFragment(),e=document.createComment(""),t=mt();return n.append(e,t),$t(e,t),n}function H(n,e){n!==null&&n.before(e)}function F(n,e){var t=e==null?"":typeof e=="object"?e+"":e;t!==(n.__t??=n.nodeValue)&&(n.__t=t,n.nodeValue=t+"")}function _s(n,e){return bs(n,e)}const tt=new Map;function bs(n,{target:e,anchor:t,props:r={},events:i,context:s,intro:a=!0}){Yi();var o=new Set,l=d=>{for(var p=0;p<d.length;p++){var v=d[p];if(!o.has(v)){o.add(v);var f=vs(v);e.addEventListener(v,yt,{passive:f});var m=tt.get(v);m===void 0?(document.addEventListener(v,yt,{passive:f}),tt.set(v,1)):tt.set(v,m+1)}}};l(Cn(ps)),Gn.add(l);var c=void 0,h=ns(()=>{var d=t??e.appendChild(mt());return Et(()=>{if(s){Te({});var p=$;p.c=s}i&&(r.$$events=i),c=n(d,r)||{},s&&Re()}),()=>{for(var p of o){e.removeEventListener(p,yt);var v=tt.get(p);--v===0?(document.removeEventListener(p,yt),tt.delete(p)):tt.set(p,v)}Gn.delete(l),d!==t&&d.parentNode?.removeChild(d)}});return ys.set(c,h),c}let ys=new WeakMap;function z(n,e,t=!1){var r=n,i=null,s=null,a=Q,o=t?On:0,l=!1;const c=(v,f=!0)=>{l=!0,p(f,v)};var h=null;function d(){h!==null&&(h.lastChild.remove(),r.before(h),h=null);var v=a?i:s,f=a?s:i;v&&Vn(v),f&&jn(f,()=>{a?s=null:i=null})}const p=(v,f)=>{if(a!==(a=v)){var m=Ar(),_=r;if(m&&(h=document.createDocumentFragment(),h.append(_=mt())),a?i??=f&&Et(()=>f(_)):s??=f&&Et(()=>f(_)),m){var C=D,g=a?i:s,S=a?s:i;g&&C.skipped_effects.delete(g),S&&C.skipped_effects.add(S),C.add_callback(d)}else d()}};Hr(()=>{l=!1,e(c),l||p(null,null)},o)}function We(n,e){return e}function ws(n,e,t){for(var r=n.items,i=[],s=e.length,a=0;a<s;a++)Hn(e[a].e,i,!0);var o=s>0&&i.length===0&&t!==null;if(o){var l=t.parentNode;Qi(l),l.append(t),r.clear(),be(n,e[0].prev,e[s-1].next)}Dr(i,()=>{for(var c=0;c<s;c++){var h=e[c];o||(r.delete(h.k),be(n,h.prev,h.next)),Oe(h.e,!o)}})}function Je(n,e,t,r,i,s=null){var a=n,o={flags:e,items:new Map,first:null},l=(e&pr)!==0;if(l){var c=n;a=c.appendChild(mt())}var h=null,d=!1,p=new Map,v=An(()=>{var C=t();return dt(C)?C:C==null?[]:Cn(C)}),f,m;function _(){Cs(m,f,o,p,a,i,e,r,t),s!==null&&(f.length===0?h?Vn(h):h=Et(()=>s(a)):h!==null&&jn(h,()=>{h=null}))}Hr(()=>{m??=I,f=u(v);var C=f.length;if(!(d&&C===0)){d=C===0;var g,S,E,x;if(Ar()){var O=new Set,k=D;for(S=0;S<C;S+=1){E=f[S],x=r(E,S);var j=o.items.get(x)??p.get(x);j?(e&(Wt|Jt))!==0&&Jr(j,E,S,e):(g=zr(null,o,null,null,E,x,S,i,e,t,!0),p.set(x,g)),O.add(x)}for(const[V,G]of o.items)O.has(V)||k.skipped_effects.add(G.e);k.add_callback(_)}else _();u(v)}})}function Cs(n,e,t,r,i,s,a,o,l){var c=(a&Oi)!==0,h=(a&(Wt|Jt))!==0,d=e.length,p=t.items,v=t.first,f=v,m,_=null,C,g=[],S=[],E,x,O,k;if(c)for(k=0;k<d;k+=1)E=e[k],x=o(E,k),O=p.get(x),O!==void 0&&(O.a?.measure(),(C??=new Set).add(O));for(k=0;k<d;k+=1){if(E=e[k],x=o(E,k),O=p.get(x),O===void 0){var j=r.get(x);if(j!==void 0){r.delete(x),p.set(x,j);var V=_?_.next:f;be(t,_,j),be(t,j,V),on(j,V,i),_=j}else{var G=f?f.e.nodes_start:i;_=zr(G,t,_,_===null?t.first:_.next,E,x,k,s,a,l)}p.set(x,_),g=[],S=[],f=_.next;continue}if(h&&Jr(O,E,k,a),(O.e.f&me)!==0&&(Vn(O.e),c&&(O.a?.unfix(),(C??=new Set).delete(O))),O!==f){if(m!==void 0&&m.has(O)){if(g.length<S.length){var B=S[0],P;_=B.prev;var ee=g[0],te=g[g.length-1];for(P=0;P<g.length;P+=1)on(g[P],B,i);for(P=0;P<S.length;P+=1)m.delete(S[P]);be(t,ee.prev,te.next),be(t,_,ee),be(t,te,B),f=B,_=te,k-=1,g=[],S=[]}else m.delete(O),on(O,f,i),be(t,O.prev,O.next),be(t,O,_===null?t.first:_.next),be(t,_,O),_=O;continue}for(g=[],S=[];f!==null&&f.k!==x;)(f.e.f&me)===0&&(m??=new Set).add(f),S.push(f),f=f.next;if(f===null)continue;O=f}g.push(O),_=O,f=O.next}if(f!==null||m!==void 0){for(var ne=m===void 0?[]:Cn(m);f!==null;)(f.e.f&me)===0&&ne.push(f),f=f.next;var Y=ne.length;if(Y>0){var oe=(a&pr)!==0&&d===0?i:null;if(c){for(k=0;k<Y;k+=1)ne[k].a?.measure();for(k=0;k<Y;k+=1)ne[k].a?.fix()}ws(t,ne,oe)}}c&&wr(()=>{if(C!==void 0)for(O of C)O.a?.apply()}),n.first=t.first&&t.first.e,n.last=_&&_.e;for(var ge of r.values())Oe(ge.e);r.clear()}function Jr(n,e,t,r){(r&Wt)!==0&&ft(n.v,e),(r&Jt)!==0?ft(n.i,t):n.i=t}function zr(n,e,t,r,i,s,a,o,l,c,h){var d=(l&Wt)!==0,p=(l&xi)===0,v=d?p?A(i,!1,!1):St(i):i,f=(l&Jt)===0?a:St(a),m={i:f,v,k:s,a:null,e:null,prev:t,next:r};try{if(n===null){var _=document.createDocumentFragment();_.append(n=mt())}return m.e=Et(()=>o(n,v,f,c),ji),m.e.prev=t&&t.e,m.e.next=r&&r.e,t===null?h||(e.first=m):(t.next=m,t.e.next=m.e),r!==null&&(r.prev=m,r.e.prev=m.e),m}finally{}}function on(n,e,t){for(var r=n.next?n.next.e.nodes_start:t,i=e?e.e.nodes_start:t,s=n.e.nodes_start;s!==null&&s!==r;){var a=Zt(s);i.before(s),s=a}}function be(n,e,t){e===null?n.first=t:(e.next=t,e.e.next=t&&t.e),t!==null&&(t.prev=e,t.e.prev=e&&e.e)}const Xn=[...` 	
\r\f \v\uFEFF`];function Ss(n,e,t){var r=""+n;if(t){for(var i in t)if(t[i])r=r?r+" "+i:i;else if(r.length)for(var s=i.length,a=0;(a=r.indexOf(i,a))>=0;){var o=a+s;(a===0||Xn.includes(r[a-1]))&&(o===r.length||Xn.includes(r[o]))?r=(a===0?"":r.substring(0,a))+r.substring(o+1):a=o}}return r===""?null:r}function Es(n,e){return n==null?null:String(n)}function ks(n,e,t,r,i,s){var a=n.__className;if(a!==t||a===void 0){var o=Ss(t,r,s);o==null?n.removeAttribute("class"):n.className=o,n.__className=t}else if(s&&i!==s)for(var l in s){var c=!!s[l];(i==null||c!==!!i[l])&&n.classList.toggle(l,c)}return s}function er(n,e,t,r){var i=n.__style;if(i!==e){var s=Es(e);s==null?n.removeAttribute("style"):n.style.cssText=s,n.__style=e}return r}function Zr(n,e,t=!1){if(n.multiple){if(e==null)return;if(!dt(e))return qi();for(var r of n.options)r.selected=e.includes(wt(r));return}for(r of n.options){var i=wt(r);if(Gi(i,e)){r.selected=!0;return}}(!t||e!==void 0)&&(n.selectedIndex=-1)}function Os(n){var e=new MutationObserver(()=>{Zr(n,n.__value)});e.observe(n,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),Ln(()=>{e.disconnect()})}function ln(n,e,t=e){var r=!0;Ir(n,"change",i=>{var s=i?"[selected]":":checked",a;if(n.multiple)a=[].map.call(n.querySelectorAll(s),wt);else{var o=n.querySelector(s)??n.querySelector("option:not([disabled])");a=o&&wt(o)}t(a)}),rs(()=>{var i=e();if(Zr(n,i,r),r&&i===void 0){var s=n.querySelector(":checked");s!==null&&(i=wt(s),t(i))}n.__value=i,r=!1}),Os(n)}function wt(n){return"__value"in n?n.__value:n.value}const xs=Symbol("is custom element"),Ps=Symbol("is html");function Ee(n,e,t,r){var i=Ts(n);i[e]!==(i[e]=t)&&(t==null?n.removeAttribute(e):typeof t!="string"&&Rs(n).includes(e)?n[e]=t:n.setAttribute(e,t))}function Ts(n){return n.__attributes??={[xs]:n.nodeName.includes("-"),[Ps]:n.namespaceURI===Li}}var tr=new Map;function Rs(n){var e=n.getAttribute("is")||n.nodeName,t=tr.get(e);if(t)return t;tr.set(e,t=[]);for(var r,i=n,s=Element.prototype;s!==i;){r=fr(i);for(var a in r)r[a].set&&t.push(a);i=Sn(i)}return t}function ie(n,e,t=e){var r=new WeakSet;Ir(n,"input",async i=>{var s=i?n.defaultValue:n.value;if(s=cn(n)?un(s):s,t(s),D!==null&&r.add(D),await fs(),s!==(s=e())){var a=n.selectionStart,o=n.selectionEnd;n.value=s??"",o!==null&&(n.selectionStart=a,n.selectionEnd=Math.min(o,n.value.length))}}),T(e)==null&&n.value&&(t(cn(n)?un(n.value):n.value),D!==null&&r.add(D)),qn(()=>{var i=e();if(n===document.activeElement){var s=Lt??D;if(r.has(s))return}cn(n)&&i===un(n.value)||n.type==="date"&&!i&&!n.value||i!==n.value&&(n.value=i??"")})}function cn(n){var e=n.type;return e==="number"||e==="range"}function un(n){return n===""?null:+n}function Ot(n){return function(...e){var t=e[0];return t.stopPropagation(),n?.apply(this,e)}}function _n(n){return function(...e){var t=e[0];return t.preventDefault(),n?.apply(this,e)}}function De(n=!1){const e=$,t=e.l.u;if(!t)return;let r=()=>N(e.s);if(n){let i=0,s={};const a=Rn(()=>{let o=!1;const l=e.s;for(const c in l)l[c]!==s[c]&&(s[c]=l[c],o=!0);return o&&i++,i});r=()=>u(a)}t.b.length&&ts(()=>{nr(e,r),Vt(t.b)}),pn(()=>{const i=T(()=>t.m.map(hi));return()=>{for(const s of i)typeof s=="function"&&s()}}),t.a.length&&pn(()=>{nr(e,r),Vt(t.a)})}function nr(n,e){if(n.l.s)for(const t of n.l.s)u(t);e()}function Yt(n,e){var t=n.$$events?.[e.type],r=dt(t)?t.slice():t==null?[]:[t];for(var i of r)i.call(this,e)}function Gr(n,e,t){if(n==null)return e(void 0),at;const r=T(()=>n.subscribe(e,t));return r.unsubscribe?()=>r.unsubscribe():r}const nt=[];function As(n,e){return{subscribe:Qt(n,e).subscribe}}function Qt(n,e=at){let t=null;const r=new Set;function i(o){if(gr(n,o)&&(n=o,t)){const l=!nt.length;for(const c of r)c[1](),nt.push(c,n);if(l){for(let c=0;c<nt.length;c+=2)nt[c][0](nt[c+1]);nt.length=0}}}function s(o){i(o(n))}function a(o,l=at){const c=[o,l];return r.add(c),r.size===1&&(t=e(i,s)||at),o(n),()=>{r.delete(c),r.size===0&&t&&(t(),t=null)}}return{set:i,update:s,subscribe:a}}function Is(n){let e;return Gr(n,t=>e=t)(),e}let At=!1,bn=Symbol();function ze(n,e,t){const r=t[e]??={store:null,source:A(void 0),unsubscribe:at};if(r.store!==n&&!(bn in t))if(r.unsubscribe(),r.store=n??null,n==null)r.source.v=void 0,r.unsubscribe=at;else{var i=!0;r.unsubscribe=Gr(n,s=>{i?r.source.v=s:b(r.source,s)}),i=!1}return n&&bn in t?Is(n):u(r.source)}function Xt(){const n={};function e(){Ln(()=>{for(var t in n)n[t].unsubscribe();Ht(n,bn,{enumerable:!1,value:!0})})}return[n,e]}function Ls(n){var e=At;try{return At=!1,[n(),At]}finally{At=e}}function gt(n,e,t,r){var i=!pt||(t&Pi)!==0,s=(t&Ri)!==0,a=r,o=!0,l=()=>(o&&(o=!1,a=r),a),c;{var h=Ve in n||pi in n;c=st(n,e)?.set??(h&&e in n?g=>n[e]=g:void 0)}var d,p=!1;[d,p]=Ls(()=>n[e]),d===void 0&&r!==void 0&&(d=l(),c&&(i&&Ci(),c(d)));var v;if(i?v=()=>{var g=n[e];return g===void 0?l():(o=!0,g)}:v=()=>{var g=n[e];return g!==void 0&&(a=void 0),g===void 0?a:g},i&&(t&Ti)===0)return v;if(c){var f=n.$$legacy;return(function(g,S){return arguments.length>0?((!i||!S||f||p)&&c(S?v():g),g):v()})}var m=!1,_=An(()=>(m=!1,v()));u(_);var C=I;return(function(g,S){if(arguments.length>0){const E=S?u(_):i&&s?it(g):g;return b(_,E),m=!0,a!==void 0&&(a=E),g}return Qe&&m||(C.f&Ye)!==0?_.v:u(_)})}function en(n){$===null&&vr(),pt&&$.l!==null?js($).m.push(n):pn(()=>{const e=T(n);if(typeof e=="function")return e})}function qs(n,e,{bubbles:t=!1,cancelable:r=!1}={}){return new CustomEvent(n,{detail:e,bubbles:t,cancelable:r})}function Rt(){const n=$;return n===null&&vr(),(e,t,r)=>{const i=n.s.$$events?.[e];if(i){const s=dt(i)?i.slice():[i],a=qs(e,t,r);for(const o of s)o.call(n.x,a);return!a.defaultPrevented}return!0}}function js(n){var e=n.l;return e.u??={a:[],b:[],m:[]}}const Hs="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(Hs);Vi();class ue extends Error{constructor(e){super("ClientResponseError"),this.url="",this.status=0,this.response={},this.isAbort=!1,this.originalError=null,Object.setPrototypeOf(this,ue.prototype),e!==null&&typeof e=="object"&&(this.url=typeof e.url=="string"?e.url:"",this.status=typeof e.status=="number"?e.status:0,this.isAbort=!!e.isAbort,this.originalError=e.originalError,e.response!==null&&typeof e.response=="object"?this.response=e.response:e.data!==null&&typeof e.data=="object"?this.response=e.data:this.response={}),this.originalError||e instanceof ue||(this.originalError=e),typeof DOMException<"u"&&e instanceof DOMException&&(this.isAbort=!0),this.name="ClientResponseError "+this.status,this.message=this.response?.message,this.message||(this.isAbort?this.message="The request was autocancelled. You can find more info in https://github.com/pocketbase/js-sdk#auto-cancellation.":this.originalError?.cause?.message?.includes("ECONNREFUSED ::1")?this.message="Failed to connect to the PocketBase server. Try changing the SDK URL from localhost to 127.0.0.1 (https://github.com/pocketbase/js-sdk/issues/21).":this.message="Something went wrong."),this.cause=this.originalError}get data(){return this.response}toJSON(){return{...this}}}const It=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function Vs(n,e){const t={};if(typeof n!="string")return t;const r=Object.assign({},{}).decode||Ns;let i=0;for(;i<n.length;){const s=n.indexOf("=",i);if(s===-1)break;let a=n.indexOf(";",i);if(a===-1)a=n.length;else if(a<s){i=n.lastIndexOf(";",s-1)+1;continue}const o=n.slice(i,s).trim();if(t[o]===void 0){let l=n.slice(s+1,a).trim();l.charCodeAt(0)===34&&(l=l.slice(1,-1));try{t[o]=r(l)}catch{t[o]=l}}i=a+1}return t}function rr(n,e,t){const r=Object.assign({},t||{}),i=r.encode||Us;if(!It.test(n))throw new TypeError("argument name is invalid");const s=i(e);if(s&&!It.test(s))throw new TypeError("argument val is invalid");let a=n+"="+s;if(r.maxAge!=null){const o=r.maxAge-0;if(isNaN(o)||!isFinite(o))throw new TypeError("option maxAge is invalid");a+="; Max-Age="+Math.floor(o)}if(r.domain){if(!It.test(r.domain))throw new TypeError("option domain is invalid");a+="; Domain="+r.domain}if(r.path){if(!It.test(r.path))throw new TypeError("option path is invalid");a+="; Path="+r.path}if(r.expires){if(!(function(l){return Object.prototype.toString.call(l)==="[object Date]"||l instanceof Date})(r.expires)||isNaN(r.expires.valueOf()))throw new TypeError("option expires is invalid");a+="; Expires="+r.expires.toUTCString()}if(r.httpOnly&&(a+="; HttpOnly"),r.secure&&(a+="; Secure"),r.priority)switch(typeof r.priority=="string"?r.priority.toLowerCase():r.priority){case"low":a+="; Priority=Low";break;case"medium":a+="; Priority=Medium";break;case"high":a+="; Priority=High";break;default:throw new TypeError("option priority is invalid")}if(r.sameSite)switch(typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite){case!0:a+="; SameSite=Strict";break;case"lax":a+="; SameSite=Lax";break;case"strict":a+="; SameSite=Strict";break;case"none":a+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return a}function Ns(n){return n.indexOf("%")!==-1?decodeURIComponent(n):n}function Us(n){return encodeURIComponent(n)}const Ds=typeof navigator<"u"&&navigator.product==="ReactNative"||typeof global<"u"&&global.HermesInternal;let Yr;function lt(n){if(n)try{const e=decodeURIComponent(Yr(n.split(".")[1]).split("").map((function(t){return"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)})).join(""));return JSON.parse(e)||{}}catch{}return{}}function Qr(n,e=0){let t=lt(n);return!(Object.keys(t).length>0&&(!t.exp||t.exp-e>Date.now()/1e3))}Yr=typeof atob!="function"||Ds?n=>{let e=String(n).replace(/=+$/,"");if(e.length%4==1)throw new Error("'atob' failed: The string to be decoded is not correctly encoded.");for(var t,r,i=0,s=0,a="";r=e.charAt(s++);~r&&(t=i%4?64*t+r:r,i++%4)?a+=String.fromCharCode(255&t>>(-2*i&6)):0)r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(r);return a}:atob;const ir="pb_auth";class Nn{constructor(){this.baseToken="",this.baseModel=null,this._onChangeCallbacks=[]}get token(){return this.baseToken}get record(){return this.baseModel}get model(){return this.baseModel}get isValid(){return!Qr(this.token)}get isSuperuser(){let e=lt(this.token);return e.type=="auth"&&(this.record?.collectionName=="_superusers"||!this.record?.collectionName&&e.collectionId=="pbc_3142635823")}get isAdmin(){return console.warn("Please replace pb.authStore.isAdmin with pb.authStore.isSuperuser OR simply check the value of pb.authStore.record?.collectionName"),this.isSuperuser}get isAuthRecord(){return console.warn("Please replace pb.authStore.isAuthRecord with !pb.authStore.isSuperuser OR simply check the value of pb.authStore.record?.collectionName"),lt(this.token).type=="auth"&&!this.isSuperuser}save(e,t){this.baseToken=e||"",this.baseModel=t||null,this.triggerChange()}clear(){this.baseToken="",this.baseModel=null,this.triggerChange()}loadFromCookie(e,t=ir){const r=Vs(e||"")[t]||"";let i={};try{i=JSON.parse(r),(typeof i===null||typeof i!="object"||Array.isArray(i))&&(i={})}catch{}this.save(i.token||"",i.record||i.model||null)}exportToCookie(e,t=ir){const r={secure:!0,sameSite:!0,httpOnly:!0,path:"/"},i=lt(this.token);r.expires=i?.exp?new Date(1e3*i.exp):new Date("1970-01-01"),e=Object.assign({},r,e);const s={token:this.token,record:this.record?JSON.parse(JSON.stringify(this.record)):null};let a=rr(t,JSON.stringify(s),e);const o=typeof Blob<"u"?new Blob([a]).size:a.length;if(s.record&&o>4096){s.record={id:s.record?.id,email:s.record?.email};const l=["collectionId","collectionName","verified"];for(const c in this.record)l.includes(c)&&(s.record[c]=this.record[c]);a=rr(t,JSON.stringify(s),e)}return a}onChange(e,t=!1){return this._onChangeCallbacks.push(e),t&&e(this.token,this.record),()=>{for(let r=this._onChangeCallbacks.length-1;r>=0;r--)if(this._onChangeCallbacks[r]==e)return delete this._onChangeCallbacks[r],void this._onChangeCallbacks.splice(r,1)}}triggerChange(){for(const e of this._onChangeCallbacks)e&&e(this.token,this.record)}}class Ms extends Nn{constructor(e="pocketbase_auth"){super(),this.storageFallback={},this.storageKey=e,this._bindStorageEvent()}get token(){return(this._storageGet(this.storageKey)||{}).token||""}get record(){const e=this._storageGet(this.storageKey)||{};return e.record||e.model||null}get model(){return this.record}save(e,t){this._storageSet(this.storageKey,{token:e,record:t}),super.save(e,t)}clear(){this._storageRemove(this.storageKey),super.clear()}_storageGet(e){if(typeof window<"u"&&window?.localStorage){const t=window.localStorage.getItem(e)||"";try{return JSON.parse(t)}catch{return t}}return this.storageFallback[e]}_storageSet(e,t){if(typeof window<"u"&&window?.localStorage){let r=t;typeof t!="string"&&(r=JSON.stringify(t)),window.localStorage.setItem(e,r)}else this.storageFallback[e]=t}_storageRemove(e){typeof window<"u"&&window?.localStorage&&window.localStorage?.removeItem(e),delete this.storageFallback[e]}_bindStorageEvent(){typeof window<"u"&&window?.localStorage&&window.addEventListener&&window.addEventListener("storage",(e=>{if(e.key!=this.storageKey)return;const t=this._storageGet(this.storageKey)||{};super.save(t.token||"",t.record||t.model||null)}))}}class Ae{constructor(e){this.client=e}}class Bs extends Ae{async getAll(e){return e=Object.assign({method:"GET"},e),this.client.send("/api/settings",e)}async update(e,t){return t=Object.assign({method:"PATCH",body:e},t),this.client.send("/api/settings",t)}async testS3(e="storage",t){return t=Object.assign({method:"POST",body:{filesystem:e}},t),this.client.send("/api/settings/test/s3",t).then((()=>!0))}async testEmail(e,t,r,i){return i=Object.assign({method:"POST",body:{email:t,template:r,collection:e}},i),this.client.send("/api/settings/test/email",i).then((()=>!0))}async generateAppleClientSecret(e,t,r,i,s,a){return a=Object.assign({method:"POST",body:{clientId:e,teamId:t,keyId:r,privateKey:i,duration:s}},a),this.client.send("/api/settings/apple/generate-client-secret",a)}}const Fs=["requestKey","$cancelKey","$autoCancel","fetch","headers","body","query","params","cache","credentials","headers","integrity","keepalive","method","mode","redirect","referrer","referrerPolicy","signal","window"];function Un(n){if(n){n.query=n.query||{};for(let e in n)Fs.includes(e)||(n.query[e]=n[e],delete n[e])}}function Xr(n){const e=[];for(const t in n){const r=encodeURIComponent(t),i=Array.isArray(n[t])?n[t]:[n[t]];for(let s of i)s=$s(s),s!==null&&e.push(r+"="+s)}return e.join("&")}function $s(n){return n==null?null:n instanceof Date?encodeURIComponent(n.toISOString().replace("T"," ")):encodeURIComponent(typeof n=="object"?JSON.stringify(n):n)}class ei extends Ae{constructor(){super(...arguments),this.clientId="",this.eventSource=null,this.subscriptions={},this.lastSentSubscriptions=[],this.maxConnectTimeout=15e3,this.reconnectAttempts=0,this.maxReconnectAttempts=1/0,this.predefinedReconnectIntervals=[200,300,500,1e3,1200,1500,2e3],this.pendingConnects=[]}get isConnected(){return!!this.eventSource&&!!this.clientId&&!this.pendingConnects.length}async subscribe(e,t,r){if(!e)throw new Error("topic must be set.");let i=e;if(r){Un(r=Object.assign({},r));const a="options="+encodeURIComponent(JSON.stringify({query:r.query,headers:r.headers}));i+=(i.includes("?")?"&":"?")+a}const s=function(a){const o=a;let l;try{l=JSON.parse(o?.data)}catch{}t(l||{})};return this.subscriptions[i]||(this.subscriptions[i]=[]),this.subscriptions[i].push(s),this.isConnected?this.subscriptions[i].length===1?await this.submitSubscriptions():this.eventSource?.addEventListener(i,s):await this.connect(),async()=>this.unsubscribeByTopicAndListener(e,s)}async unsubscribe(e){let t=!1;if(e){const r=this.getSubscriptionsByTopic(e);for(let i in r)if(this.hasSubscriptionListeners(i)){for(let s of this.subscriptions[i])this.eventSource?.removeEventListener(i,s);delete this.subscriptions[i],t||(t=!0)}}else this.subscriptions={};this.hasSubscriptionListeners()?t&&await this.submitSubscriptions():this.disconnect()}async unsubscribeByPrefix(e){let t=!1;for(let r in this.subscriptions)if((r+"?").startsWith(e)){t=!0;for(let i of this.subscriptions[r])this.eventSource?.removeEventListener(r,i);delete this.subscriptions[r]}t&&(this.hasSubscriptionListeners()?await this.submitSubscriptions():this.disconnect())}async unsubscribeByTopicAndListener(e,t){let r=!1;const i=this.getSubscriptionsByTopic(e);for(let s in i){if(!Array.isArray(this.subscriptions[s])||!this.subscriptions[s].length)continue;let a=!1;for(let o=this.subscriptions[s].length-1;o>=0;o--)this.subscriptions[s][o]===t&&(a=!0,delete this.subscriptions[s][o],this.subscriptions[s].splice(o,1),this.eventSource?.removeEventListener(s,t));a&&(this.subscriptions[s].length||delete this.subscriptions[s],r||this.hasSubscriptionListeners(s)||(r=!0))}this.hasSubscriptionListeners()?r&&await this.submitSubscriptions():this.disconnect()}hasSubscriptionListeners(e){if(this.subscriptions=this.subscriptions||{},e)return!!this.subscriptions[e]?.length;for(let t in this.subscriptions)if(this.subscriptions[t]?.length)return!0;return!1}async submitSubscriptions(){if(this.clientId)return this.addAllSubscriptionListeners(),this.lastSentSubscriptions=this.getNonEmptySubscriptionKeys(),this.client.send("/api/realtime",{method:"POST",body:{clientId:this.clientId,subscriptions:this.lastSentSubscriptions},requestKey:this.getSubscriptionsCancelKey()}).catch((e=>{if(!e?.isAbort)throw e}))}getSubscriptionsCancelKey(){return"realtime_"+this.clientId}getSubscriptionsByTopic(e){const t={};e=e.includes("?")?e:e+"?";for(let r in this.subscriptions)(r+"?").startsWith(e)&&(t[r]=this.subscriptions[r]);return t}getNonEmptySubscriptionKeys(){const e=[];for(let t in this.subscriptions)this.subscriptions[t].length&&e.push(t);return e}addAllSubscriptionListeners(){if(this.eventSource){this.removeAllSubscriptionListeners();for(let e in this.subscriptions)for(let t of this.subscriptions[e])this.eventSource.addEventListener(e,t)}}removeAllSubscriptionListeners(){if(this.eventSource)for(let e in this.subscriptions)for(let t of this.subscriptions[e])this.eventSource.removeEventListener(e,t)}async connect(){if(!(this.reconnectAttempts>0))return new Promise(((e,t)=>{this.pendingConnects.push({resolve:e,reject:t}),this.pendingConnects.length>1||this.initConnect()}))}initConnect(){this.disconnect(!0),clearTimeout(this.connectTimeoutId),this.connectTimeoutId=setTimeout((()=>{this.connectErrorHandler(new Error("EventSource connect took too long."))}),this.maxConnectTimeout),this.eventSource=new EventSource(this.client.buildURL("/api/realtime")),this.eventSource.onerror=e=>{this.connectErrorHandler(new Error("Failed to establish realtime connection."))},this.eventSource.addEventListener("PB_CONNECT",(e=>{const t=e;this.clientId=t?.lastEventId,this.submitSubscriptions().then((async()=>{let r=3;for(;this.hasUnsentSubscriptions()&&r>0;)r--,await this.submitSubscriptions()})).then((()=>{for(let i of this.pendingConnects)i.resolve();this.pendingConnects=[],this.reconnectAttempts=0,clearTimeout(this.reconnectTimeoutId),clearTimeout(this.connectTimeoutId);const r=this.getSubscriptionsByTopic("PB_CONNECT");for(let i in r)for(let s of r[i])s(e)})).catch((r=>{this.clientId="",this.connectErrorHandler(r)}))}))}hasUnsentSubscriptions(){const e=this.getNonEmptySubscriptionKeys();if(e.length!=this.lastSentSubscriptions.length)return!0;for(const t of e)if(!this.lastSentSubscriptions.includes(t))return!0;return!1}connectErrorHandler(e){if(clearTimeout(this.connectTimeoutId),clearTimeout(this.reconnectTimeoutId),!this.clientId&&!this.reconnectAttempts||this.reconnectAttempts>this.maxReconnectAttempts){for(let r of this.pendingConnects)r.reject(new ue(e));return this.pendingConnects=[],void this.disconnect()}this.disconnect(!0);const t=this.predefinedReconnectIntervals[this.reconnectAttempts]||this.predefinedReconnectIntervals[this.predefinedReconnectIntervals.length-1];this.reconnectAttempts++,this.reconnectTimeoutId=setTimeout((()=>{this.initConnect()}),t)}disconnect(e=!1){if(this.clientId&&this.onDisconnect&&this.onDisconnect(Object.keys(this.subscriptions)),clearTimeout(this.connectTimeoutId),clearTimeout(this.reconnectTimeoutId),this.removeAllSubscriptionListeners(),this.client.cancelRequest(this.getSubscriptionsCancelKey()),this.eventSource?.close(),this.eventSource=null,this.clientId="",!e){this.reconnectAttempts=0;for(let t of this.pendingConnects)t.resolve();this.pendingConnects=[]}}}class ti extends Ae{decode(e){return e}async getFullList(e,t){if(typeof e=="number")return this._getFullList(e,t);let r=500;return(t=Object.assign({},e,t)).batch&&(r=t.batch,delete t.batch),this._getFullList(r,t)}async getList(e=1,t=30,r){return(r=Object.assign({method:"GET"},r)).query=Object.assign({page:e,perPage:t},r.query),this.client.send(this.baseCrudPath,r).then((i=>(i.items=i.items?.map((s=>this.decode(s)))||[],i)))}async getFirstListItem(e,t){return(t=Object.assign({requestKey:"one_by_filter_"+this.baseCrudPath+"_"+e},t)).query=Object.assign({filter:e,skipTotal:1},t.query),this.getList(1,1,t).then((r=>{if(!r?.items?.length)throw new ue({status:404,response:{code:404,message:"The requested resource wasn't found.",data:{}}});return r.items[0]}))}async getOne(e,t){if(!e)throw new ue({url:this.client.buildURL(this.baseCrudPath+"/"),status:404,response:{code:404,message:"Missing required record id.",data:{}}});return t=Object.assign({method:"GET"},t),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(e),t).then((r=>this.decode(r)))}async create(e,t){return t=Object.assign({method:"POST",body:e},t),this.client.send(this.baseCrudPath,t).then((r=>this.decode(r)))}async update(e,t,r){return r=Object.assign({method:"PATCH",body:t},r),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(e),r).then((i=>this.decode(i)))}async delete(e,t){return t=Object.assign({method:"DELETE"},t),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(e),t).then((()=>!0))}_getFullList(e=500,t){(t=t||{}).query=Object.assign({skipTotal:1},t.query);let r=[],i=async s=>this.getList(s,e||500,t).then((a=>{const o=a.items;return r=r.concat(o),o.length==a.perPage?i(s+1):r}));return i(1)}}function je(n,e,t,r){const i=r!==void 0;return i||t!==void 0?i?(console.warn(n),e.body=Object.assign({},e.body,t),e.query=Object.assign({},e.query,r),e):Object.assign(e,t):e}function fn(n){n._resetAutoRefresh?.()}class Ks extends ti{constructor(e,t){super(e),this.collectionIdOrName=t}get baseCrudPath(){return this.baseCollectionPath+"/records"}get baseCollectionPath(){return"/api/collections/"+encodeURIComponent(this.collectionIdOrName)}get isSuperusers(){return this.collectionIdOrName=="_superusers"||this.collectionIdOrName=="_pbc_2773867675"}async subscribe(e,t,r){if(!e)throw new Error("Missing topic.");if(!t)throw new Error("Missing subscription callback.");return this.client.realtime.subscribe(this.collectionIdOrName+"/"+e,t,r)}async unsubscribe(e){return e?this.client.realtime.unsubscribe(this.collectionIdOrName+"/"+e):this.client.realtime.unsubscribeByPrefix(this.collectionIdOrName)}async getFullList(e,t){if(typeof e=="number")return super.getFullList(e,t);const r=Object.assign({},e,t);return super.getFullList(r)}async getList(e=1,t=30,r){return super.getList(e,t,r)}async getFirstListItem(e,t){return super.getFirstListItem(e,t)}async getOne(e,t){return super.getOne(e,t)}async create(e,t){return super.create(e,t)}async update(e,t,r){return super.update(e,t,r).then((i=>{if(this.client.authStore.record?.id===i?.id&&(this.client.authStore.record?.collectionId===this.collectionIdOrName||this.client.authStore.record?.collectionName===this.collectionIdOrName)){let s=Object.assign({},this.client.authStore.record.expand),a=Object.assign({},this.client.authStore.record,i);s&&(a.expand=Object.assign(s,i.expand)),this.client.authStore.save(this.client.authStore.token,a)}return i}))}async delete(e,t){return super.delete(e,t).then((r=>(!r||this.client.authStore.record?.id!==e||this.client.authStore.record?.collectionId!==this.collectionIdOrName&&this.client.authStore.record?.collectionName!==this.collectionIdOrName||this.client.authStore.clear(),r)))}authResponse(e){const t=this.decode(e?.record||{});return this.client.authStore.save(e?.token,t),Object.assign({},e,{token:e?.token||"",record:t})}async listAuthMethods(e){return e=Object.assign({method:"GET",fields:"mfa,otp,password,oauth2"},e),this.client.send(this.baseCollectionPath+"/auth-methods",e)}async authWithPassword(e,t,r){let i;r=Object.assign({method:"POST",body:{identity:e,password:t}},r),this.isSuperusers&&(i=r.autoRefreshThreshold,delete r.autoRefreshThreshold,r.autoRefresh||fn(this.client));let s=await this.client.send(this.baseCollectionPath+"/auth-with-password",r);return s=this.authResponse(s),i&&this.isSuperusers&&(function(o,l,c,h){fn(o);const d=o.beforeSend,p=o.authStore.record,v=o.authStore.onChange(((f,m)=>{(!f||m?.id!=p?.id||(m?.collectionId||p?.collectionId)&&m?.collectionId!=p?.collectionId)&&fn(o)}));o._resetAutoRefresh=function(){v(),o.beforeSend=d,delete o._resetAutoRefresh},o.beforeSend=async(f,m)=>{const _=o.authStore.token;if(m.query?.autoRefresh)return d?d(f,m):{url:f,sendOptions:m};let C=o.authStore.isValid;if(C&&Qr(o.authStore.token,l))try{await c()}catch{C=!1}C||await h();const g=m.headers||{};for(let S in g)if(S.toLowerCase()=="authorization"&&_==g[S]&&o.authStore.token){g[S]=o.authStore.token;break}return m.headers=g,d?d(f,m):{url:f,sendOptions:m}}})(this.client,i,(()=>this.authRefresh({autoRefresh:!0})),(()=>this.authWithPassword(e,t,Object.assign({autoRefresh:!0},r)))),s}async authWithOAuth2Code(e,t,r,i,s,a,o){let l={method:"POST",body:{provider:e,code:t,codeVerifier:r,redirectURL:i,createData:s}};return l=je("This form of authWithOAuth2Code(provider, code, codeVerifier, redirectURL, createData?, body?, query?) is deprecated. Consider replacing it with authWithOAuth2Code(provider, code, codeVerifier, redirectURL, createData?, options?).",l,a,o),this.client.send(this.baseCollectionPath+"/auth-with-oauth2",l).then((c=>this.authResponse(c)))}authWithOAuth2(...e){if(e.length>1||typeof e?.[0]=="string")return console.warn("PocketBase: This form of authWithOAuth2() is deprecated and may get removed in the future. Please replace with authWithOAuth2Code() OR use the authWithOAuth2() realtime form as shown in https://pocketbase.io/docs/authentication/#oauth2-integration."),this.authWithOAuth2Code(e?.[0]||"",e?.[1]||"",e?.[2]||"",e?.[3]||"",e?.[4]||{},e?.[5]||{},e?.[6]||{});const t=e?.[0]||{};let r=null;t.urlCallback||(r=sr(void 0));const i=new ei(this.client);function s(){r?.close(),i.unsubscribe()}const a={},o=t.requestKey;return o&&(a.requestKey=o),this.listAuthMethods(a).then((l=>{const c=l.oauth2.providers.find((p=>p.name===t.provider));if(!c)throw new ue(new Error(`Missing or invalid provider "${t.provider}".`));const h=this.client.buildURL("/api/oauth2-redirect"),d=o?this.client.cancelControllers?.[o]:void 0;return d&&(d.signal.onabort=()=>{s()}),new Promise((async(p,v)=>{try{await i.subscribe("@oauth2",(async C=>{const g=i.clientId;try{if(!C.state||g!==C.state)throw new Error("State parameters don't match.");if(C.error||!C.code)throw new Error("OAuth2 redirect error or missing code: "+C.error);const S=Object.assign({},t);delete S.provider,delete S.scopes,delete S.createData,delete S.urlCallback,d?.signal?.onabort&&(d.signal.onabort=null);const E=await this.authWithOAuth2Code(c.name,C.code,c.codeVerifier,h,t.createData,S);p(E)}catch(S){v(new ue(S))}s()}));const f={state:i.clientId};t.scopes?.length&&(f.scope=t.scopes.join(" "));const m=this._replaceQueryParams(c.authURL+h,f);await(t.urlCallback||function(C){r?r.location.href=C:r=sr(C)})(m)}catch(f){s(),v(new ue(f))}}))})).catch((l=>{throw s(),l}))}async authRefresh(e,t){let r={method:"POST"};return r=je("This form of authRefresh(body?, query?) is deprecated. Consider replacing it with authRefresh(options?).",r,e,t),this.client.send(this.baseCollectionPath+"/auth-refresh",r).then((i=>this.authResponse(i)))}async requestPasswordReset(e,t,r){let i={method:"POST",body:{email:e}};return i=je("This form of requestPasswordReset(email, body?, query?) is deprecated. Consider replacing it with requestPasswordReset(email, options?).",i,t,r),this.client.send(this.baseCollectionPath+"/request-password-reset",i).then((()=>!0))}async confirmPasswordReset(e,t,r,i,s){let a={method:"POST",body:{token:e,password:t,passwordConfirm:r}};return a=je("This form of confirmPasswordReset(token, password, passwordConfirm, body?, query?) is deprecated. Consider replacing it with confirmPasswordReset(token, password, passwordConfirm, options?).",a,i,s),this.client.send(this.baseCollectionPath+"/confirm-password-reset",a).then((()=>!0))}async requestVerification(e,t,r){let i={method:"POST",body:{email:e}};return i=je("This form of requestVerification(email, body?, query?) is deprecated. Consider replacing it with requestVerification(email, options?).",i,t,r),this.client.send(this.baseCollectionPath+"/request-verification",i).then((()=>!0))}async confirmVerification(e,t,r){let i={method:"POST",body:{token:e}};return i=je("This form of confirmVerification(token, body?, query?) is deprecated. Consider replacing it with confirmVerification(token, options?).",i,t,r),this.client.send(this.baseCollectionPath+"/confirm-verification",i).then((()=>{const s=lt(e),a=this.client.authStore.record;return a&&!a.verified&&a.id===s.id&&a.collectionId===s.collectionId&&(a.verified=!0,this.client.authStore.save(this.client.authStore.token,a)),!0}))}async requestEmailChange(e,t,r){let i={method:"POST",body:{newEmail:e}};return i=je("This form of requestEmailChange(newEmail, body?, query?) is deprecated. Consider replacing it with requestEmailChange(newEmail, options?).",i,t,r),this.client.send(this.baseCollectionPath+"/request-email-change",i).then((()=>!0))}async confirmEmailChange(e,t,r,i){let s={method:"POST",body:{token:e,password:t}};return s=je("This form of confirmEmailChange(token, password, body?, query?) is deprecated. Consider replacing it with confirmEmailChange(token, password, options?).",s,r,i),this.client.send(this.baseCollectionPath+"/confirm-email-change",s).then((()=>{const a=lt(e),o=this.client.authStore.record;return o&&o.id===a.id&&o.collectionId===a.collectionId&&this.client.authStore.clear(),!0}))}async listExternalAuths(e,t){return this.client.collection("_externalAuths").getFullList(Object.assign({},t,{filter:this.client.filter("recordRef = {:id}",{id:e})}))}async unlinkExternalAuth(e,t,r){const i=await this.client.collection("_externalAuths").getFirstListItem(this.client.filter("recordRef = {:recordId} && provider = {:provider}",{recordId:e,provider:t}));return this.client.collection("_externalAuths").delete(i.id,r).then((()=>!0))}async requestOTP(e,t){return t=Object.assign({method:"POST",body:{email:e}},t),this.client.send(this.baseCollectionPath+"/request-otp",t)}async authWithOTP(e,t,r){return r=Object.assign({method:"POST",body:{otpId:e,password:t}},r),this.client.send(this.baseCollectionPath+"/auth-with-otp",r).then((i=>this.authResponse(i)))}async impersonate(e,t,r){(r=Object.assign({method:"POST",body:{duration:t}},r)).headers=r.headers||{},r.headers.Authorization||(r.headers.Authorization=this.client.authStore.token);const i=new ni(this.client.baseURL,new Nn,this.client.lang),s=await i.send(this.baseCollectionPath+"/impersonate/"+encodeURIComponent(e),r);return i.authStore.save(s?.token,this.decode(s?.record||{})),i}_replaceQueryParams(e,t={}){let r=e,i="";e.indexOf("?")>=0&&(r=e.substring(0,e.indexOf("?")),i=e.substring(e.indexOf("?")+1));const s={},a=i.split("&");for(const o of a){if(o=="")continue;const l=o.split("=");s[decodeURIComponent(l[0].replace(/\+/g," "))]=decodeURIComponent((l[1]||"").replace(/\+/g," "))}for(let o in t)t.hasOwnProperty(o)&&(t[o]==null?delete s[o]:s[o]=t[o]);i="";for(let o in s)s.hasOwnProperty(o)&&(i!=""&&(i+="&"),i+=encodeURIComponent(o.replace(/%20/g,"+"))+"="+encodeURIComponent(s[o].replace(/%20/g,"+")));return i!=""?r+"?"+i:r}}function sr(n){if(typeof window>"u"||!window?.open)throw new ue(new Error("Not in a browser context - please pass a custom urlCallback function."));let e=1024,t=768,r=window.innerWidth,i=window.innerHeight;e=e>r?r:e,t=t>i?i:t;let s=r/2-e/2,a=i/2-t/2;return window.open(n,"popup_window","width="+e+",height="+t+",top="+a+",left="+s+",resizable,menubar=no")}class Ws extends ti{get baseCrudPath(){return"/api/collections"}async import(e,t=!1,r){return r=Object.assign({method:"PUT",body:{collections:e,deleteMissing:t}},r),this.client.send(this.baseCrudPath+"/import",r).then((()=>!0))}async getScaffolds(e){return e=Object.assign({method:"GET"},e),this.client.send(this.baseCrudPath+"/meta/scaffolds",e)}async truncate(e,t){return t=Object.assign({method:"DELETE"},t),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(e)+"/truncate",t).then((()=>!0))}}class Js extends Ae{async getList(e=1,t=30,r){return(r=Object.assign({method:"GET"},r)).query=Object.assign({page:e,perPage:t},r.query),this.client.send("/api/logs",r)}async getOne(e,t){if(!e)throw new ue({url:this.client.buildURL("/api/logs/"),status:404,response:{code:404,message:"Missing required log id.",data:{}}});return t=Object.assign({method:"GET"},t),this.client.send("/api/logs/"+encodeURIComponent(e),t)}async getStats(e){return e=Object.assign({method:"GET"},e),this.client.send("/api/logs/stats",e)}}class zs extends Ae{async check(e){return e=Object.assign({method:"GET"},e),this.client.send("/api/health",e)}}class Zs extends Ae{getUrl(e,t,r={}){return console.warn("Please replace pb.files.getUrl() with pb.files.getURL()"),this.getURL(e,t,r)}getURL(e,t,r={}){if(!t||!e?.id||!e?.collectionId&&!e?.collectionName)return"";const i=[];i.push("api"),i.push("files"),i.push(encodeURIComponent(e.collectionId||e.collectionName)),i.push(encodeURIComponent(e.id)),i.push(encodeURIComponent(t));let s=this.client.buildURL(i.join("/"));if(Object.keys(r).length){r.download===!1&&delete r.download;const a=new URLSearchParams(r);s+=(s.includes("?")?"&":"?")+a}return s}async getToken(e){return e=Object.assign({method:"POST"},e),this.client.send("/api/files/token",e).then((t=>t?.token||""))}}class Gs extends Ae{async getFullList(e){return e=Object.assign({method:"GET"},e),this.client.send("/api/backups",e)}async create(e,t){return t=Object.assign({method:"POST",body:{name:e}},t),this.client.send("/api/backups",t).then((()=>!0))}async upload(e,t){return t=Object.assign({method:"POST",body:e},t),this.client.send("/api/backups/upload",t).then((()=>!0))}async delete(e,t){return t=Object.assign({method:"DELETE"},t),this.client.send(`/api/backups/${encodeURIComponent(e)}`,t).then((()=>!0))}async restore(e,t){return t=Object.assign({method:"POST"},t),this.client.send(`/api/backups/${encodeURIComponent(e)}/restore`,t).then((()=>!0))}getDownloadUrl(e,t){return console.warn("Please replace pb.backups.getDownloadUrl() with pb.backups.getDownloadURL()"),this.getDownloadURL(e,t)}getDownloadURL(e,t){return this.client.buildURL(`/api/backups/${encodeURIComponent(t)}?token=${encodeURIComponent(e)}`)}}class Ys extends Ae{async getFullList(e){return e=Object.assign({method:"GET"},e),this.client.send("/api/crons",e)}async run(e,t){return t=Object.assign({method:"POST"},t),this.client.send(`/api/crons/${encodeURIComponent(e)}`,t).then((()=>!0))}}function yn(n){return typeof Blob<"u"&&n instanceof Blob||typeof File<"u"&&n instanceof File||n!==null&&typeof n=="object"&&n.uri&&(typeof navigator<"u"&&navigator.product==="ReactNative"||typeof global<"u"&&global.HermesInternal)}function wn(n){return n&&(n.constructor?.name==="FormData"||typeof FormData<"u"&&n instanceof FormData)}function ar(n){for(const e in n){const t=Array.isArray(n[e])?n[e]:[n[e]];for(const r of t)if(yn(r))return!0}return!1}const Qs=/^[\-\.\d]+$/;function or(n){if(typeof n!="string")return n;if(n=="true")return!0;if(n=="false")return!1;if((n[0]==="-"||n[0]>="0"&&n[0]<="9")&&Qs.test(n)){let e=+n;if(""+e===n)return e}return n}class Xs extends Ae{constructor(){super(...arguments),this.requests=[],this.subs={}}collection(e){return this.subs[e]||(this.subs[e]=new ea(this.requests,e)),this.subs[e]}async send(e){const t=new FormData,r=[];for(let i=0;i<this.requests.length;i++){const s=this.requests[i];if(r.push({method:s.method,url:s.url,headers:s.headers,body:s.json}),s.files)for(let a in s.files){const o=s.files[a]||[];for(let l of o)t.append("requests."+i+"."+a,l)}}return t.append("@jsonPayload",JSON.stringify({requests:r})),e=Object.assign({method:"POST",body:t},e),this.client.send("/api/batch",e)}}class ea{constructor(e,t){this.requests=[],this.requests=e,this.collectionIdOrName=t}upsert(e,t){t=Object.assign({body:e||{}},t);const r={method:"PUT",url:"/api/collections/"+encodeURIComponent(this.collectionIdOrName)+"/records"};this.prepareRequest(r,t),this.requests.push(r)}create(e,t){t=Object.assign({body:e||{}},t);const r={method:"POST",url:"/api/collections/"+encodeURIComponent(this.collectionIdOrName)+"/records"};this.prepareRequest(r,t),this.requests.push(r)}update(e,t,r){r=Object.assign({body:t||{}},r);const i={method:"PATCH",url:"/api/collections/"+encodeURIComponent(this.collectionIdOrName)+"/records/"+encodeURIComponent(e)};this.prepareRequest(i,r),this.requests.push(i)}delete(e,t){t=Object.assign({},t);const r={method:"DELETE",url:"/api/collections/"+encodeURIComponent(this.collectionIdOrName)+"/records/"+encodeURIComponent(e)};this.prepareRequest(r,t),this.requests.push(r)}prepareRequest(e,t){if(Un(t),e.headers=t.headers,e.json={},e.files={},t.query!==void 0){const i=Xr(t.query);i&&(e.url+=(e.url.includes("?")?"&":"?")+i)}let r=t.body;wn(r)&&(r=(function(s){let a={};return s.forEach(((o,l)=>{if(l==="@jsonPayload"&&typeof o=="string")try{let c=JSON.parse(o);Object.assign(a,c)}catch(c){console.warn("@jsonPayload error:",c)}else a[l]!==void 0?(Array.isArray(a[l])||(a[l]=[a[l]]),a[l].push(or(o))):a[l]=or(o)})),a})(r));for(const i in r){const s=r[i];if(yn(s))e.files[i]=e.files[i]||[],e.files[i].push(s);else if(Array.isArray(s)){const a=[],o=[];for(const l of s)yn(l)?a.push(l):o.push(l);if(a.length>0&&a.length==s.length){e.files[i]=e.files[i]||[];for(let l of a)e.files[i].push(l)}else if(e.json[i]=o,a.length>0){let l=i;i.startsWith("+")||i.endsWith("+")||(l+="+"),e.files[l]=e.files[l]||[];for(let c of a)e.files[l].push(c)}}else e.json[i]=s}}}class ni{get baseUrl(){return this.baseURL}set baseUrl(e){this.baseURL=e}constructor(e="/",t,r="en-US"){this.cancelControllers={},this.recordServices={},this.enableAutoCancellation=!0,this.baseURL=e,this.lang=r,t?this.authStore=t:typeof window<"u"&&window.Deno?this.authStore=new Nn:this.authStore=new Ms,this.collections=new Ws(this),this.files=new Zs(this),this.logs=new Js(this),this.settings=new Bs(this),this.realtime=new ei(this),this.health=new zs(this),this.backups=new Gs(this),this.crons=new Ys(this)}get admins(){return this.collection("_superusers")}createBatch(){return new Xs(this)}collection(e){return this.recordServices[e]||(this.recordServices[e]=new Ks(this,e)),this.recordServices[e]}autoCancellation(e){return this.enableAutoCancellation=!!e,this}cancelRequest(e){return this.cancelControllers[e]&&(this.cancelControllers[e].abort(),delete this.cancelControllers[e]),this}cancelAllRequests(){for(let e in this.cancelControllers)this.cancelControllers[e].abort();return this.cancelControllers={},this}filter(e,t){if(!t)return e;for(let r in t){let i=t[r];switch(typeof i){case"boolean":case"number":i=""+i;break;case"string":i="'"+i.replace(/'/g,"\\'")+"'";break;default:i=i===null?"null":i instanceof Date?"'"+i.toISOString().replace("T"," ")+"'":"'"+JSON.stringify(i).replace(/'/g,"\\'")+"'"}e=e.replaceAll("{:"+r+"}",i)}return e}getFileUrl(e,t,r={}){return console.warn("Please replace pb.getFileUrl() with pb.files.getURL()"),this.files.getURL(e,t,r)}buildUrl(e){return console.warn("Please replace pb.buildUrl() with pb.buildURL()"),this.buildURL(e)}buildURL(e){let t=this.baseURL;return typeof window>"u"||!window.location||t.startsWith("https://")||t.startsWith("http://")||(t=window.location.origin?.endsWith("/")?window.location.origin.substring(0,window.location.origin.length-1):window.location.origin||"",this.baseURL.startsWith("/")||(t+=window.location.pathname||"/",t+=t.endsWith("/")?"":"/"),t+=this.baseURL),e&&(t+=t.endsWith("/")?"":"/",t+=e.startsWith("/")?e.substring(1):e),t}async send(e,t){t=this.initSendOptions(e,t);let r=this.buildURL(e);if(this.beforeSend){const i=Object.assign({},await this.beforeSend(r,t));i.url!==void 0||i.options!==void 0?(r=i.url||r,t=i.options||t):Object.keys(i).length&&(t=i,console?.warn&&console.warn("Deprecated format of beforeSend return: please use `return { url, options }`, instead of `return options`."))}if(t.query!==void 0){const i=Xr(t.query);i&&(r+=(r.includes("?")?"&":"?")+i),delete t.query}return this.getHeader(t.headers,"Content-Type")=="application/json"&&t.body&&typeof t.body!="string"&&(t.body=JSON.stringify(t.body)),(t.fetch||fetch)(r,t).then((async i=>{let s={};try{s=await i.json()}catch{}if(this.afterSend&&(s=await this.afterSend(i,s,t)),i.status>=400)throw new ue({url:i.url,status:i.status,data:s});return s})).catch((i=>{throw new ue(i)}))}initSendOptions(e,t){if((t=Object.assign({method:"GET"},t)).body=(function(i){if(typeof FormData>"u"||i===void 0||typeof i!="object"||i===null||wn(i)||!ar(i))return i;const s=new FormData;for(const a in i){const o=i[a];if(o!==void 0)if(typeof o!="object"||ar({data:o})){const l=Array.isArray(o)?o:[o];for(let c of l)s.append(a,c)}else{let l={};l[a]=o,s.append("@jsonPayload",JSON.stringify(l))}}return s})(t.body),Un(t),t.query=Object.assign({},t.params,t.query),t.requestKey===void 0&&(t.$autoCancel===!1||t.query.$autoCancel===!1?t.requestKey=null:(t.$cancelKey||t.query.$cancelKey)&&(t.requestKey=t.$cancelKey||t.query.$cancelKey)),delete t.$autoCancel,delete t.query.$autoCancel,delete t.$cancelKey,delete t.query.$cancelKey,this.getHeader(t.headers,"Content-Type")!==null||wn(t.body)||(t.headers=Object.assign({},t.headers,{"Content-Type":"application/json"})),this.getHeader(t.headers,"Accept-Language")===null&&(t.headers=Object.assign({},t.headers,{"Accept-Language":this.lang})),this.authStore.token&&this.getHeader(t.headers,"Authorization")===null&&(t.headers=Object.assign({},t.headers,{Authorization:this.authStore.token})),this.enableAutoCancellation&&t.requestKey!==null){const r=t.requestKey||(t.method||"GET")+e;delete t.requestKey,this.cancelRequest(r);const i=new AbortController;this.cancelControllers[r]=i,t.signal=i.signal}return t}getHeader(e,t){e=e||{},t=t.toLowerCase();for(let r in e)if(r.toLowerCase()==t)return e[r];return null}}const ht=Qt(null),ta=As([],n=>{le.collection("contests").getFullList({sort:"-created"}).then(e=>{n(e)}).catch(e=>{console.error("Error fetching contests:",e),n([])})}),tn=Qt([]);async function ri(n){try{const e=await le.collection("teams").getFullList({filter:`teacher = "${n}"`});tn.set(e)}catch(e){console.error("Error fetching teams:",e)}}const le=new ni("https://strela-vlna.gchd.cz");ht.set(le.authStore.model);le.authStore.onChange(()=>{ht.set(le.authStore.model)});const na="/assets/strelavlna-BVlyU7HX.svg",ra="/assets/for_teachers-Bln0Czng.svg";var ia=U('<li class="svelte-12bt2ui"> </li>'),sa=U('<li class="svelte-12bt2ui"> </li>'),aa=U('<li class="svelte-12bt2ui"> </li>'),oa=U('<li class="svelte-12bt2ui"> </li>'),la=U('<li class="svelte-12bt2ui"> </li>'),ca=U('<div class="modal-backdrop svelte-12bt2ui"><div class="modal-content svelte-12bt2ui"><h2> </h2> <ul class="svelte-12bt2ui"><!> <!> <!> <!> <!></ul> <button>Close</button></div></div>');function ua(n,e){Te(e,!1);let t=gt(e,"team",8);const r=Rt();De();var i=ca(),s=w(i),a=w(s),o=w(a),l=y(a,2),c=w(l);{var h=E=>{var x=ia(),O=w(x);M(()=>F(O,(N(t()),T(()=>t().player1email)))),H(E,x)};z(c,E=>{N(t()),T(()=>t().player1email)&&E(h)})}var d=y(c,2);{var p=E=>{var x=sa(),O=w(x);M(()=>F(O,(N(t()),T(()=>t().player2email)))),H(E,x)};z(d,E=>{N(t()),T(()=>t().player2email)&&E(p)})}var v=y(d,2);{var f=E=>{var x=aa(),O=w(x);M(()=>F(O,(N(t()),T(()=>t().player3email)))),H(E,x)};z(v,E=>{N(t()),T(()=>t().player3email)&&E(f)})}var m=y(v,2);{var _=E=>{var x=oa(),O=w(x);M(()=>F(O,(N(t()),T(()=>t().player4email)))),H(E,x)};z(m,E=>{N(t()),T(()=>t().player4email)&&E(_)})}var C=y(m,2);{var g=E=>{var x=la(),O=w(x);M(()=>F(O,(N(t()),T(()=>t().player5email)))),H(E,x)};z(C,E=>{N(t()),T(()=>t().player5email)&&E(g)})}var S=y(l,2);M(()=>F(o,(N(t()),T(()=>t().name)))),K("click",S,()=>r("close")),K("click",s,Ot(function(E){Yt.call(this,e,E)})),K("click",i,()=>r("close")),H(n,i),Re()}var fa=U('<button class="logout svelte-d1acce">Odhlásit</button>'),ha=U('<img alt="For Teachers"/> <div class="button-holder svelte-d1acce"><button class="register svelte-d1acce">Registrovat</button> <div class="bottom_row svelte-d1acce"><p class="or svelte-d1acce">nebo</p> <button class="login svelte-d1acce">Přihlásit</button></div></div>',1),da=U('<main><img alt="Strela Vlna Logo"/> <div class="right-section svelte-d1acce"><!></div></main>');function va(n,e){Te(e,!1);let t=gt(e,"currentUser",8);const r=Rt();function i(){r("showAuth","login")}function s(){r("showAuth","register")}function a(){le.authStore.clear(),tn.set([])}en(()=>{console.log(t())}),De();var o=da();let l;var c=w(o),h=y(c,2),d=w(h);{var p=f=>{var m=fa();K("click",m,a),H(f,m)},v=f=>{var m=ha(),_=Bt(m),C=y(_,2),g=w(C),S=y(g,2),E=y(w(S),2);M(()=>Ee(_,"src",ra)),K("click",g,s),K("click",E,i),H(f,m)};z(d,f=>{N(t()),N(le),T(()=>t()&&le.authStore.isValid)?f(p):f(v,!1)})}M(f=>{l=ks(o,1,"svelte-d1acce",null,l,f),Ee(c,"src",na)},[()=>({"logged-in":t()&&le.authStore.isValid})]),H(n,o),Re()}const pa="data:image/svg+xml,%3csvg%20width='13'%20height='13'%20viewBox='0%200%2013%2013'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20width='13'%20height='13'%20rx='3'%20fill='%23EB6E00'/%3e%3c/svg%3e",ma="data:image/svg+xml,%3csvg%20width='13'%20height='13'%20viewBox='0%200%2013%2013'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20width='13'%20height='13'%20rx='3'%20fill='%23EBAD00'/%3e%3c/svg%3e",ga="data:image/svg+xml,%3csvg%20width='13'%20height='13'%20viewBox='0%200%2013%2013'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20width='13'%20height='13'%20rx='3'%20fill='%239500EB'/%3e%3c/svg%3e",_a="data:image/svg+xml,%3csvg%20width='13'%20height='13'%20viewBox='0%200%2013%2013'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20width='13'%20height='13'%20rx='3'%20fill='%23EB0072'/%3e%3c/svg%3e",lr="data:image/svg+xml,%3csvg%20width='135'%20height='37'%20viewBox='0%200%20135%2037'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_5_165)'%3e%3cpath%20d='M26.9995%201H46.6362C47.4349%201%2048.0913%201.65213%2048.0913%202.4668V9.86621C48.0913%2010.6809%2047.4349%2011.333%2046.6362%2011.333H26.9995C26.201%2011.3328%2025.5454%2010.6807%2025.5454%209.86621V2.4668C25.5454%201.65228%2026.201%201.00024%2026.9995%201Z'%20stroke='%23002C5E'%20stroke-width='2'/%3e%3cpath%20d='M2.4541%2025.6667H34.3633C35.162%2025.6667%2035.8184%2026.3188%2035.8184%2027.1335V34.5329C35.8184%2035.3475%2035.162%2035.9997%2034.3633%2035.9997H2.4541C1.65562%2035.9994%201%2035.3474%201%2034.5329V27.1335L1.00781%2026.9831C1.08258%2026.2401%201.70539%2025.6669%202.4541%2025.6667Z'%20stroke='%23002C5E'%20stroke-width='2'/%3e%3cpath%20d='M63.8207%201H122.727C128.948%201%20134%206.06927%20134%2012.333V24.667C134%2030.9307%20128.948%2036%20122.727%2036H63.8207C63.0221%2036%2062.3639%2035.3458%2062.3636%2034.5312V2.46875C62.3638%201.65426%2063.022%201%2063.8207%201ZM114.968%2031.833H122.104C126.05%2031.833%20129.24%2028.6201%20129.241%2024.667V12.333C129.24%208.37987%20126.05%205.16699%20122.104%205.16699H114.968V31.833Z'%20stroke='%23002C5E'%20stroke-width='2'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_5_165'%3e%3crect%20width='135'%20height='37'%20fill='white'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",cr="data:image/svg+xml,%3csvg%20width='146'%20height='67'%20viewBox='0%200%20146%2067'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_5_179)'%3e%3cpath%20d='M29.2031%201H50.4336C51.3385%201%2052.0908%201.74579%2052.0908%202.68262V10.7178C52.091%2012.4914%2053.3395%2013.9849%2055.0166%2014.3271L55.0674%2014.3379L55.1191%2014.3428L55.6504%2014.3955L55.6992%2014.4004H63.7061C64.6109%2014.4004%2065.3633%2015.1461%2065.3633%2016.083V24.1172C65.3633%2026.1405%2066.9933%2027.7996%2069.0205%2027.7998H76.9795C77.8841%2027.8%2078.6366%2028.5458%2078.6367%2029.4824V37.5176C78.6368%2039.2913%2079.8852%2040.7849%2081.5625%2041.127L81.6123%2041.1377L81.6641%2041.1426L82.1953%2041.1953L82.2441%2041.2002H90.252C91.1568%2041.2002%2091.9092%2041.9459%2091.9092%2042.8828V50.917C91.9092%2052.6908%2093.1576%2054.1852%2094.835%2054.5273L94.8857%2054.5381L94.9365%2054.543L95.4678%2054.5947L95.5176%2054.5996H116.797C118.824%2054.5996%20120.454%2052.9404%20120.454%2050.917V42.8828C120.454%2041.9461%20121.207%2041.2004%20122.111%2041.2002H130.07C132.097%2041.2001%20133.727%2039.5408%20133.728%2037.5176V29.4824C133.728%2028.5455%20134.48%2027.7998%20135.385%2027.7998H143.343C144.248%2027.7998%20145%2028.5455%20145%2029.4824V37.5176C145%2038.4545%20144.248%2039.2002%20143.343%2039.2002H135.385C133.357%2039.2002%20131.728%2040.8595%20131.728%2042.8828V50.917C131.728%2051.8538%20130.975%2052.5995%20130.07%2052.5996H122.111C120.084%2052.5998%20118.454%2054.2591%20118.454%2056.2822V64.3174C118.454%2065.2542%20117.702%2066%20116.797%2066H95.5664C95.4485%2066%2095.3362%2065.9884%2095.2354%2065.9678H95.2344C94.4862%2065.815%2093.9092%2065.1382%2093.9092%2064.3174V56.2822C93.9089%2054.259%2092.2791%2052.5996%2090.252%2052.5996H82.2939C81.3891%2052.5996%2080.6367%2051.8539%2080.6367%2050.917V42.8828C80.6367%2040.8595%2079.0067%2039.2004%2076.9795%2039.2002H69.0205C68.1159%2039.2%2067.3634%2038.4542%2067.3633%2037.5176V29.4824C67.3631%2027.4591%2065.7333%2025.7998%2063.7061%2025.7998H55.748C54.8432%2025.7998%2054.0908%2025.0541%2054.0908%2024.1172V16.083C54.0908%2014.0596%2052.461%2012.4004%2050.4336%2012.4004H29.2031C27.1758%2012.4004%2025.5459%2014.0596%2025.5459%2016.083V24.1172C25.5459%2025.0539%2024.7933%2025.7996%2023.8887%2025.7998H15.9297C13.9025%2025.7999%2012.2726%2027.4592%2012.2725%2029.4824V37.5176C12.2723%2038.4544%2011.5199%2039.2002%2010.6152%2039.2002H2.65723C1.75253%2039.2002%201.00014%2038.4544%201%2037.5176V29.4824C1.00014%2028.5456%201.75253%2027.7998%202.65723%2027.7998H10.6152C12.6426%2027.7998%2014.2725%2026.1406%2014.2725%2024.1172V16.083C14.2725%2015.1462%2015.0249%2014.4005%2015.9297%2014.4004H23.8887C25.9157%2014.4002%2027.5457%2012.7409%2027.5459%2010.7178V2.68262C27.5459%201.74579%2028.2983%201%2029.2031%201Z'%20stroke='%23002C5E'%20stroke-width='2'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_5_179'%3e%3crect%20width='146'%20height='67'%20fill='white'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e";var ba=U('<p class="error svelte-11if7ae"> </p>'),ya=U('<div class="modal-backdrop svelte-11if7ae"><div class="modal-content svelte-11if7ae"><h2 class="title svelte-11if7ae">Registrovat tym do:<br/> <span class="contest-name svelte-11if7ae"> </span></h2> <form class="svelte-11if7ae"><input class="team-name svelte-11if7ae" type="text" placeholder="Nazev tymu" required/> <input class="email1 svelte-11if7ae" type="email" placeholder="Email hrace 1"/> <input class="email1 svelte-11if7ae" type="text" placeholder="Jmeno hrace 1"/> <input class="email2 svelte-11if7ae" type="email" placeholder="Email hrace 2"/> <input class="email2 svelte-11if7ae" type="text" placeholder="Jmeno hrace 2"/> <input class="email3 svelte-11if7ae" type="email" placeholder="Email hrace 3"/> <input class="email3 svelte-11if7ae" type="text" placeholder="Jmeno hrace 3"/> <input class="email4 svelte-11if7ae" type="email" placeholder="Email hrace 4"/> <input class="email4 svelte-11if7ae" type="text" placeholder="Jmeno hrace 4"/> <input class="email5 svelte-11if7ae" type="email" placeholder="Email hrace 5"/> <input class="email5 svelte-11if7ae" type="text" placeholder="Jmeno hrace 5"/> <button type="submit">Registrovat</button></form> <!></div></div>');function ii(n,e){Te(e,!1);const t=()=>ze(ht,"$authStore",r),[r,i]=Xt(),s=Rt();let a=gt(e,"contest",8),o=A(""),l=A(""),c=A(""),h=A(""),d=A(""),p=A(""),v=A(""),f=A(""),m=A(""),_=A(""),C=A(""),g=A("");en(()=>{a()||b(g,"Contest object is missing.")});async function S(){if(b(g,""),!u(o)){b(g,"Team name is required.");return}try{await le.collection("teams").create({name:u(o),player1email:u(l),player2email:u(c),player3email:u(h),player4email:u(d),player5email:u(p),player1name:u(v),player2name:u(f),player3name:u(m),player4name:u(_),player5name:u(C),contest:a().id,teacher:t()?.id}),s("created"),s("close")}catch(R){console.error("Add Team Error:",R),b(g,"Failed to add team.")}}De();var E=ya(),x=w(E),O=w(x),k=y(w(O),3),j=w(k),V=y(O,2),G=w(V),B=y(G,2),P=y(B,2),ee=y(P,2),te=y(ee,2),ne=y(te,2),Y=y(ne,2),oe=y(Y,2),ge=y(oe,2),he=y(ge,2),Se=y(he,2),Xe=y(V,2);{var et=R=>{var Ie=ba(),_t=w(Ie);M(()=>F(_t,u(g))),H(R,Ie)};z(Xe,R=>{u(g)&&R(et)})}M(()=>F(j,(N(a()),T(()=>a().name)))),ie(G,()=>u(o),R=>b(o,R)),ie(B,()=>u(l),R=>b(l,R)),ie(P,()=>u(v),R=>b(v,R)),ie(ee,()=>u(c),R=>b(c,R)),ie(te,()=>u(f),R=>b(f,R)),ie(ne,()=>u(h),R=>b(h,R)),ie(Y,()=>u(m),R=>b(m,R)),ie(oe,()=>u(d),R=>b(d,R)),ie(ge,()=>u(_),R=>b(_,R)),ie(he,()=>u(p),R=>b(p,R)),ie(Se,()=>u(C),R=>b(C,R)),K("submit",V,_n(S)),K("click",x,Ot(function(R){Yt.call(this,e,R)})),K("click",E,()=>s("close")),H(n,E),Re(),i()}const wa="data:image/svg+xml,%3csvg%20width='52'%20height='91'%20viewBox='0%200%2052%2091'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20x='13'%20y='78'%20width='13'%20height='13'%20rx='3'%20fill='%23EBAD00'/%3e%3cpath%20d='M41.99%2026H49.01C50.6613%2026%2052%2024.6614%2052%2023.01V15.99C52%2014.3386%2050.6613%2013%2049.01%2013H41.99C40.3387%2013%2039%2011.6613%2039%2010.01V2.99C39%201.33868%2037.6614%200%2036.01%200H28.99C27.3386%200%2026%201.33868%2026%202.99V10.01C26%2011.6613%2027.3386%2013%2028.99%2013H36.01C37.6614%2013%2039%2014.3386%2039%2015.99V23.01C39%2024.6614%2040.3387%2026%2041.99%2026Z'%20fill='%23EBAD00'/%3e%3cpath%20d='M36.01%2052H28.99C27.3387%2052%2026%2050.6614%2026%2049.01V41.99C26%2040.3386%2027.3387%2039%2028.99%2039H36.01C37.6613%2039%2039%2037.6613%2039%2036.01V28.99C39%2027.3387%2040.3386%2026%2041.99%2026H49.01C50.6614%2026%2052%2027.3387%2052%2028.99V36.01C52%2037.6613%2050.6614%2039%2049.01%2039H41.99C40.3386%2039%2039%2040.3386%2039%2041.99V49.01C39%2050.6614%2037.6613%2052%2036.01%2052Z'%20fill='%23EBAD00'/%3e%3cpath%20d='M23.01%2065H15.99C14.3387%2065%2013%2063.6614%2013%2062.01V54.99C13%2053.3386%2014.3387%2052%2015.99%2052H23.01C24.6613%2052%2026%2050.6613%2026%2049.01V41.99C26%2040.3387%2027.3386%2039%2028.99%2039H36.01C37.6614%2039%2039%2040.3387%2039%2041.99V49.01C39%2050.6613%2037.6614%2052%2036.01%2052H28.99C27.3386%2052%2026%2053.3386%2026%2054.99V62.01C26%2063.6614%2024.6613%2065%2023.01%2065Z'%20fill='%23EBAD00'/%3e%3crect%20x='13'%20width='26'%20height='13'%20rx='3'%20fill='%23EBAD00'/%3e%3cpath%20d='M10.01%2026H2.99C1.33868%2026%200%2024.6614%200%2023.01V15.99C0%2014.3386%201.33868%2013%202.99%2013H10.01C11.6613%2013%2013%2011.6613%2013%2010.01V2.99C13%201.33868%2014.3386%200%2015.99%200H23.01C24.6614%200%2026%201.33868%2026%202.99V10.01C26%2011.6613%2024.6614%2013%2023.01%2013H15.99C14.3386%2013%2013%2014.3386%2013%2015.99V23.01C13%2024.6614%2011.6613%2026%2010.01%2026Z'%20fill='%23EBAD00'/%3e%3crect%20x='52'%20y='13'%20width='26'%20height='13'%20rx='3'%20transform='rotate(90%2052%2013)'%20fill='%23EBAD00'/%3e%3c/svg%3e",Ca="data:image/svg+xml,%3csvg%20width='52'%20height='91'%20viewBox='0%200%2052%2091'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20x='13'%20y='78'%20width='13'%20height='13'%20rx='3'%20fill='%23EB6E00'/%3e%3cpath%20d='M41.99%2026H49.01C50.6613%2026%2052%2024.6614%2052%2023.01V15.99C52%2014.3386%2050.6613%2013%2049.01%2013H41.99C40.3387%2013%2039%2011.6613%2039%2010.01V2.99C39%201.33868%2037.6614%200%2036.01%200H28.99C27.3386%200%2026%201.33868%2026%202.99V10.01C26%2011.6613%2027.3386%2013%2028.99%2013H36.01C37.6614%2013%2039%2014.3386%2039%2015.99V23.01C39%2024.6614%2040.3387%2026%2041.99%2026Z'%20fill='%23EB6E00'/%3e%3cpath%20d='M36.01%2052H28.99C27.3387%2052%2026%2050.6614%2026%2049.01V41.99C26%2040.3386%2027.3387%2039%2028.99%2039H36.01C37.6613%2039%2039%2037.6613%2039%2036.01V28.99C39%2027.3387%2040.3386%2026%2041.99%2026H49.01C50.6614%2026%2052%2027.3387%2052%2028.99V36.01C52%2037.6613%2050.6614%2039%2049.01%2039H41.99C40.3386%2039%2039%2040.3386%2039%2041.99V49.01C39%2050.6614%2037.6613%2052%2036.01%2052Z'%20fill='%23EB6E00'/%3e%3cpath%20d='M23.01%2065H15.99C14.3387%2065%2013%2063.6614%2013%2062.01V54.99C13%2053.3386%2014.3387%2052%2015.99%2052H23.01C24.6613%2052%2026%2050.6613%2026%2049.01V41.99C26%2040.3387%2027.3386%2039%2028.99%2039H36.01C37.6614%2039%2039%2040.3387%2039%2041.99V49.01C39%2050.6613%2037.6614%2052%2036.01%2052H28.99C27.3386%2052%2026%2053.3386%2026%2054.99V62.01C26%2063.6614%2024.6613%2065%2023.01%2065Z'%20fill='%23EB6E00'/%3e%3crect%20x='13'%20width='26'%20height='13'%20rx='3'%20fill='%23EB6E00'/%3e%3cpath%20d='M10.01%2026H2.99C1.33868%2026%200%2024.6614%200%2023.01V15.99C0%2014.3386%201.33868%2013%202.99%2013H10.01C11.6613%2013%2013%2011.6613%2013%2010.01V2.99C13%201.33868%2014.3386%200%2015.99%200H23.01C24.6614%200%2026%201.33868%2026%202.99V10.01C26%2011.6613%2024.6614%2013%2023.01%2013H15.99C14.3386%2013%2013%2014.3386%2013%2015.99V23.01C13%2024.6614%2011.6613%2026%2010.01%2026Z'%20fill='%23EB6E00'/%3e%3crect%20x='52'%20y='13'%20width='26'%20height='13'%20rx='3'%20transform='rotate(90%2052%2013)'%20fill='%23EB6E00'/%3e%3c/svg%3e",Sa="data:image/svg+xml,%3csvg%20width='52'%20height='91'%20viewBox='0%200%2052%2091'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20x='13'%20y='78'%20width='13'%20height='13'%20rx='3'%20fill='%23EB0072'/%3e%3cpath%20d='M41.99%2026H49.01C50.6613%2026%2052%2024.6614%2052%2023.01V15.99C52%2014.3386%2050.6613%2013%2049.01%2013H41.99C40.3387%2013%2039%2011.6613%2039%2010.01V2.99C39%201.33868%2037.6614%200%2036.01%200H28.99C27.3386%200%2026%201.33868%2026%202.99V10.01C26%2011.6613%2027.3386%2013%2028.99%2013H36.01C37.6614%2013%2039%2014.3386%2039%2015.99V23.01C39%2024.6614%2040.3387%2026%2041.99%2026Z'%20fill='%23EB0072'/%3e%3cpath%20d='M36.01%2052H28.99C27.3387%2052%2026%2050.6614%2026%2049.01V41.99C26%2040.3386%2027.3387%2039%2028.99%2039H36.01C37.6613%2039%2039%2037.6613%2039%2036.01V28.99C39%2027.3387%2040.3386%2026%2041.99%2026H49.01C50.6614%2026%2052%2027.3387%2052%2028.99V36.01C52%2037.6613%2050.6614%2039%2049.01%2039H41.99C40.3386%2039%2039%2040.3386%2039%2041.99V49.01C39%2050.6614%2037.6613%2052%2036.01%2052Z'%20fill='%23EB0072'/%3e%3cpath%20d='M23.01%2065H15.99C14.3387%2065%2013%2063.6614%2013%2062.01V54.99C13%2053.3386%2014.3387%2052%2015.99%2052H23.01C24.6613%2052%2026%2050.6613%2026%2049.01V41.99C26%2040.3387%2027.3386%2039%2028.99%2039H36.01C37.6614%2039%2039%2040.3387%2039%2041.99V49.01C39%2050.6613%2037.6614%2052%2036.01%2052H28.99C27.3386%2052%2026%2053.3386%2026%2054.99V62.01C26%2063.6614%2024.6613%2065%2023.01%2065Z'%20fill='%23EB0072'/%3e%3crect%20x='13'%20width='26'%20height='13'%20rx='3'%20fill='%23EB0072'/%3e%3cpath%20d='M10.01%2026H2.99C1.33868%2026%200%2024.6614%200%2023.01V15.99C0%2014.3386%201.33868%2013%202.99%2013H10.01C11.6613%2013%2013%2011.6613%2013%2010.01V2.99C13%201.33868%2014.3386%200%2015.99%200H23.01C24.6614%200%2026%201.33868%2026%202.99V10.01C26%2011.6613%2024.6614%2013%2023.01%2013H15.99C14.3386%2013%2013%2014.3386%2013%2015.99V23.01C13%2024.6614%2011.6613%2026%2010.01%2026Z'%20fill='%23EB0072'/%3e%3crect%20x='52'%20y='13'%20width='26'%20height='13'%20rx='3'%20transform='rotate(90%2052%2013)'%20fill='%23EB0072'/%3e%3c/svg%3e",Ea="data:image/svg+xml,%3csvg%20width='52'%20height='91'%20viewBox='0%200%2052%2091'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20x='13'%20y='78'%20width='13'%20height='13'%20rx='3'%20fill='%239500EB'/%3e%3cpath%20d='M41.99%2026H49.01C50.6613%2026%2052%2024.6614%2052%2023.01V15.99C52%2014.3386%2050.6613%2013%2049.01%2013H41.99C40.3387%2013%2039%2011.6613%2039%2010.01V2.99C39%201.33868%2037.6614%200%2036.01%200H28.99C27.3386%200%2026%201.33868%2026%202.99V10.01C26%2011.6613%2027.3386%2013%2028.99%2013H36.01C37.6614%2013%2039%2014.3386%2039%2015.99V23.01C39%2024.6614%2040.3387%2026%2041.99%2026Z'%20fill='%239500EB'/%3e%3cpath%20d='M36.01%2052H28.99C27.3387%2052%2026%2050.6614%2026%2049.01V41.99C26%2040.3386%2027.3387%2039%2028.99%2039H36.01C37.6613%2039%2039%2037.6613%2039%2036.01V28.99C39%2027.3387%2040.3386%2026%2041.99%2026H49.01C50.6614%2026%2052%2027.3387%2052%2028.99V36.01C52%2037.6613%2050.6614%2039%2049.01%2039H41.99C40.3386%2039%2039%2040.3386%2039%2041.99V49.01C39%2050.6614%2037.6613%2052%2036.01%2052Z'%20fill='%239500EB'/%3e%3cpath%20d='M23.01%2065H15.99C14.3387%2065%2013%2063.6614%2013%2062.01V54.99C13%2053.3386%2014.3387%2052%2015.99%2052H23.01C24.6613%2052%2026%2050.6613%2026%2049.01V41.99C26%2040.3387%2027.3386%2039%2028.99%2039H36.01C37.6614%2039%2039%2040.3387%2039%2041.99V49.01C39%2050.6613%2037.6614%2052%2036.01%2052H28.99C27.3386%2052%2026%2053.3386%2026%2054.99V62.01C26%2063.6614%2024.6613%2065%2023.01%2065Z'%20fill='%239500EB'/%3e%3crect%20x='13'%20width='26'%20height='13'%20rx='3'%20fill='%239500EB'/%3e%3cpath%20d='M10.01%2026H2.99C1.33868%2026%200%2024.6614%200%2023.01V15.99C0%2014.3386%201.33868%2013%202.99%2013H10.01C11.6613%2013%2013%2011.6613%2013%2010.01V2.99C13%201.33868%2014.3386%200%2015.99%200H23.01C24.6614%200%2026%201.33868%2026%202.99V10.01C26%2011.6613%2024.6614%2013%2023.01%2013H15.99C14.3386%2013%2013%2014.3386%2013%2015.99V23.01C13%2024.6614%2011.6613%2026%2010.01%2026Z'%20fill='%239500EB'/%3e%3crect%20x='52'%20y='13'%20width='26'%20height='13'%20rx='3'%20transform='rotate(90%2052%2013)'%20fill='%239500EB'/%3e%3c/svg%3e";var ka=U('<li class="player-item svelte-v36pde"><div class="dot svelte-v36pde"></div><span class="player-name svelte-v36pde"> </span><span class="player-email svelte-v36pde"> </span></li>'),Oa=U('<div class="popup-holder svelte-v36pde"><div class="popup svelte-v36pde"><h2 class="name svelte-v36pde"> </h2> <ul class="player-list svelte-v36pde"></ul></div></div>'),xa=U('<main class="svelte-v36pde"><!> <div class="slider svelte-v36pde"><h2 class="name svelte-v36pde"> </h2> <div class="img-wrapper svelte-v36pde"><img height="50px" class="svelte-v36pde"/></div></div></main>');function Pa(n,e){Te(e,!1);let t=[wa,Ca,Sa,Ea],r=["#fffffa","#fffbfa","#fffafe","#fefaff"],i=A(0);en(()=>{const g=setInterval(()=>{b(i,(u(i)+1)%t.length)},1e3);return()=>clearInterval(g)});let s=gt(e,"team",8),a=A([]),o=A(!1);function l(){b(o,!1)}function c(){b(o,!0)}jt(()=>N(s()),()=>{b(a,[{name:s().player1name,email:s().player1email},{name:s().player2name,email:s().player2email},{name:s().player3name,email:s().player3email},{name:s().player4name,email:s().player4email},{name:s().player5name,email:s().player5email}])}),jr(),De();var h=xa(),d=w(h);{var p=g=>{var S=Oa(),E=w(S),x=w(E),O=w(x),k=y(x,2);Je(k,5,()=>u(a),We,(j,V,G)=>{var B=gn(),P=Bt(B);{var ee=te=>{var ne=ka(),Y=w(ne),oe=y(Y),ge=w(oe),he=y(oe),Se=w(he);M(()=>{er(Y,`animation-delay:-${u(a),T(()=>u(a).length-G)??""}s`),F(ge,(u(V),T(()=>u(V).name))),F(Se,(u(V),T(()=>u(V).email)))}),H(te,ne)};z(P,te=>{u(V),T(()=>u(V).email||u(V).name)&&te(ee)})}H(j,B)}),M(()=>F(O,(N(s()),T(()=>s().name)))),K("click",E,Ot(function(j){Yt.call(this,e,j)})),K("click",S,Ot(l)),H(g,S)};z(d,g=>{u(o)&&g(p)})}var v=y(d,2),f=w(v),m=w(f),_=y(f,2),C=w(_);M(()=>{er(h,`--hover-color: ${u(i),T(()=>r[u(i)])??""}`),F(m,(N(s()),T(()=>s().name))),Ee(C,"src",(u(i),T(()=>t[u(i)])))}),K("click",h,c),H(n,h),Re()}var Ta=U('<main class="svelte-19u24fb"><!> <div class="contest-container svelte-19u24fb"><div class="tooltip svelte-19u24fb"><h3 class="svelte-19u24fb"><!></h3></div> <img alt="" class="block svelte-19u24fb" id="block-orange"/> <img alt="" class="block svelte-19u24fb" id="block-yellow"/> <img alt="" class="block svelte-19u24fb" id="block-purple"/> <img alt="" class="block svelte-19u24fb" id="block-pink"/> <div class="contest-name svelte-19u24fb"> </div> <div class="contest-type svelte-19u24fb"> </div> <div class="date-holder svelte-19u24fb"><p class="date svelte-19u24fb"> </p> <p class="remaining svelte-19u24fb"> </p></div> <div class="date-holder svelte-19u24fb"><p class="date svelte-19u24fb"> </p> <p class="remaining svelte-19u24fb"> </p></div> <img class="contest-image svelte-19u24fb"/></div> <div class="registered-team-container svelte-19u24fb"></div></main>');function Ra(n,e){Te(e,!1);const t=()=>ze(ht,"$authStore",s),r=()=>ze(tn,"$teamsStore",s),i=()=>ze(f,"$remaining_str",s),[s,a]=Xt();let o=gt(e,"contest",8),l=A(!1);function c(){t()&&b(l,!0)}async function h(){t()&&await ri(t().id)}let d=A([]),p=A([o().onlineStart,o().onSiteStart]),v=A(["",""]),f=Qt(["",""]);en(()=>{const L=setInterval(()=>{let J=["",""];for(let re=0;re<u(p).length;re++){let _e=new Date(u(p)[re]).getTime()-Date.now(),Me,Le,bt,nn;_e>0?(Me=Math.floor(_e/1e3%60),Le=Math.floor(_e/1e3/60%60),bt=Math.floor(_e/1e3/60/60%24),nn=Math.floor(_e/1e3/60/60/24)):(Me=0,Le=0,bt=0,nn=0);let si=Me<10?"0"+Me.toString():Me.toString(),ai=Le<10?"0"+Le.toString():Le.toString(),oi=bt<10?"0"+bt.toString():bt.toString(),li=nn.toString();J[re]=li+" dni "+oi+":"+ai+":"+si}f.set(J)},1e3);return()=>clearInterval(L)}),jt(()=>(r(),N(o())),()=>{b(d,r().filter(L=>L.contest===o().id))}),jt(()=>N(o()),()=>{b(p,[o().onlineStart,o().onSiteStart])}),jt(()=>u(p),()=>{for(let L=0;L<u(p).length;L++){let J=new Date(u(p)[L]).toLocaleDateString().split("/"),re=J[1]+". "+J[0]+". "+J[2];Zi(v,u(v)[L]=re)}}),jr(),De();var m=Ta(),_=w(m);{var C=L=>{ii(L,{get contest(){return o()},$$events:{close:()=>b(l,!1),created:h}})};z(_,L=>{u(l)&&L(C)})}var g=y(_,2),S=w(g),E=w(S),x=w(E);{var O=L=>{var J=Qn("Zaregistrovat tym");H(L,J)},k=L=>{var J=Qn("Pro registraci tymu se přihlaste");H(L,J)};z(x,L=>{t()?L(O):L(k,!1)})}var j=y(S,2),V=y(j,2),G=y(V,2),B=y(G,2),P=y(B,2),ee=w(P),te=y(P,2),ne=w(te),Y=y(te,2),oe=w(Y),ge=w(oe),he=y(oe,2),Se=w(he),Xe=y(Y,2),et=w(Xe),R=w(et),Ie=y(et,2),_t=w(Ie),W=y(Xe,2),Z=y(g,2);Je(Z,5,()=>u(d),We,(L,J)=>{Pa(L,{get team(){return u(J)}})}),M(()=>{Ee(j,"src",pa),Ee(V,"src",ma),Ee(G,"src",ga),Ee(B,"src",_a),F(ee,(N(o()),T(()=>o().name))),F(ne,(N(o()),T(()=>o().type=="math"?"Matematika":"Fyzika"))),F(ge,`Online: ${u(v),T(()=>u(v)[0])??""}`),F(Se,(i(),T(()=>i()[0]))),F(R,`Prezencni: ${u(v),T(()=>u(v)[1])??""}`),F(_t,(i(),T(()=>i()[1]))),Ee(W,"src",(N(o()),N(lr),N(cr),T(()=>o().type=="math"?lr:cr)))}),K("click",g,c),H(n,m),Re(),a()}var Aa=U('<form class="svelte-bv5mq0"><h2 class="svelte-bv5mq0">Prihlasit se</h2> <input type="email" placeholder="Email" required class="email svelte-bv5mq0"/> <input type="password" placeholder="Heslo" required class="password svelte-bv5mq0"/> <button type="submit">Pokracovat</button></form>'),Ia=U("<option> </option>"),La=U("<option> </option>"),qa=U("<option> </option>"),ja=U('<form class="svelte-bv5mq0"><h2 class="svelte-bv5mq0">Registrovat se</h2> <input type="email" placeholder="email" class="email svelte-bv5mq0" required/> <input type="password" placeholder="Heslo" required class="password svelte-bv5mq0"/> <input type="password" placeholder="Podtvrdte Heslo" required class="password-again svelte-bv5mq0"/> <select class="school svelte-bv5mq0"><option>Vyberte kraj</option><!></select> <select class="school svelte-bv5mq0"><option>Vyberte okres</option><!></select> <select class="school svelte-bv5mq0"><option>Vyberte školu</option><!></select> <button type="submit">Registrovat</button></form>'),Ha=U('<p class="error svelte-bv5mq0"> </p>'),Va=U('<div class="auth-modal-backdrop svelte-bv5mq0"><div class="auth-modal-content svelte-bv5mq0"><!> <!></div></div>');function Na(n,e){Te(e,!1);const t=Rt();let r=A(""),i=A(""),s=A(""),a=A(""),o=A(""),l=gt(e,"type",8,"login"),c=A(""),h=A(""),d=A([]);const p=[{name:"Hlavní město Praha",okresy:["Praha 1","Praha 2","Praha 3","Praha 4","Praha 5","Praha 6","Praha 7","Praha 8","Praha 9","Praha 10","Praha 11","Praha 12","Praha 13","Praha 14","Praha 15","Praha 16","Praha 17","Praha 18","Praha 19","Praha 20","Praha 21","Praha 22"]},{name:"Jihočeský kraj",okresy:["České Budějovice","Český Krumlov","Jindřichův Hradec","Písek","Prachatice","Strakonice","Tábor"]},{name:"Jihomoravský kraj",okresy:["Blansko","Brno-město","Brno-venkov","Břeclav","Hodonín","Vyškov","Znojmo"]},{name:"Karlovarský kraj",okresy:["Cheb","Karlovy Vary","Sokolov"]},{name:"Královéhradecký kraj",okresy:["Hradec Králové","Jičín","Náchod","Rychnov nad Kněžnou","Trutnov"]},{name:"Liberecký kraj",okresy:["Česká Lípa","Jablonec nad Nisou","Liberec","Semily"]},{name:"Moravskoslezský kraj",okresy:["Bruntál","Frýdek-Místek","Karviná","Nový Jičín","Opava","Ostrava-město"]},{name:"Olomoucký kraj",okresy:["Jeseník","Olomouc","Prostějov","Přerov","Šumperk"]},{name:"Pardubický kraj",okresy:["Chrudim","Pardubice","Svitavy","Ústí nad Orlicí"]},{name:"Plzeňský kraj",okresy:["Domažlice","Klatovy","Plzeň-město","Plzeň-jih","Plzeň-sever","Rokycany","Tachov"]},{name:"Středočeský kraj",okresy:["Benešov","Beroun","Kladno","Kolín","Kutná Hora","Mělník","Mladá Boleslav","Nymburk","Praha-východ","Praha-západ","Příbram","Rakovník"]},{name:"Ústecký kraj",okresy:["Děčín","Chomutov","Litoměřice","Louny","Most","Teplice","Ústí nad Labem"]},{name:"Kraj Vysočina",okresy:["Havlíčkův Brod","Jihlava","Pelhřimov","Třebíč","Žďár nad Sázavou"]},{name:"Zlínský kraj",okresy:["Kroměříž","Uherské Hradiště","Vsetín","Zlín"]}];async function v(){if(!u(c)||!u(h)){b(d,[]);return}try{const k=await le.collection("skoly").getFullList({filter:`kraj = "${u(c)}" && okres = "${u(h)}"`});b(d,k)}catch(k){console.error("Failed to fetch schools:",k),b(d,[])}}async function f(){b(o,"");try{await le.collection("teachers").authWithPassword(u(r),u(i)),t("close")}catch(k){k.status===400?b(o,"Zadane udaje nesedi"):k.status===403?b(o,"Vas ucet zatim neni overeny, ale pracujeme na tom :)"):b(o,"Failed to authenticate. Please check your credentials.")}}async function m(){if(b(o,""),u(i)!==u(s)){b(o,"Passwords do not match.");return}try{console.log("Registering with school ID:",u(a)),await le.collection("teachers").create({email:u(r),password:u(i),passwordConfirm:u(s),skola:u(a)}),await le.collection("teachers").authWithPassword(u(r),u(i)),t("close"),window.location.reload()}catch(k){console.error("Registration Error:",k),b(o,"Failed to register. Please try again.")}}De();var _=Va(),C=w(_),g=w(C);{var S=k=>{var j=Aa(),V=y(w(j),2),G=y(V,2);ie(V,()=>u(r),B=>b(r,B)),ie(G,()=>u(i),B=>b(i,B)),K("submit",j,_n(f)),H(k,j)},E=k=>{var j=gn(),V=Bt(j);{var G=B=>{var P=ja(),ee=y(w(P),2),te=y(ee,2),ne=y(te,2),Y=y(ne,2);M(()=>{u(c),an(()=>{u(h)})});var oe=w(Y);oe.value=oe.__value="";var ge=y(oe);Je(ge,1,()=>p,We,(W,Z)=>{var L=Ia(),J=w(L),re={};M(()=>{F(J,(u(Z),T(()=>u(Z).name))),re!==(re=(u(Z),T(()=>u(Z).name)))&&(L.value=(L.__value=(u(Z),T(()=>u(Z).name)))??"")}),H(W,L)});var he=y(Y,2);M(()=>{u(h),an(()=>{u(c)})});var Se=w(he);Se.value=Se.__value="";var Xe=y(Se);{var et=W=>{var Z=gn(),L=Bt(Z);Je(L,1,()=>(u(c),T(()=>p.find(J=>J.name===u(c))?.okresy??[])),We,(J,re)=>{var _e=La(),Me=w(_e),Le={};M(()=>{F(Me,u(re)),Le!==(Le=u(re))&&(_e.value=(_e.__value=u(re))??"")}),H(J,_e)}),H(W,Z)};z(Xe,W=>{u(c)&&W(et)})}var R=y(he,2);M(()=>{u(a),an(()=>{u(h),u(d)})});var Ie=w(R);Ie.value=Ie.__value="";var _t=y(Ie);Je(_t,1,()=>u(d),We,(W,Z)=>{var L=qa(),J=w(L),re={};M(()=>{F(J,(u(Z),T(()=>u(Z).plny_nazev))),re!==(re=(u(Z),T(()=>u(Z).id)))&&(L.value=(L.__value=(u(Z),T(()=>u(Z).id)))??"")}),H(W,L)}),M(()=>{he.disabled=!u(c),R.disabled=(u(h),u(d),T(()=>!u(h)||u(d).length===0))}),ie(ee,()=>u(r),W=>b(r,W)),ie(te,()=>u(i),W=>b(i,W)),ie(ne,()=>u(s),W=>b(s,W)),ln(Y,()=>u(c),W=>b(c,W)),K("change",Y,()=>{b(h,"")}),ln(he,()=>u(h),W=>b(h,W)),K("change",he,v),ln(R,()=>u(a),W=>b(a,W)),K("submit",P,_n(m)),H(B,P)};z(V,B=>{l()==="register"&&B(G)},!0)}H(k,j)};z(g,k=>{l()==="login"?k(S):k(E,!1)})}var x=y(g,2);{var O=k=>{var j=Ha(),V=w(j);M(()=>F(V,u(o))),H(k,j)};z(x,k=>{u(o)&&k(O)})}K("click",C,Ot(function(k){Yt.call(this,e,k)})),K("click",_,()=>t("close")),H(n,_),Re()}var Ua=U('<div class="team-item svelte-p88css"> </div>'),Da=U('<div class="teams-panel svelte-p88css"><div class="teams-panel-header svelte-p88css"><h2>Moje týmy</h2> <button class="close-btn svelte-p88css">X</button></div> <div class="teams-list svelte-p88css"></div> <button class="add-team-btn svelte-p88css">+</button></div>');function Ma(n,e){Te(e,!1);const t=()=>ze(tn,"$teamsStore",r),[r,i]=Xt(),s=Rt();De();var a=Da(),o=w(a),l=y(w(o),2),c=y(o,2);Je(c,5,t,We,(d,p)=>{var v=Ua(),f=w(v);M(()=>F(f,u(p).name)),K("click",v,()=>s("showTeamDetails",u(p))),H(d,v)});var h=y(c,2);K("click",l,()=>s("close")),K("click",h,()=>s("showAddTeam")),H(n,a),Re(),i()}const Ba="data:image/svg+xml,%3csvg%20width='52'%20height='26'%20viewBox='0%200%2052%2026'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20y='13'%20width='13'%20height='13'%20rx='3'%20fill='%23EBAD00'/%3e%3crect%20x='26'%20y='13'%20width='13'%20height='13'%20rx='3'%20fill='%23EB0072'/%3e%3crect%20x='13'%20width='13'%20height='13'%20rx='3'%20fill='%23EB6E00'/%3e%3crect%20x='39'%20width='13'%20height='13'%20rx='3'%20fill='%239500EB'/%3e%3c/svg%3e";var Fa=U('<div id="app"><!> <!> <!> <!> <!> <div class="content-holder svelte-m10mfj"><div class="logout-page svelte-m10mfj"><h1 class="upcomming svelte-m10mfj"><span class="anchor svelte-m10mfj"><img class="blocks-clumped svelte-m10mfj"/></span> Nadcházející</h1> <div class="contests-list svelte-m10mfj"></div></div></div></div>');function $a(n,e){Te(e,!1);const t=()=>ze(ht,"$authStore",i),r=()=>ze(ta,"$contestsStore",i),[i,s]=Xt();let a=A(!1),o=A("login"),l=A(!1),c=A(!1),h=A(!1),d=A(null);ht.subscribe(P=>{P&&ri(P.id)}),De();var p=Fa(),v=w(p);va(v,{get currentUser(){return t()},$$events:{showAuth:P=>{b(a,!0),b(o,P.detail)},toggleTeamsPanel:()=>b(l,!u(l))}});var f=y(v,2);{var m=P=>{Na(P,{get type(){return u(o)},$$events:{close:()=>b(a,!1)}})};z(f,P=>{u(a)&&P(m)})}var _=y(f,2);{var C=P=>{Ma(P,{$$events:{close:()=>b(l,!1),showAddTeam:()=>b(c,!0),showTeamDetails:ee=>{b(d,ee.detail),b(h,!0)}}})};z(_,P=>{u(l)&&P(C)})}var g=y(_,2);{var S=P=>{ii(P,{$$events:{close:()=>b(c,!1)}})};z(g,P=>{u(c)&&P(S)})}var E=y(g,2);{var x=P=>{ua(P,{get team(){return u(d)},$$events:{close:()=>b(h,!1)}})};z(E,P=>{u(h)&&P(x)})}var O=y(E,2),k=w(O),j=w(k),V=w(j),G=w(V),B=y(j,2);Je(B,5,r,We,(P,ee)=>{Ra(P,{get contest(){return u(ee)}})}),M(()=>Ee(G,"src",Ba)),H(n,p),Re(),s()}_s($a,{target:document.getElementById("app")});
