(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();const ur=!1;var dt=Array.isArray,li=Array.prototype.indexOf,yn=Array.from,jt=Object.defineProperty,nt=Object.getOwnPropertyDescriptor,fr=Object.getOwnPropertyDescriptors,ci=Object.prototype,ui=Array.prototype,wn=Object.getPrototypeOf,Dn=Object.isExtensible;const rt=()=>{};function fi(n){return n()}function Vt(n){for(var e=0;e<n.length;e++)n[e]()}function hi(){var n,e,t=new Promise((r,i)=>{n=r,e=i});return{promise:t,resolve:n,reject:e}}const ue=2,Cn=4,$t=8,vt=16,xe=32,We=64,hr=128,ve=256,Ht=512,Q=1024,pe=2048,Pe=4096,me=8192,Je=16384,Sn=32768,En=65536,Mn=1<<17,di=1<<18,xt=1<<19,dr=1<<20,un=1<<21,kn=1<<22,Be=1<<23,je=Symbol("$state"),vi=Symbol("legacy props"),On=new class extends Error{name="StaleReactionError";message="The reaction that called `getAbortSignal()` was re-run or destroyed"};function pi(){throw new Error("https://svelte.dev/e/await_outside_boundary")}function vr(n){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function mi(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function gi(n){throw new Error("https://svelte.dev/e/effect_in_teardown")}function _i(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function bi(n){throw new Error("https://svelte.dev/e/effect_orphan")}function yi(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function wi(n){throw new Error("https://svelte.dev/e/props_invalid_value")}function Ci(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Si(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Ei(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}const Kt=1,Wt=2,pr=4,ki=8,Oi=16,xi=2,Pi=4,Ti=8,Ri=1,Ai=2,Y=Symbol(),Ii="http://www.w3.org/1999/xhtml";function Li(){console.warn("https://svelte.dev/e/select_multiple_invalid_value")}let qi=!1;function mr(n){return n===this.v}function gr(n,e){return n!=n?e==e:n!==e||n!==null&&typeof n=="object"||typeof n=="function"}function _r(n){return!gr(n,this.v)}let pt=!1,ji=!1;function Vi(){pt=!0}let D=null;function Nt(n){D=n}function Ne(n,e=!1,t){D={p:D,c:null,e:null,s:n,x:null,l:pt&&!e?{s:null,u:null,$:[]}:null}}function Ue(n){var e=D,t=e.e;if(t!==null){e.e=null;for(var r of t)qr(r)}return D=e.p,{}}function Pt(){return!pt||D!==null&&D.l===null}const Hi=new WeakMap;function Ni(n){var e=R;if(e===null)return L.f|=Be,n;if((e.f&Sn)===0){if((e.f&hr)===0)throw!e.parent&&n instanceof Error&&br(n),n;e.b.error(n)}else xn(n,e)}function xn(n,e){for(;e!==null;){if((e.f&hr)!==0)try{e.b.error(n);return}catch(t){n=t}e=e.parent}throw n instanceof Error&&br(n),n}function br(n){const e=Hi.get(n);e&&(jt(n,"message",{value:e.message}),jt(n,"stack",{value:e.stack}))}let Ct=[],fn=[];function yr(){var n=Ct;Ct=[],Vt(n)}function Ui(){var n=fn;fn=[],Vt(n)}function wr(n){Ct.length===0&&queueMicrotask(yr),Ct.push(n)}function Di(){Ct.length>0&&yr(),fn.length>0&&Ui()}function Mi(){for(var n=R.b;n!==null&&!n.has_pending_snippet();)n=n.parent;return n===null&&pi(),n}function Pn(n){var e=ue|pe,t=L!==null&&(L.f&ue)!==0?L:null;return R===null||t!==null&&(t.f&ve)!==0?e|=ve:R.f|=xt,{ctx:D,deps:null,effects:null,equals:mr,f:e,fn:n,reactions:null,rv:0,v:Y,wv:0,parent:t??R,ac:null}}function Bi(n,e){let t=R;t===null&&mi();var r=t.b,i=void 0,s=St(Y),a=null,o=!L;return rs(()=>{try{var l=n();a&&Promise.resolve(l).catch(()=>{})}catch(v){l=Promise.reject(v)}var c=()=>l;i=a?.then(c,c)??Promise.resolve(l),a=i;var h=N,d=r.pending;o&&(r.update_pending_count(1),d||h.increment());const p=(v,f=void 0)=>{a=null,d||h.activate(),f?f!==On&&(s.f|=Be,ft(s,f)):((s.f&Be)!==0&&(s.f^=Be),ft(s,v)),o&&(r.update_pending_count(-1),d||h.decrement()),Er()};if(i.then(p,v=>p(null,v||"unknown")),h)return()=>{queueMicrotask(()=>h.neuter())}}),new Promise(l=>{function c(h){function d(){h===i?l(s):c(i)}h.then(d,d)}c(i)})}function Tn(n){const e=Pn(n);return e.equals=_r,e}function Cr(n){var e=n.effects;if(e!==null){n.effects=null;for(var t=0;t<e.length;t+=1)Oe(e[t])}}function Fi(n){for(var e=n.parent;e!==null;){if((e.f&ue)===0)return e;e=e.parent}return null}function Rn(n){var e,t=R;He(Fi(n));try{Cr(n),e=Kr(n)}finally{He(t)}return e}function Sr(n){var e=Rn(n);if(n.equals(e)||(n.v=e,n.wv=Fr()),!ze){var t=(qe||(n.f&ve)!==0)&&n.deps!==null?Pe:Q;ae(n,t)}}function $i(n,e,t){const r=Pt()?Pn:Tn;if(e.length===0){t(n.map(r));return}var i=N,s=R,a=Ki(),o=Mi();Promise.all(e.map(l=>Bi(l))).then(l=>{i?.activate(),a();try{t([...n.map(r),...l])}catch(c){(s.f&Je)===0&&xn(c,s)}i?.deactivate(),Er()}).catch(l=>{o.error(l)})}function Ki(){var n=R,e=L,t=D,r=N;return function(){He(n),we(e),Nt(t),r?.activate()}}function Er(){He(null),we(null),Nt(null)}const tn=new Set;let N=null,It=null,Bn=new Set,Ut=[];function kr(){const n=Ut.shift();Ut.length>0&&queueMicrotask(kr),n()}let Ke=[],Jt=null,hn=!1,Lt=!1;class ct{current=new Map;#l=new Map;#i=new Set;#e=0;#c=null;#u=!1;#n=[];#s=[];#r=[];#t=[];#a=[];#f=[];#h=[];skipped_effects=new Set;process(e){Ke=[],It=null;for(const i of e)this.#v(i);if(this.#n.length===0&&this.#e===0){this.#d();var t=this.#r,r=this.#t;this.#r=[],this.#t=[],this.#a=[],It=N,N=null,Fn(t),Fn(r),N===null?N=this:tn.delete(this),this.#c?.resolve()}else this.#o(this.#r),this.#o(this.#t),this.#o(this.#a);for(const i of this.#n)$e(i);for(const i of this.#s)$e(i);this.#n=[],this.#s=[]}#v(e){e.f^=Q;for(var t=e.first;t!==null;){var r=t.f,i=(r&(xe|We))!==0,s=i&&(r&Q)!==0,a=s||(r&me)!==0||this.skipped_effects.has(t);if(!a&&t.fn!==null){if(i)t.f^=Q;else if((r&Cn)!==0)this.#t.push(t);else if((r&Q)===0)if((r&kn)!==0){var o=t.b?.pending?this.#s:this.#n;o.push(t)}else Tt(t)&&((t.f&vt)!==0&&this.#a.push(t),$e(t));var l=t.first;if(l!==null){t=l;continue}}var c=t.parent;for(t=t.next;t===null&&c!==null;)t=c.next,c=c.parent}}#o(e){for(const t of e)((t.f&pe)!==0?this.#f:this.#h).push(t),ae(t,Q);e.length=0}capture(e,t){this.#l.has(e)||this.#l.set(e,t),this.current.set(e,e.v)}activate(){N=this}deactivate(){N=null,It=null;for(const e of Bn)if(Bn.delete(e),e(),N!==null)break}neuter(){this.#u=!0}flush(){Ke.length>0?Or():this.#d(),N===this&&(this.#e===0&&tn.delete(this),this.deactivate())}#d(){if(!this.#u)for(const e of this.#i)e();this.#i.clear()}increment(){this.#e+=1}decrement(){if(this.#e-=1,this.#e===0){for(const e of this.#f)ae(e,pe),ut(e);for(const e of this.#h)ae(e,Pe),ut(e);this.#r=[],this.#t=[],this.flush()}else this.deactivate()}add_callback(e){this.#i.add(e)}settled(){return(this.#c??=hi()).promise}static ensure(){if(N===null){const e=N=new ct;tn.add(N),Lt||ct.enqueue(()=>{N===e&&e.flush()})}return N}static enqueue(e){Ut.length===0&&queueMicrotask(kr),Ut.unshift(e)}}function Wi(n){var e=Lt;Lt=!0;try{for(var t;;){if(Di(),Ke.length===0&&(N?.flush(),Ke.length===0))return Jt=null,t;Or()}}finally{Lt=e}}function Or(){var n=it;hn=!0;try{var e=0;for(Jn(!0);Ke.length>0;){var t=ct.ensure();if(e++>1e3){var r,i;Ji()}t.process(Ke),Ve.clear()}}finally{hn=!1,Jn(n),Jt=null}}function Ji(){try{yi()}catch(n){xn(n,Jt)}}let Me=null;function Fn(n){var e=n.length;if(e!==0){for(var t=0;t<e;){var r=n[t++];if((r.f&(Je|me))===0&&Tt(r)&&(Me=[],$e(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null&&r.ac===null?Ur(r):r.fn=null),Me?.length>0)){Ve.clear();for(const i of Me)$e(i);Me=[]}}Me=null}}function ut(n){for(var e=Jt=n;e.parent!==null;){e=e.parent;var t=e.f;if(hn&&e===R&&(t&vt)!==0)return;if((t&(We|xe))!==0){if((t&Q)===0)return;e.f^=Q}}Ke.push(e)}const Ve=new Map;function St(n,e){var t={f:0,v:n,reactions:null,equals:mr,rv:0,wv:0};return t}function Ie(n,e){const t=St(n);return os(t),t}function I(n,e=!1,t=!0){const r=St(n);return e||(r.equals=_r),pt&&t&&D!==null&&D.l!==null&&(D.l.s??=[]).push(r),r}function zi(n,e){return w(n,P(()=>u(n))),e}function w(n,e,t=!1){L!==null&&(!ye||(L.f&Mn)!==0)&&Pt()&&(L.f&(ue|vt|kn|Mn))!==0&&!ke?.includes(n)&&Ei();let r=t?tt(e):e;return ft(n,r)}function ft(n,e){if(!n.equals(e)){var t=n.v;ze?Ve.set(n,e):Ve.set(n,t),n.v=e;var r=ct.ensure();r.capture(n,t),(n.f&ue)!==0&&((n.f&pe)!==0&&Rn(n),ae(n,(n.f&ve)===0?Q:Pe)),n.wv=Fr(),xr(n,pe),Pt()&&R!==null&&(R.f&Q)!==0&&(R.f&(xe|We))===0&&(de===null?ls([n]):de.push(n))}return e}function nn(n){w(n,n.v+1)}function xr(n,e){var t=n.reactions;if(t!==null)for(var r=Pt(),i=t.length,s=0;s<i;s++){var a=t[s],o=a.f;if(!(!r&&a===R)){var l=(o&pe)===0;l&&ae(a,e),(o&ue)!==0?xr(a,Pe):l&&((o&vt)!==0&&Me!==null&&Me.push(a),ut(a))}}}function tt(n){if(typeof n!="object"||n===null||je in n)return n;const e=wn(n);if(e!==ci&&e!==ui)return n;var t=new Map,r=dt(n),i=Ie(0),s=Fe,a=o=>{if(Fe===s)return o();var l=L,c=Fe;we(null),Zn(s);var h=o();return we(l),Zn(c),h};return r&&t.set("length",Ie(n.length)),new Proxy(n,{defineProperty(o,l,c){(!("value"in c)||c.configurable===!1||c.enumerable===!1||c.writable===!1)&&Ci();var h=t.get(l);return h===void 0?h=a(()=>{var d=Ie(c.value);return t.set(l,d),d}):w(h,c.value,!0),!0},deleteProperty(o,l){var c=t.get(l);if(c===void 0){if(l in o){const h=a(()=>Ie(Y));t.set(l,h),nn(i)}}else w(c,Y),nn(i);return!0},get(o,l,c){if(l===je)return n;var h=t.get(l),d=l in o;if(h===void 0&&(!d||nt(o,l)?.writable)&&(h=a(()=>{var v=tt(d?o[l]:Y),f=Ie(v);return f}),t.set(l,h)),h!==void 0){var p=u(h);return p===Y?void 0:p}return Reflect.get(o,l,c)},getOwnPropertyDescriptor(o,l){var c=Reflect.getOwnPropertyDescriptor(o,l);if(c&&"value"in c){var h=t.get(l);h&&(c.value=u(h))}else if(c===void 0){var d=t.get(l),p=d?.v;if(d!==void 0&&p!==Y)return{enumerable:!0,configurable:!0,value:p,writable:!0}}return c},has(o,l){if(l===je)return!0;var c=t.get(l),h=c!==void 0&&c.v!==Y||Reflect.has(o,l);if(c!==void 0||R!==null&&(!h||nt(o,l)?.writable)){c===void 0&&(c=a(()=>{var p=h?tt(o[l]):Y,v=Ie(p);return v}),t.set(l,c));var d=u(c);if(d===Y)return!1}return h},set(o,l,c,h){var d=t.get(l),p=l in o;if(r&&l==="length")for(var v=c;v<d.v;v+=1){var f=t.get(v+"");f!==void 0?w(f,Y):v in o&&(f=a(()=>Ie(Y)),t.set(v+"",f))}if(d===void 0)(!p||nt(o,l)?.writable)&&(d=a(()=>Ie(void 0)),w(d,tt(c)),t.set(l,d));else{p=d.v!==Y;var m=a(()=>tt(c));w(d,m)}var b=Reflect.getOwnPropertyDescriptor(o,l);if(b?.set&&b.set.call(h,c),!p){if(r&&typeof l=="string"){var S=t.get("length"),g=Number(l);Number.isInteger(g)&&g>=S.v&&w(S,g+1)}nn(i)}return!0},ownKeys(o){u(i);var l=Reflect.ownKeys(o).filter(d=>{var p=t.get(d);return p===void 0||p.v!==Y});for(var[c,h]of t)h.v!==Y&&!(c in o)&&l.push(c);return l},setPrototypeOf(){Si()}})}function $n(n){try{if(n!==null&&typeof n=="object"&&je in n)return n[je]}catch{}return n}function Zi(n,e){return Object.is($n(n),$n(e))}var Kn,Pr,Tr,Rr;function Gi(){if(Kn===void 0){Kn=window,Pr=/Firefox/.test(navigator.userAgent);var n=Element.prototype,e=Node.prototype,t=Text.prototype;Tr=nt(e,"firstChild").get,Rr=nt(e,"nextSibling").get,Dn(n)&&(n.__click=void 0,n.__className=void 0,n.__attributes=null,n.__style=void 0,n.__e=void 0),Dn(t)&&(t.__t=void 0)}}function mt(n=""){return document.createTextNode(n)}function Dt(n){return Tr.call(n)}function zt(n){return Rr.call(n)}function y(n,e){return Dt(n)}function Mt(n,e){{var t=Dt(n);return t instanceof Comment&&t.data===""?zt(t):t}}function C(n,e=1,t=!1){let r=n;for(;e--;)r=zt(r);return r}function Yi(n){n.textContent=""}function Ar(){return!1}let Wn=!1;function Qi(){Wn||(Wn=!0,document.addEventListener("reset",n=>{Promise.resolve().then(()=>{if(!n.defaultPrevented)for(const e of n.target.elements)e.__on_r?.()})},{capture:!0}))}function Zt(n){var e=L,t=R;we(null),He(null);try{return n()}finally{we(e),He(t)}}function Ir(n,e,t,r=t){n.addEventListener(e,()=>Zt(t));const i=n.__on_r;i?n.__on_r=()=>{i(),r(!0)}:n.__on_r=()=>r(!0),Qi()}function Lr(n){R===null&&L===null&&bi(),L!==null&&(L.f&ve)!==0&&R===null&&_i(),ze&&gi()}function Xi(n,e){var t=e.last;t===null?e.last=e.first=n:(t.next=n,n.prev=t,e.last=n)}function Ce(n,e,t,r=!0){var i=R;i!==null&&(i.f&me)!==0&&(n|=me);var s={ctx:D,deps:null,nodes_start:null,nodes_end:null,f:n|pe,first:null,fn:e,last:null,next:null,parent:i,b:i&&i.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(t)try{$e(s),s.f|=Sn}catch(l){throw Oe(s),l}else e!==null&&ut(s);if(r){var a=s;if(t&&a.deps===null&&a.teardown===null&&a.nodes_start===null&&a.first===a.last&&(a.f&xt)===0&&(a=a.first),a!==null&&(a.parent=i,i!==null&&Xi(a,i),L!==null&&(L.f&ue)!==0&&(n&We)===0)){var o=L;(o.effects??=[]).push(a)}}return s}function An(n){const e=Ce($t,null,!1);return ae(e,Q),e.teardown=n,e}function dn(n){Lr();var e=R.f,t=!L&&(e&xe)!==0&&(e&Sn)===0;if(t){var r=D;(r.e??=[]).push(n)}else return qr(n)}function qr(n){return Ce(Cn|dr,n,!1)}function es(n){return Lr(),Ce($t|dr,n,!0)}function ts(n){ct.ensure();const e=Ce(We|xt,n,!0);return(t={})=>new Promise(r=>{t.outro?Ln(e,()=>{Oe(e),r(void 0)}):(Oe(e),r(void 0))})}function ns(n){return Ce(Cn,n,!1)}function qt(n,e){var t=D,r={effect:null,ran:!1,deps:n};t.l.$.push(r),r.effect=In(()=>{n(),!r.ran&&(r.ran=!0,P(e))})}function jr(){var n=D;In(()=>{for(var e of n.l.$){e.deps();var t=e.effect;(t.f&Q)!==0&&ae(t,Pe),Tt(t)&&$e(t),e.ran=!1}})}function rs(n){return Ce(kn|xt,n,!0)}function In(n,e=0){return Ce($t|e,n,!0)}function U(n,e=[],t=[]){$i(e,t,r=>{Ce($t,()=>n(...r.map(u)),!0)})}function Vr(n,e=0){var t=Ce(vt|e,n,!0);return t}function Et(n,e=!0){return Ce(xe|xt,n,!0,e)}function Hr(n){var e=n.teardown;if(e!==null){const t=ze,r=L;zn(!0),we(null);try{e.call(null)}finally{zn(t),we(r)}}}function Nr(n,e=!1){var t=n.first;for(n.first=n.last=null;t!==null;){const i=t.ac;i!==null&&Zt(()=>{i.abort(On)});var r=t.next;(t.f&We)!==0?t.parent=null:Oe(t,e),t=r}}function is(n){for(var e=n.first;e!==null;){var t=e.next;(e.f&xe)===0&&Oe(e),e=t}}function Oe(n,e=!0){var t=!1;(e||(n.f&di)!==0)&&n.nodes_start!==null&&n.nodes_end!==null&&(ss(n.nodes_start,n.nodes_end),t=!0),Nr(n,e&&!t),Bt(n,0),ae(n,Je);var r=n.transitions;if(r!==null)for(const s of r)s.stop();Hr(n);var i=n.parent;i!==null&&i.first!==null&&Ur(n),n.next=n.prev=n.teardown=n.ctx=n.deps=n.fn=n.nodes_start=n.nodes_end=n.ac=null}function ss(n,e){for(;n!==null;){var t=n===e?null:zt(n);n.remove(),n=t}}function Ur(n){var e=n.parent,t=n.prev,r=n.next;t!==null&&(t.next=r),r!==null&&(r.prev=t),e!==null&&(e.first===n&&(e.first=r),e.last===n&&(e.last=t))}function Ln(n,e){var t=[];qn(n,t,!0),Dr(t,()=>{Oe(n),e&&e()})}function Dr(n,e){var t=n.length;if(t>0){var r=()=>--t||e();for(var i of n)i.out(r)}else e()}function qn(n,e,t){if((n.f&me)===0){if(n.f^=me,n.transitions!==null)for(const a of n.transitions)(a.is_global||t)&&e.push(a);for(var r=n.first;r!==null;){var i=r.next,s=(r.f&En)!==0||(r.f&xe)!==0;qn(r,e,s?t:!1),r=i}}}function jn(n){Mr(n,!0)}function Mr(n,e){if((n.f&me)!==0){n.f^=me,(n.f&Q)===0&&(ae(n,pe),ut(n));for(var t=n.first;t!==null;){var r=t.next,i=(t.f&En)!==0||(t.f&xe)!==0;Mr(t,i?e:!1),t=r}if(n.transitions!==null)for(const s of n.transitions)(s.is_global||e)&&s.in()}}let et=null;function as(n){var e=et;try{if(et=new Set,P(n),e!==null)for(var t of et)e.add(t);return et}finally{et=e}}function rn(n){for(var e of as(n))ft(e,e.v)}let it=!1;function Jn(n){it=n}let ze=!1;function zn(n){ze=n}let L=null,ye=!1;function we(n){L=n}let R=null;function He(n){R=n}let ke=null;function os(n){L!==null&&(ke===null?ke=[n]:ke.push(n))}let se=null,le=0,de=null;function ls(n){de=n}let Br=1,kt=0,Fe=kt;function Zn(n){Fe=n}let qe=!1;function Fr(){return++Br}function Tt(n){var e=n.f;if((e&pe)!==0)return!0;if((e&Pe)!==0){var t=n.deps,r=(e&ve)!==0;if(t!==null){var i,s,a=(e&Ht)!==0,o=r&&R!==null&&!qe,l=t.length;if((a||o)&&(R===null||(R.f&Je)===0)){var c=n,h=c.parent;for(i=0;i<l;i++)s=t[i],(a||!s?.reactions?.includes(c))&&(s.reactions??=[]).push(c);a&&(c.f^=Ht),o&&h!==null&&(h.f&ve)===0&&(c.f^=ve)}for(i=0;i<l;i++)if(s=t[i],Tt(s)&&Sr(s),s.wv>n.wv)return!0}(!r||R!==null&&!qe)&&ae(n,Q)}return!1}function $r(n,e,t=!0){var r=n.reactions;if(r!==null&&!ke?.includes(n))for(var i=0;i<r.length;i++){var s=r[i];(s.f&ue)!==0?$r(s,e,!1):e===s&&(t?ae(s,pe):(s.f&Q)!==0&&ae(s,Pe),ut(s))}}function Kr(n){var e=se,t=le,r=de,i=L,s=qe,a=ke,o=D,l=ye,c=Fe,h=n.f;se=null,le=0,de=null,qe=(h&ve)!==0&&(ye||!it||L===null),L=(h&(xe|We))===0?n:null,ke=null,Nt(n.ctx),ye=!1,Fe=++kt,n.ac!==null&&(Zt(()=>{n.ac.abort(On)}),n.ac=null);try{n.f|=un;var d=n.fn,p=d(),v=n.deps;if(se!==null){var f;if(Bt(n,le),v!==null&&le>0)for(v.length=le+se.length,f=0;f<se.length;f++)v[le+f]=se[f];else n.deps=v=se;if(!qe||(h&ue)!==0&&n.reactions!==null)for(f=le;f<v.length;f++)(v[f].reactions??=[]).push(n)}else v!==null&&le<v.length&&(Bt(n,le),v.length=le);if(Pt()&&de!==null&&!ye&&v!==null&&(n.f&(ue|Pe|pe))===0)for(f=0;f<de.length;f++)$r(de[f],n);return i!==null&&i!==n&&(kt++,de!==null&&(r===null?r=de:r.push(...de))),(n.f&Be)!==0&&(n.f^=Be),p}catch(m){return Ni(m)}finally{n.f^=un,se=e,le=t,de=r,L=i,qe=s,ke=a,Nt(o),ye=l,Fe=c}}function cs(n,e){let t=e.reactions;if(t!==null){var r=li.call(t,n);if(r!==-1){var i=t.length-1;i===0?t=e.reactions=null:(t[r]=t[i],t.pop())}}t===null&&(e.f&ue)!==0&&(se===null||!se.includes(e))&&(ae(e,Pe),(e.f&(ve|Ht))===0&&(e.f^=Ht),Cr(e),Bt(e,0))}function Bt(n,e){var t=n.deps;if(t!==null)for(var r=e;r<t.length;r++)cs(n,t[r])}function $e(n){var e=n.f;if((e&Je)===0){ae(n,Q);var t=R,r=it;R=n,it=!0;try{(e&vt)!==0?is(n):Nr(n),Hr(n);var i=Kr(n);n.teardown=typeof i=="function"?i:null,n.wv=Br;var s;ur&&ji&&(n.f&pe)!==0&&n.deps}finally{it=r,R=t}}}async function us(){await Promise.resolve(),Wi()}function u(n){var e=n.f,t=(e&ue)!==0;if(et?.add(n),L!==null&&!ye){var r=R!==null&&(R.f&Je)!==0;if(!r&&!ke?.includes(n)){var i=L.deps;if((L.f&un)!==0)n.rv<kt&&(n.rv=kt,se===null&&i!==null&&i[le]===n?le++:se===null?se=[n]:(!qe||!se.includes(n))&&se.push(n));else{(L.deps??=[]).push(n);var s=n.reactions;s===null?n.reactions=[L]:s.includes(L)||s.push(L)}}}else if(t&&n.deps===null&&n.effects===null){var a=n,o=a.parent;o!==null&&(o.f&ve)===0&&(a.f^=ve)}if(ze){if(Ve.has(n))return Ve.get(n);if(t){a=n;var l=a.v;return((a.f&Q)===0&&a.reactions!==null||Wr(a))&&(l=Rn(a)),Ve.set(a,l),l}}else t&&(a=n,Tt(a)&&Sr(a));if((n.f&Be)!==0)throw n.v;return n.v}function Wr(n){if(n.v===Y)return!0;if(n.deps===null)return!1;for(const e of n.deps)if(Ve.has(e)||(e.f&ue)!==0&&Wr(e))return!0;return!1}function P(n){var e=ye;try{return ye=!0,n()}finally{ye=e}}const fs=-7169;function ae(n,e){n.f=n.f&fs|e}function H(n){if(!(typeof n!="object"||!n||n instanceof EventTarget)){if(je in n)vn(n);else if(!Array.isArray(n))for(let e in n){const t=n[e];typeof t=="object"&&t&&je in t&&vn(t)}}}function vn(n,e=new Set){if(typeof n=="object"&&n!==null&&!(n instanceof EventTarget)&&!e.has(n)){e.add(n),n instanceof Date&&n.getTime();for(let r in n)try{vn(n[r],e)}catch{}const t=wn(n);if(t!==Object.prototype&&t!==Array.prototype&&t!==Map.prototype&&t!==Set.prototype&&t!==Date.prototype){const r=fr(t);for(let i in r){const s=r[i].get;if(s)try{s.call(n)}catch{}}}}}const hs=["touchstart","touchmove"];function ds(n){return hs.includes(n)}const vs=new Set,Gn=new Set;function ps(n,e,t,r={}){function i(s){if(r.capture||yt.call(e,s),!s.cancelBubble)return Zt(()=>t?.call(this,s))}return n.startsWith("pointer")||n.startsWith("touch")||n==="wheel"?wr(()=>{e.addEventListener(n,i,r)}):e.addEventListener(n,i,r),i}function J(n,e,t,r,i){var s={capture:r,passive:i},a=ps(n,e,t,s);(e===document.body||e===window||e===document||e instanceof HTMLMediaElement)&&An(()=>{e.removeEventListener(n,a,s)})}let Yn=null;function yt(n){var e=this,t=e.ownerDocument,r=n.type,i=n.composedPath?.()||[],s=i[0]||n.target;Yn=n;var a=0,o=Yn===n&&n.__root;if(o){var l=i.indexOf(o);if(l!==-1&&(e===document||e===window)){n.__root=e;return}var c=i.indexOf(e);if(c===-1)return;l<=c&&(a=l)}if(s=i[a]||n.target,s!==e){jt(n,"currentTarget",{configurable:!0,get(){return s||t}});var h=L,d=R;we(null),He(null);try{for(var p,v=[];s!==null;){var f=s.assignedSlot||s.parentNode||s.host||null;try{var m=s["__"+r];if(m!=null&&(!s.disabled||n.target===s))if(dt(m)){var[b,...S]=m;b.apply(s,[n,...S])}else m.call(s,n)}catch(g){p?v.push(g):p=g}if(n.cancelBubble||f===e||f===null)break;s=f}if(p){for(let g of v)queueMicrotask(()=>{throw g});throw p}}finally{n.__root=e,delete n.currentTarget,we(h),He(d)}}}function ms(n){var e=document.createElement("template");return e.innerHTML=n.replaceAll("<!>","<!---->"),e.content}function Ft(n,e){var t=R;t.nodes_start===null&&(t.nodes_start=n,t.nodes_end=e)}function M(n,e){var t=(e&Ri)!==0,r=(e&Ai)!==0,i,s=!n.startsWith("<!>");return()=>{i===void 0&&(i=ms(s?n:"<!>"+n),t||(i=Dt(i)));var a=r||Pr?document.importNode(i,!0):i.cloneNode(!0);if(t){var o=Dt(a),l=a.lastChild;Ft(o,l)}else Ft(a,a);return a}}function Qn(n=""){{var e=mt(n+"");return Ft(e,e),e}}function pn(){var n=document.createDocumentFragment(),e=document.createComment(""),t=mt();return n.append(e,t),Ft(e,t),n}function j(n,e){n!==null&&n.before(e)}function B(n,e){var t=e==null?"":typeof e=="object"?e+"":e;t!==(n.__t??=n.nodeValue)&&(n.__t=t,n.nodeValue=t+"")}function gs(n,e){return _s(n,e)}const Qe=new Map;function _s(n,{target:e,anchor:t,props:r={},events:i,context:s,intro:a=!0}){Gi();var o=new Set,l=d=>{for(var p=0;p<d.length;p++){var v=d[p];if(!o.has(v)){o.add(v);var f=ds(v);e.addEventListener(v,yt,{passive:f});var m=Qe.get(v);m===void 0?(document.addEventListener(v,yt,{passive:f}),Qe.set(v,1)):Qe.set(v,m+1)}}};l(yn(vs)),Gn.add(l);var c=void 0,h=ts(()=>{var d=t??e.appendChild(mt());return Et(()=>{if(s){Ne({});var p=D;p.c=s}i&&(r.$$events=i),c=n(d,r)||{},s&&Ue()}),()=>{for(var p of o){e.removeEventListener(p,yt);var v=Qe.get(p);--v===0?(document.removeEventListener(p,yt),Qe.delete(p)):Qe.set(p,v)}Gn.delete(l),d!==t&&d.parentNode?.removeChild(d)}});return bs.set(c,h),c}let bs=new WeakMap;function X(n,e,t=!1){var r=n,i=null,s=null,a=Y,o=t?En:0,l=!1;const c=(v,f=!0)=>{l=!0,p(f,v)};var h=null;function d(){h!==null&&(h.lastChild.remove(),r.before(h),h=null);var v=a?i:s,f=a?s:i;v&&jn(v),f&&Ln(f,()=>{a?s=null:i=null})}const p=(v,f)=>{if(a!==(a=v)){var m=Ar(),b=r;if(m&&(h=document.createDocumentFragment(),h.append(b=mt())),a?i??=f&&Et(()=>f(b)):s??=f&&Et(()=>f(b)),m){var S=N,g=a?i:s,E=a?s:i;g&&S.skipped_effects.delete(g),E&&S.skipped_effects.add(E),S.add_callback(d)}else d()}};Vr(()=>{l=!1,e(c),l||p(null,null)},o)}function st(n,e){return e}function ys(n,e,t){for(var r=n.items,i=[],s=e.length,a=0;a<s;a++)qn(e[a].e,i,!0);var o=s>0&&i.length===0&&t!==null;if(o){var l=t.parentNode;Yi(l),l.append(t),r.clear(),be(n,e[0].prev,e[s-1].next)}Dr(i,()=>{for(var c=0;c<s;c++){var h=e[c];o||(r.delete(h.k),be(n,h.prev,h.next)),Oe(h.e,!o)}})}function at(n,e,t,r,i,s=null){var a=n,o={flags:e,items:new Map,first:null},l=(e&pr)!==0;if(l){var c=n;a=c.appendChild(mt())}var h=null,d=!1,p=new Map,v=Tn(()=>{var S=t();return dt(S)?S:S==null?[]:yn(S)}),f,m;function b(){ws(m,f,o,p,a,i,e,r,t),s!==null&&(f.length===0?h?jn(h):h=Et(()=>s(a)):h!==null&&Ln(h,()=>{h=null}))}Vr(()=>{m??=R,f=u(v);var S=f.length;if(!(d&&S===0)){d=S===0;var g,E,k,x;if(Ar()){var O=new Set,_=N;for(E=0;E<S;E+=1){k=f[E],x=r(k,E);var q=o.items.get(x)??p.get(x);q?(e&(Kt|Wt))!==0&&Jr(q,k,E,e):(g=zr(null,o,null,null,k,x,E,i,e,t,!0),p.set(x,g)),O.add(x)}for(const[V,ie]of o.items)O.has(V)||_.skipped_effects.add(ie.e);_.add_callback(b)}else b();u(v)}})}function ws(n,e,t,r,i,s,a,o,l){var c=(a&ki)!==0,h=(a&(Kt|Wt))!==0,d=e.length,p=t.items,v=t.first,f=v,m,b=null,S,g=[],E=[],k,x,O,_;if(c)for(_=0;_<d;_+=1)k=e[_],x=o(k,_),O=p.get(x),O!==void 0&&(O.a?.measure(),(S??=new Set).add(O));for(_=0;_<d;_+=1){if(k=e[_],x=o(k,_),O=p.get(x),O===void 0){var q=r.get(x);if(q!==void 0){r.delete(x),p.set(x,q);var V=b?b.next:f;be(t,b,q),be(t,q,V),sn(q,V,i),b=q}else{var ie=f?f.e.nodes_start:i;b=zr(ie,t,b,b===null?t.first:b.next,k,x,_,s,a,l)}p.set(x,b),g=[],E=[],f=b.next;continue}if(h&&Jr(O,k,_,a),(O.e.f&me)!==0&&(jn(O.e),c&&(O.a?.unfix(),(S??=new Set).delete(O))),O!==f){if(m!==void 0&&m.has(O)){if(g.length<E.length){var F=E[0],K;b=F.prev;var fe=g[0],ee=g[g.length-1];for(K=0;K<g.length;K+=1)sn(g[K],F,i);for(K=0;K<E.length;K+=1)m.delete(E[K]);be(t,fe.prev,ee.next),be(t,b,fe),be(t,ee,F),f=F,b=ee,_-=1,g=[],E=[]}else m.delete(O),sn(O,f,i),be(t,O.prev,O.next),be(t,O,b===null?t.first:b.next),be(t,b,O),b=O;continue}for(g=[],E=[];f!==null&&f.k!==x;)(f.e.f&me)===0&&(m??=new Set).add(f),E.push(f),f=f.next;if(f===null)continue;O=f}g.push(O),b=O,f=O.next}if(f!==null||m!==void 0){for(var te=m===void 0?[]:yn(m);f!==null;)(f.e.f&me)===0&&te.push(f),f=f.next;var G=te.length;if(G>0){var oe=(a&pr)!==0&&d===0?i:null;if(c){for(_=0;_<G;_+=1)te[_].a?.measure();for(_=0;_<G;_+=1)te[_].a?.fix()}ys(t,te,oe)}}c&&wr(()=>{if(S!==void 0)for(O of S)O.a?.apply()}),n.first=t.first&&t.first.e,n.last=b&&b.e;for(var ge of r.values())Oe(ge.e);r.clear()}function Jr(n,e,t,r){(r&Kt)!==0&&ft(n.v,e),(r&Wt)!==0?ft(n.i,t):n.i=t}function zr(n,e,t,r,i,s,a,o,l,c,h){var d=(l&Kt)!==0,p=(l&Oi)===0,v=d?p?I(i,!1,!1):St(i):i,f=(l&Wt)===0?a:St(a),m={i:f,v,k:s,a:null,e:null,prev:t,next:r};try{if(n===null){var b=document.createDocumentFragment();b.append(n=mt())}return m.e=Et(()=>o(n,v,f,c),qi),m.e.prev=t&&t.e,m.e.next=r&&r.e,t===null?h||(e.first=m):(t.next=m,t.e.next=m.e),r!==null&&(r.prev=m,r.e.prev=m.e),m}finally{}}function sn(n,e,t){for(var r=n.next?n.next.e.nodes_start:t,i=e?e.e.nodes_start:t,s=n.e.nodes_start;s!==null&&s!==r;){var a=zt(s);i.before(s),s=a}}function be(n,e,t){e===null?n.first=t:(e.next=t,e.e.next=t&&t.e),t!==null&&(t.prev=e,t.e.prev=e&&e.e)}const Xn=[...` 	
\r\f \v\uFEFF`];function Cs(n,e,t){var r=""+n;if(t){for(var i in t)if(t[i])r=r?r+" "+i:i;else if(r.length)for(var s=i.length,a=0;(a=r.indexOf(i,a))>=0;){var o=a+s;(a===0||Xn.includes(r[a-1]))&&(o===r.length||Xn.includes(r[o]))?r=(a===0?"":r.substring(0,a))+r.substring(o+1):a=o}}return r===""?null:r}function Ss(n,e){return n==null?null:String(n)}function Es(n,e,t,r,i,s){var a=n.__className;if(a!==t||a===void 0){var o=Cs(t,r,s);o==null?n.removeAttribute("class"):n.className=o,n.__className=t}else if(s&&i!==s)for(var l in s){var c=!!s[l];(i==null||c!==!!i[l])&&n.classList.toggle(l,c)}return s}function er(n,e,t,r){var i=n.__style;if(i!==e){var s=Ss(e);s==null?n.removeAttribute("style"):n.style.cssText=s,n.__style=e}return r}function Zr(n,e,t=!1){if(n.multiple){if(e==null)return;if(!dt(e))return Li();for(var r of n.options)r.selected=e.includes(wt(r));return}for(r of n.options){var i=wt(r);if(Zi(i,e)){r.selected=!0;return}}(!t||e!==void 0)&&(n.selectedIndex=-1)}function ks(n){var e=new MutationObserver(()=>{Zr(n,n.__value)});e.observe(n,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),An(()=>{e.disconnect()})}function an(n,e,t=e){var r=!0;Ir(n,"change",i=>{var s=i?"[selected]":":checked",a;if(n.multiple)a=[].map.call(n.querySelectorAll(s),wt);else{var o=n.querySelector(s)??n.querySelector("option:not([disabled])");a=o&&wt(o)}t(a)}),ns(()=>{var i=e();if(Zr(n,i,r),r&&i===void 0){var s=n.querySelector(":checked");s!==null&&(i=wt(s),t(i))}n.__value=i,r=!1}),ks(n)}function wt(n){return"__value"in n?n.__value:n.value}const Os=Symbol("is custom element"),xs=Symbol("is html");function Ee(n,e,t,r){var i=Ps(n);i[e]!==(i[e]=t)&&(t==null?n.removeAttribute(e):typeof t!="string"&&Ts(n).includes(e)?n[e]=t:n.setAttribute(e,t))}function Ps(n){return n.__attributes??={[Os]:n.nodeName.includes("-"),[xs]:n.namespaceURI===Ii}}var tr=new Map;function Ts(n){var e=n.getAttribute("is")||n.nodeName,t=tr.get(e);if(t)return t;tr.set(e,t=[]);for(var r,i=n,s=Element.prototype;s!==i;){r=fr(i);for(var a in r)r[a].set&&t.push(a);i=wn(i)}return t}function re(n,e,t=e){var r=new WeakSet;Ir(n,"input",async i=>{var s=i?n.defaultValue:n.value;if(s=on(n)?ln(s):s,t(s),N!==null&&r.add(N),await us(),s!==(s=e())){var a=n.selectionStart,o=n.selectionEnd;n.value=s??"",o!==null&&(n.selectionStart=a,n.selectionEnd=Math.min(o,n.value.length))}}),P(e)==null&&n.value&&(t(on(n)?ln(n.value):n.value),N!==null&&r.add(N)),In(()=>{var i=e();if(n===document.activeElement){var s=It??N;if(r.has(s))return}on(n)&&i===ln(n.value)||n.type==="date"&&!i&&!n.value||i!==n.value&&(n.value=i??"")})}function on(n){var e=n.type;return e==="number"||e==="range"}function ln(n){return n===""?null:+n}function Ot(n){return function(...e){var t=e[0];return t.stopPropagation(),n?.apply(this,e)}}function mn(n){return function(...e){var t=e[0];return t.preventDefault(),n?.apply(this,e)}}function Ze(n=!1){const e=D,t=e.l.u;if(!t)return;let r=()=>H(e.s);if(n){let i=0,s={};const a=Pn(()=>{let o=!1;const l=e.s;for(const c in l)l[c]!==s[c]&&(s[c]=l[c],o=!0);return o&&i++,i});r=()=>u(a)}t.b.length&&es(()=>{nr(e,r),Vt(t.b)}),dn(()=>{const i=P(()=>t.m.map(fi));return()=>{for(const s of i)typeof s=="function"&&s()}}),t.a.length&&dn(()=>{nr(e,r),Vt(t.a)})}function nr(n,e){if(n.l.s)for(const t of n.l.s)u(t);e()}function Gt(n,e){var t=n.$$events?.[e.type],r=dt(t)?t.slice():t==null?[]:[t];for(var i of r)i.call(this,e)}function Gr(n,e,t){if(n==null)return e(void 0),rt;const r=P(()=>n.subscribe(e,t));return r.unsubscribe?()=>r.unsubscribe():r}const Xe=[];function Rs(n,e){return{subscribe:Yt(n,e).subscribe}}function Yt(n,e=rt){let t=null;const r=new Set;function i(o){if(gr(n,o)&&(n=o,t)){const l=!Xe.length;for(const c of r)c[1](),Xe.push(c,n);if(l){for(let c=0;c<Xe.length;c+=2)Xe[c][0](Xe[c+1]);Xe.length=0}}}function s(o){i(o(n))}function a(o,l=rt){const c=[o,l];return r.add(c),r.size===1&&(t=e(i,s)||rt),o(n),()=>{r.delete(c),r.size===0&&t&&(t(),t=null)}}return{set:i,update:s,subscribe:a}}function As(n){let e;return Gr(n,t=>e=t)(),e}let Rt=!1,gn=Symbol();function ot(n,e,t){const r=t[e]??={store:null,source:I(void 0),unsubscribe:rt};if(r.store!==n&&!(gn in t))if(r.unsubscribe(),r.store=n??null,n==null)r.source.v=void 0,r.unsubscribe=rt;else{var i=!0;r.unsubscribe=Gr(n,s=>{i?r.source.v=s:w(r.source,s)}),i=!1}return n&&gn in t?As(n):u(r.source)}function Vn(){const n={};function e(){An(()=>{for(var t in n)n[t].unsubscribe();jt(n,gn,{enumerable:!1,value:!0})})}return[n,e]}function Is(n){var e=Rt;try{return Rt=!1,[n(),Rt]}finally{Rt=e}}function gt(n,e,t,r){var i=!pt||(t&xi)!==0,s=(t&Ti)!==0,a=r,o=!0,l=()=>(o&&(o=!1,a=r),a),c;{var h=je in n||vi in n;c=nt(n,e)?.set??(h&&e in n?g=>n[e]=g:void 0)}var d,p=!1;[d,p]=Is(()=>n[e]),d===void 0&&r!==void 0&&(d=l(),c&&(i&&wi(),c(d)));var v;if(i?v=()=>{var g=n[e];return g===void 0?l():(o=!0,g)}:v=()=>{var g=n[e];return g!==void 0&&(a=void 0),g===void 0?a:g},i&&(t&Pi)===0)return v;if(c){var f=n.$$legacy;return(function(g,E){return arguments.length>0?((!i||!E||f||p)&&c(E?v():g),g):v()})}var m=!1,b=Tn(()=>(m=!1,v()));u(b);var S=R;return(function(g,E){if(arguments.length>0){const k=E?u(b):i&&s?tt(g):g;return w(b,k),m=!0,a!==void 0&&(a=k),g}return ze&&m||(S.f&Je)!==0?b.v:u(b)})}function Qt(n){D===null&&vr(),pt&&D.l!==null?qs(D).m.push(n):dn(()=>{const e=P(n);if(typeof e=="function")return e})}function Ls(n,e,{bubbles:t=!1,cancelable:r=!1}={}){return new CustomEvent(n,{detail:e,bubbles:t,cancelable:r})}function Xt(){const n=D;return n===null&&vr(),(e,t,r)=>{const i=n.s.$$events?.[e];if(i){const s=dt(i)?i.slice():[i],a=Ls(e,t,r);for(const o of s)o.call(n.x,a);return!a.defaultPrevented}return!0}}function qs(n){var e=n.l;return e.u??={a:[],b:[],m:[]}}const js="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(js);Vi();class ce extends Error{constructor(e){super("ClientResponseError"),this.url="",this.status=0,this.response={},this.isAbort=!1,this.originalError=null,Object.setPrototypeOf(this,ce.prototype),e!==null&&typeof e=="object"&&(this.url=typeof e.url=="string"?e.url:"",this.status=typeof e.status=="number"?e.status:0,this.isAbort=!!e.isAbort,this.originalError=e.originalError,e.response!==null&&typeof e.response=="object"?this.response=e.response:e.data!==null&&typeof e.data=="object"?this.response=e.data:this.response={}),this.originalError||e instanceof ce||(this.originalError=e),typeof DOMException<"u"&&e instanceof DOMException&&(this.isAbort=!0),this.name="ClientResponseError "+this.status,this.message=this.response?.message,this.message||(this.isAbort?this.message="The request was autocancelled. You can find more info in https://github.com/pocketbase/js-sdk#auto-cancellation.":this.originalError?.cause?.message?.includes("ECONNREFUSED ::1")?this.message="Failed to connect to the PocketBase server. Try changing the SDK URL from localhost to 127.0.0.1 (https://github.com/pocketbase/js-sdk/issues/21).":this.message="Something went wrong."),this.cause=this.originalError}get data(){return this.response}toJSON(){return{...this}}}const At=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function Vs(n,e){const t={};if(typeof n!="string")return t;const r=Object.assign({},{}).decode||Hs;let i=0;for(;i<n.length;){const s=n.indexOf("=",i);if(s===-1)break;let a=n.indexOf(";",i);if(a===-1)a=n.length;else if(a<s){i=n.lastIndexOf(";",s-1)+1;continue}const o=n.slice(i,s).trim();if(t[o]===void 0){let l=n.slice(s+1,a).trim();l.charCodeAt(0)===34&&(l=l.slice(1,-1));try{t[o]=r(l)}catch{t[o]=l}}i=a+1}return t}function rr(n,e,t){const r=Object.assign({},t||{}),i=r.encode||Ns;if(!At.test(n))throw new TypeError("argument name is invalid");const s=i(e);if(s&&!At.test(s))throw new TypeError("argument val is invalid");let a=n+"="+s;if(r.maxAge!=null){const o=r.maxAge-0;if(isNaN(o)||!isFinite(o))throw new TypeError("option maxAge is invalid");a+="; Max-Age="+Math.floor(o)}if(r.domain){if(!At.test(r.domain))throw new TypeError("option domain is invalid");a+="; Domain="+r.domain}if(r.path){if(!At.test(r.path))throw new TypeError("option path is invalid");a+="; Path="+r.path}if(r.expires){if(!(function(l){return Object.prototype.toString.call(l)==="[object Date]"||l instanceof Date})(r.expires)||isNaN(r.expires.valueOf()))throw new TypeError("option expires is invalid");a+="; Expires="+r.expires.toUTCString()}if(r.httpOnly&&(a+="; HttpOnly"),r.secure&&(a+="; Secure"),r.priority)switch(typeof r.priority=="string"?r.priority.toLowerCase():r.priority){case"low":a+="; Priority=Low";break;case"medium":a+="; Priority=Medium";break;case"high":a+="; Priority=High";break;default:throw new TypeError("option priority is invalid")}if(r.sameSite)switch(typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite){case!0:a+="; SameSite=Strict";break;case"lax":a+="; SameSite=Lax";break;case"strict":a+="; SameSite=Strict";break;case"none":a+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return a}function Hs(n){return n.indexOf("%")!==-1?decodeURIComponent(n):n}function Ns(n){return encodeURIComponent(n)}const Us=typeof navigator<"u"&&navigator.product==="ReactNative"||typeof global<"u"&&global.HermesInternal;let Yr;function lt(n){if(n)try{const e=decodeURIComponent(Yr(n.split(".")[1]).split("").map((function(t){return"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)})).join(""));return JSON.parse(e)||{}}catch{}return{}}function Qr(n,e=0){let t=lt(n);return!(Object.keys(t).length>0&&(!t.exp||t.exp-e>Date.now()/1e3))}Yr=typeof atob!="function"||Us?n=>{let e=String(n).replace(/=+$/,"");if(e.length%4==1)throw new Error("'atob' failed: The string to be decoded is not correctly encoded.");for(var t,r,i=0,s=0,a="";r=e.charAt(s++);~r&&(t=i%4?64*t+r:r,i++%4)?a+=String.fromCharCode(255&t>>(-2*i&6)):0)r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(r);return a}:atob;const ir="pb_auth";class Hn{constructor(){this.baseToken="",this.baseModel=null,this._onChangeCallbacks=[]}get token(){return this.baseToken}get record(){return this.baseModel}get model(){return this.baseModel}get isValid(){return!Qr(this.token)}get isSuperuser(){let e=lt(this.token);return e.type=="auth"&&(this.record?.collectionName=="_superusers"||!this.record?.collectionName&&e.collectionId=="pbc_3142635823")}get isAdmin(){return console.warn("Please replace pb.authStore.isAdmin with pb.authStore.isSuperuser OR simply check the value of pb.authStore.record?.collectionName"),this.isSuperuser}get isAuthRecord(){return console.warn("Please replace pb.authStore.isAuthRecord with !pb.authStore.isSuperuser OR simply check the value of pb.authStore.record?.collectionName"),lt(this.token).type=="auth"&&!this.isSuperuser}save(e,t){this.baseToken=e||"",this.baseModel=t||null,this.triggerChange()}clear(){this.baseToken="",this.baseModel=null,this.triggerChange()}loadFromCookie(e,t=ir){const r=Vs(e||"")[t]||"";let i={};try{i=JSON.parse(r),(typeof i===null||typeof i!="object"||Array.isArray(i))&&(i={})}catch{}this.save(i.token||"",i.record||i.model||null)}exportToCookie(e,t=ir){const r={secure:!0,sameSite:!0,httpOnly:!0,path:"/"},i=lt(this.token);r.expires=i?.exp?new Date(1e3*i.exp):new Date("1970-01-01"),e=Object.assign({},r,e);const s={token:this.token,record:this.record?JSON.parse(JSON.stringify(this.record)):null};let a=rr(t,JSON.stringify(s),e);const o=typeof Blob<"u"?new Blob([a]).size:a.length;if(s.record&&o>4096){s.record={id:s.record?.id,email:s.record?.email};const l=["collectionId","collectionName","verified"];for(const c in this.record)l.includes(c)&&(s.record[c]=this.record[c]);a=rr(t,JSON.stringify(s),e)}return a}onChange(e,t=!1){return this._onChangeCallbacks.push(e),t&&e(this.token,this.record),()=>{for(let r=this._onChangeCallbacks.length-1;r>=0;r--)if(this._onChangeCallbacks[r]==e)return delete this._onChangeCallbacks[r],void this._onChangeCallbacks.splice(r,1)}}triggerChange(){for(const e of this._onChangeCallbacks)e&&e(this.token,this.record)}}class Ds extends Hn{constructor(e="pocketbase_auth"){super(),this.storageFallback={},this.storageKey=e,this._bindStorageEvent()}get token(){return(this._storageGet(this.storageKey)||{}).token||""}get record(){const e=this._storageGet(this.storageKey)||{};return e.record||e.model||null}get model(){return this.record}save(e,t){this._storageSet(this.storageKey,{token:e,record:t}),super.save(e,t)}clear(){this._storageRemove(this.storageKey),super.clear()}_storageGet(e){if(typeof window<"u"&&window?.localStorage){const t=window.localStorage.getItem(e)||"";try{return JSON.parse(t)}catch{return t}}return this.storageFallback[e]}_storageSet(e,t){if(typeof window<"u"&&window?.localStorage){let r=t;typeof t!="string"&&(r=JSON.stringify(t)),window.localStorage.setItem(e,r)}else this.storageFallback[e]=t}_storageRemove(e){typeof window<"u"&&window?.localStorage&&window.localStorage?.removeItem(e),delete this.storageFallback[e]}_bindStorageEvent(){typeof window<"u"&&window?.localStorage&&window.addEventListener&&window.addEventListener("storage",(e=>{if(e.key!=this.storageKey)return;const t=this._storageGet(this.storageKey)||{};super.save(t.token||"",t.record||t.model||null)}))}}class Te{constructor(e){this.client=e}}class Ms extends Te{async getAll(e){return e=Object.assign({method:"GET"},e),this.client.send("/api/settings",e)}async update(e,t){return t=Object.assign({method:"PATCH",body:e},t),this.client.send("/api/settings",t)}async testS3(e="storage",t){return t=Object.assign({method:"POST",body:{filesystem:e}},t),this.client.send("/api/settings/test/s3",t).then((()=>!0))}async testEmail(e,t,r,i){return i=Object.assign({method:"POST",body:{email:t,template:r,collection:e}},i),this.client.send("/api/settings/test/email",i).then((()=>!0))}async generateAppleClientSecret(e,t,r,i,s,a){return a=Object.assign({method:"POST",body:{clientId:e,teamId:t,keyId:r,privateKey:i,duration:s}},a),this.client.send("/api/settings/apple/generate-client-secret",a)}}const Bs=["requestKey","$cancelKey","$autoCancel","fetch","headers","body","query","params","cache","credentials","headers","integrity","keepalive","method","mode","redirect","referrer","referrerPolicy","signal","window"];function Nn(n){if(n){n.query=n.query||{};for(let e in n)Bs.includes(e)||(n.query[e]=n[e],delete n[e])}}function Xr(n){const e=[];for(const t in n){const r=encodeURIComponent(t),i=Array.isArray(n[t])?n[t]:[n[t]];for(let s of i)s=Fs(s),s!==null&&e.push(r+"="+s)}return e.join("&")}function Fs(n){return n==null?null:n instanceof Date?encodeURIComponent(n.toISOString().replace("T"," ")):encodeURIComponent(typeof n=="object"?JSON.stringify(n):n)}class ei extends Te{constructor(){super(...arguments),this.clientId="",this.eventSource=null,this.subscriptions={},this.lastSentSubscriptions=[],this.maxConnectTimeout=15e3,this.reconnectAttempts=0,this.maxReconnectAttempts=1/0,this.predefinedReconnectIntervals=[200,300,500,1e3,1200,1500,2e3],this.pendingConnects=[]}get isConnected(){return!!this.eventSource&&!!this.clientId&&!this.pendingConnects.length}async subscribe(e,t,r){if(!e)throw new Error("topic must be set.");let i=e;if(r){Nn(r=Object.assign({},r));const a="options="+encodeURIComponent(JSON.stringify({query:r.query,headers:r.headers}));i+=(i.includes("?")?"&":"?")+a}const s=function(a){const o=a;let l;try{l=JSON.parse(o?.data)}catch{}t(l||{})};return this.subscriptions[i]||(this.subscriptions[i]=[]),this.subscriptions[i].push(s),this.isConnected?this.subscriptions[i].length===1?await this.submitSubscriptions():this.eventSource?.addEventListener(i,s):await this.connect(),async()=>this.unsubscribeByTopicAndListener(e,s)}async unsubscribe(e){let t=!1;if(e){const r=this.getSubscriptionsByTopic(e);for(let i in r)if(this.hasSubscriptionListeners(i)){for(let s of this.subscriptions[i])this.eventSource?.removeEventListener(i,s);delete this.subscriptions[i],t||(t=!0)}}else this.subscriptions={};this.hasSubscriptionListeners()?t&&await this.submitSubscriptions():this.disconnect()}async unsubscribeByPrefix(e){let t=!1;for(let r in this.subscriptions)if((r+"?").startsWith(e)){t=!0;for(let i of this.subscriptions[r])this.eventSource?.removeEventListener(r,i);delete this.subscriptions[r]}t&&(this.hasSubscriptionListeners()?await this.submitSubscriptions():this.disconnect())}async unsubscribeByTopicAndListener(e,t){let r=!1;const i=this.getSubscriptionsByTopic(e);for(let s in i){if(!Array.isArray(this.subscriptions[s])||!this.subscriptions[s].length)continue;let a=!1;for(let o=this.subscriptions[s].length-1;o>=0;o--)this.subscriptions[s][o]===t&&(a=!0,delete this.subscriptions[s][o],this.subscriptions[s].splice(o,1),this.eventSource?.removeEventListener(s,t));a&&(this.subscriptions[s].length||delete this.subscriptions[s],r||this.hasSubscriptionListeners(s)||(r=!0))}this.hasSubscriptionListeners()?r&&await this.submitSubscriptions():this.disconnect()}hasSubscriptionListeners(e){if(this.subscriptions=this.subscriptions||{},e)return!!this.subscriptions[e]?.length;for(let t in this.subscriptions)if(this.subscriptions[t]?.length)return!0;return!1}async submitSubscriptions(){if(this.clientId)return this.addAllSubscriptionListeners(),this.lastSentSubscriptions=this.getNonEmptySubscriptionKeys(),this.client.send("/api/realtime",{method:"POST",body:{clientId:this.clientId,subscriptions:this.lastSentSubscriptions},requestKey:this.getSubscriptionsCancelKey()}).catch((e=>{if(!e?.isAbort)throw e}))}getSubscriptionsCancelKey(){return"realtime_"+this.clientId}getSubscriptionsByTopic(e){const t={};e=e.includes("?")?e:e+"?";for(let r in this.subscriptions)(r+"?").startsWith(e)&&(t[r]=this.subscriptions[r]);return t}getNonEmptySubscriptionKeys(){const e=[];for(let t in this.subscriptions)this.subscriptions[t].length&&e.push(t);return e}addAllSubscriptionListeners(){if(this.eventSource){this.removeAllSubscriptionListeners();for(let e in this.subscriptions)for(let t of this.subscriptions[e])this.eventSource.addEventListener(e,t)}}removeAllSubscriptionListeners(){if(this.eventSource)for(let e in this.subscriptions)for(let t of this.subscriptions[e])this.eventSource.removeEventListener(e,t)}async connect(){if(!(this.reconnectAttempts>0))return new Promise(((e,t)=>{this.pendingConnects.push({resolve:e,reject:t}),this.pendingConnects.length>1||this.initConnect()}))}initConnect(){this.disconnect(!0),clearTimeout(this.connectTimeoutId),this.connectTimeoutId=setTimeout((()=>{this.connectErrorHandler(new Error("EventSource connect took too long."))}),this.maxConnectTimeout),this.eventSource=new EventSource(this.client.buildURL("/api/realtime")),this.eventSource.onerror=e=>{this.connectErrorHandler(new Error("Failed to establish realtime connection."))},this.eventSource.addEventListener("PB_CONNECT",(e=>{const t=e;this.clientId=t?.lastEventId,this.submitSubscriptions().then((async()=>{let r=3;for(;this.hasUnsentSubscriptions()&&r>0;)r--,await this.submitSubscriptions()})).then((()=>{for(let i of this.pendingConnects)i.resolve();this.pendingConnects=[],this.reconnectAttempts=0,clearTimeout(this.reconnectTimeoutId),clearTimeout(this.connectTimeoutId);const r=this.getSubscriptionsByTopic("PB_CONNECT");for(let i in r)for(let s of r[i])s(e)})).catch((r=>{this.clientId="",this.connectErrorHandler(r)}))}))}hasUnsentSubscriptions(){const e=this.getNonEmptySubscriptionKeys();if(e.length!=this.lastSentSubscriptions.length)return!0;for(const t of e)if(!this.lastSentSubscriptions.includes(t))return!0;return!1}connectErrorHandler(e){if(clearTimeout(this.connectTimeoutId),clearTimeout(this.reconnectTimeoutId),!this.clientId&&!this.reconnectAttempts||this.reconnectAttempts>this.maxReconnectAttempts){for(let r of this.pendingConnects)r.reject(new ce(e));return this.pendingConnects=[],void this.disconnect()}this.disconnect(!0);const t=this.predefinedReconnectIntervals[this.reconnectAttempts]||this.predefinedReconnectIntervals[this.predefinedReconnectIntervals.length-1];this.reconnectAttempts++,this.reconnectTimeoutId=setTimeout((()=>{this.initConnect()}),t)}disconnect(e=!1){if(this.clientId&&this.onDisconnect&&this.onDisconnect(Object.keys(this.subscriptions)),clearTimeout(this.connectTimeoutId),clearTimeout(this.reconnectTimeoutId),this.removeAllSubscriptionListeners(),this.client.cancelRequest(this.getSubscriptionsCancelKey()),this.eventSource?.close(),this.eventSource=null,this.clientId="",!e){this.reconnectAttempts=0;for(let t of this.pendingConnects)t.resolve();this.pendingConnects=[]}}}class ti extends Te{decode(e){return e}async getFullList(e,t){if(typeof e=="number")return this._getFullList(e,t);let r=500;return(t=Object.assign({},e,t)).batch&&(r=t.batch,delete t.batch),this._getFullList(r,t)}async getList(e=1,t=30,r){return(r=Object.assign({method:"GET"},r)).query=Object.assign({page:e,perPage:t},r.query),this.client.send(this.baseCrudPath,r).then((i=>(i.items=i.items?.map((s=>this.decode(s)))||[],i)))}async getFirstListItem(e,t){return(t=Object.assign({requestKey:"one_by_filter_"+this.baseCrudPath+"_"+e},t)).query=Object.assign({filter:e,skipTotal:1},t.query),this.getList(1,1,t).then((r=>{if(!r?.items?.length)throw new ce({status:404,response:{code:404,message:"The requested resource wasn't found.",data:{}}});return r.items[0]}))}async getOne(e,t){if(!e)throw new ce({url:this.client.buildURL(this.baseCrudPath+"/"),status:404,response:{code:404,message:"Missing required record id.",data:{}}});return t=Object.assign({method:"GET"},t),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(e),t).then((r=>this.decode(r)))}async create(e,t){return t=Object.assign({method:"POST",body:e},t),this.client.send(this.baseCrudPath,t).then((r=>this.decode(r)))}async update(e,t,r){return r=Object.assign({method:"PATCH",body:t},r),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(e),r).then((i=>this.decode(i)))}async delete(e,t){return t=Object.assign({method:"DELETE"},t),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(e),t).then((()=>!0))}_getFullList(e=500,t){(t=t||{}).query=Object.assign({skipTotal:1},t.query);let r=[],i=async s=>this.getList(s,e||500,t).then((a=>{const o=a.items;return r=r.concat(o),o.length==a.perPage?i(s+1):r}));return i(1)}}function Le(n,e,t,r){const i=r!==void 0;return i||t!==void 0?i?(console.warn(n),e.body=Object.assign({},e.body,t),e.query=Object.assign({},e.query,r),e):Object.assign(e,t):e}function cn(n){n._resetAutoRefresh?.()}class $s extends ti{constructor(e,t){super(e),this.collectionIdOrName=t}get baseCrudPath(){return this.baseCollectionPath+"/records"}get baseCollectionPath(){return"/api/collections/"+encodeURIComponent(this.collectionIdOrName)}get isSuperusers(){return this.collectionIdOrName=="_superusers"||this.collectionIdOrName=="_pbc_2773867675"}async subscribe(e,t,r){if(!e)throw new Error("Missing topic.");if(!t)throw new Error("Missing subscription callback.");return this.client.realtime.subscribe(this.collectionIdOrName+"/"+e,t,r)}async unsubscribe(e){return e?this.client.realtime.unsubscribe(this.collectionIdOrName+"/"+e):this.client.realtime.unsubscribeByPrefix(this.collectionIdOrName)}async getFullList(e,t){if(typeof e=="number")return super.getFullList(e,t);const r=Object.assign({},e,t);return super.getFullList(r)}async getList(e=1,t=30,r){return super.getList(e,t,r)}async getFirstListItem(e,t){return super.getFirstListItem(e,t)}async getOne(e,t){return super.getOne(e,t)}async create(e,t){return super.create(e,t)}async update(e,t,r){return super.update(e,t,r).then((i=>{if(this.client.authStore.record?.id===i?.id&&(this.client.authStore.record?.collectionId===this.collectionIdOrName||this.client.authStore.record?.collectionName===this.collectionIdOrName)){let s=Object.assign({},this.client.authStore.record.expand),a=Object.assign({},this.client.authStore.record,i);s&&(a.expand=Object.assign(s,i.expand)),this.client.authStore.save(this.client.authStore.token,a)}return i}))}async delete(e,t){return super.delete(e,t).then((r=>(!r||this.client.authStore.record?.id!==e||this.client.authStore.record?.collectionId!==this.collectionIdOrName&&this.client.authStore.record?.collectionName!==this.collectionIdOrName||this.client.authStore.clear(),r)))}authResponse(e){const t=this.decode(e?.record||{});return this.client.authStore.save(e?.token,t),Object.assign({},e,{token:e?.token||"",record:t})}async listAuthMethods(e){return e=Object.assign({method:"GET",fields:"mfa,otp,password,oauth2"},e),this.client.send(this.baseCollectionPath+"/auth-methods",e)}async authWithPassword(e,t,r){let i;r=Object.assign({method:"POST",body:{identity:e,password:t}},r),this.isSuperusers&&(i=r.autoRefreshThreshold,delete r.autoRefreshThreshold,r.autoRefresh||cn(this.client));let s=await this.client.send(this.baseCollectionPath+"/auth-with-password",r);return s=this.authResponse(s),i&&this.isSuperusers&&(function(o,l,c,h){cn(o);const d=o.beforeSend,p=o.authStore.record,v=o.authStore.onChange(((f,m)=>{(!f||m?.id!=p?.id||(m?.collectionId||p?.collectionId)&&m?.collectionId!=p?.collectionId)&&cn(o)}));o._resetAutoRefresh=function(){v(),o.beforeSend=d,delete o._resetAutoRefresh},o.beforeSend=async(f,m)=>{const b=o.authStore.token;if(m.query?.autoRefresh)return d?d(f,m):{url:f,sendOptions:m};let S=o.authStore.isValid;if(S&&Qr(o.authStore.token,l))try{await c()}catch{S=!1}S||await h();const g=m.headers||{};for(let E in g)if(E.toLowerCase()=="authorization"&&b==g[E]&&o.authStore.token){g[E]=o.authStore.token;break}return m.headers=g,d?d(f,m):{url:f,sendOptions:m}}})(this.client,i,(()=>this.authRefresh({autoRefresh:!0})),(()=>this.authWithPassword(e,t,Object.assign({autoRefresh:!0},r)))),s}async authWithOAuth2Code(e,t,r,i,s,a,o){let l={method:"POST",body:{provider:e,code:t,codeVerifier:r,redirectURL:i,createData:s}};return l=Le("This form of authWithOAuth2Code(provider, code, codeVerifier, redirectURL, createData?, body?, query?) is deprecated. Consider replacing it with authWithOAuth2Code(provider, code, codeVerifier, redirectURL, createData?, options?).",l,a,o),this.client.send(this.baseCollectionPath+"/auth-with-oauth2",l).then((c=>this.authResponse(c)))}authWithOAuth2(...e){if(e.length>1||typeof e?.[0]=="string")return console.warn("PocketBase: This form of authWithOAuth2() is deprecated and may get removed in the future. Please replace with authWithOAuth2Code() OR use the authWithOAuth2() realtime form as shown in https://pocketbase.io/docs/authentication/#oauth2-integration."),this.authWithOAuth2Code(e?.[0]||"",e?.[1]||"",e?.[2]||"",e?.[3]||"",e?.[4]||{},e?.[5]||{},e?.[6]||{});const t=e?.[0]||{};let r=null;t.urlCallback||(r=sr(void 0));const i=new ei(this.client);function s(){r?.close(),i.unsubscribe()}const a={},o=t.requestKey;return o&&(a.requestKey=o),this.listAuthMethods(a).then((l=>{const c=l.oauth2.providers.find((p=>p.name===t.provider));if(!c)throw new ce(new Error(`Missing or invalid provider "${t.provider}".`));const h=this.client.buildURL("/api/oauth2-redirect"),d=o?this.client.cancelControllers?.[o]:void 0;return d&&(d.signal.onabort=()=>{s()}),new Promise((async(p,v)=>{try{await i.subscribe("@oauth2",(async S=>{const g=i.clientId;try{if(!S.state||g!==S.state)throw new Error("State parameters don't match.");if(S.error||!S.code)throw new Error("OAuth2 redirect error or missing code: "+S.error);const E=Object.assign({},t);delete E.provider,delete E.scopes,delete E.createData,delete E.urlCallback,d?.signal?.onabort&&(d.signal.onabort=null);const k=await this.authWithOAuth2Code(c.name,S.code,c.codeVerifier,h,t.createData,E);p(k)}catch(E){v(new ce(E))}s()}));const f={state:i.clientId};t.scopes?.length&&(f.scope=t.scopes.join(" "));const m=this._replaceQueryParams(c.authURL+h,f);await(t.urlCallback||function(S){r?r.location.href=S:r=sr(S)})(m)}catch(f){s(),v(new ce(f))}}))})).catch((l=>{throw s(),l}))}async authRefresh(e,t){let r={method:"POST"};return r=Le("This form of authRefresh(body?, query?) is deprecated. Consider replacing it with authRefresh(options?).",r,e,t),this.client.send(this.baseCollectionPath+"/auth-refresh",r).then((i=>this.authResponse(i)))}async requestPasswordReset(e,t,r){let i={method:"POST",body:{email:e}};return i=Le("This form of requestPasswordReset(email, body?, query?) is deprecated. Consider replacing it with requestPasswordReset(email, options?).",i,t,r),this.client.send(this.baseCollectionPath+"/request-password-reset",i).then((()=>!0))}async confirmPasswordReset(e,t,r,i,s){let a={method:"POST",body:{token:e,password:t,passwordConfirm:r}};return a=Le("This form of confirmPasswordReset(token, password, passwordConfirm, body?, query?) is deprecated. Consider replacing it with confirmPasswordReset(token, password, passwordConfirm, options?).",a,i,s),this.client.send(this.baseCollectionPath+"/confirm-password-reset",a).then((()=>!0))}async requestVerification(e,t,r){let i={method:"POST",body:{email:e}};return i=Le("This form of requestVerification(email, body?, query?) is deprecated. Consider replacing it with requestVerification(email, options?).",i,t,r),this.client.send(this.baseCollectionPath+"/request-verification",i).then((()=>!0))}async confirmVerification(e,t,r){let i={method:"POST",body:{token:e}};return i=Le("This form of confirmVerification(token, body?, query?) is deprecated. Consider replacing it with confirmVerification(token, options?).",i,t,r),this.client.send(this.baseCollectionPath+"/confirm-verification",i).then((()=>{const s=lt(e),a=this.client.authStore.record;return a&&!a.verified&&a.id===s.id&&a.collectionId===s.collectionId&&(a.verified=!0,this.client.authStore.save(this.client.authStore.token,a)),!0}))}async requestEmailChange(e,t,r){let i={method:"POST",body:{newEmail:e}};return i=Le("This form of requestEmailChange(newEmail, body?, query?) is deprecated. Consider replacing it with requestEmailChange(newEmail, options?).",i,t,r),this.client.send(this.baseCollectionPath+"/request-email-change",i).then((()=>!0))}async confirmEmailChange(e,t,r,i){let s={method:"POST",body:{token:e,password:t}};return s=Le("This form of confirmEmailChange(token, password, body?, query?) is deprecated. Consider replacing it with confirmEmailChange(token, password, options?).",s,r,i),this.client.send(this.baseCollectionPath+"/confirm-email-change",s).then((()=>{const a=lt(e),o=this.client.authStore.record;return o&&o.id===a.id&&o.collectionId===a.collectionId&&this.client.authStore.clear(),!0}))}async listExternalAuths(e,t){return this.client.collection("_externalAuths").getFullList(Object.assign({},t,{filter:this.client.filter("recordRef = {:id}",{id:e})}))}async unlinkExternalAuth(e,t,r){const i=await this.client.collection("_externalAuths").getFirstListItem(this.client.filter("recordRef = {:recordId} && provider = {:provider}",{recordId:e,provider:t}));return this.client.collection("_externalAuths").delete(i.id,r).then((()=>!0))}async requestOTP(e,t){return t=Object.assign({method:"POST",body:{email:e}},t),this.client.send(this.baseCollectionPath+"/request-otp",t)}async authWithOTP(e,t,r){return r=Object.assign({method:"POST",body:{otpId:e,password:t}},r),this.client.send(this.baseCollectionPath+"/auth-with-otp",r).then((i=>this.authResponse(i)))}async impersonate(e,t,r){(r=Object.assign({method:"POST",body:{duration:t}},r)).headers=r.headers||{},r.headers.Authorization||(r.headers.Authorization=this.client.authStore.token);const i=new ni(this.client.baseURL,new Hn,this.client.lang),s=await i.send(this.baseCollectionPath+"/impersonate/"+encodeURIComponent(e),r);return i.authStore.save(s?.token,this.decode(s?.record||{})),i}_replaceQueryParams(e,t={}){let r=e,i="";e.indexOf("?")>=0&&(r=e.substring(0,e.indexOf("?")),i=e.substring(e.indexOf("?")+1));const s={},a=i.split("&");for(const o of a){if(o=="")continue;const l=o.split("=");s[decodeURIComponent(l[0].replace(/\+/g," "))]=decodeURIComponent((l[1]||"").replace(/\+/g," "))}for(let o in t)t.hasOwnProperty(o)&&(t[o]==null?delete s[o]:s[o]=t[o]);i="";for(let o in s)s.hasOwnProperty(o)&&(i!=""&&(i+="&"),i+=encodeURIComponent(o.replace(/%20/g,"+"))+"="+encodeURIComponent(s[o].replace(/%20/g,"+")));return i!=""?r+"?"+i:r}}function sr(n){if(typeof window>"u"||!window?.open)throw new ce(new Error("Not in a browser context - please pass a custom urlCallback function."));let e=1024,t=768,r=window.innerWidth,i=window.innerHeight;e=e>r?r:e,t=t>i?i:t;let s=r/2-e/2,a=i/2-t/2;return window.open(n,"popup_window","width="+e+",height="+t+",top="+a+",left="+s+",resizable,menubar=no")}class Ks extends ti{get baseCrudPath(){return"/api/collections"}async import(e,t=!1,r){return r=Object.assign({method:"PUT",body:{collections:e,deleteMissing:t}},r),this.client.send(this.baseCrudPath+"/import",r).then((()=>!0))}async getScaffolds(e){return e=Object.assign({method:"GET"},e),this.client.send(this.baseCrudPath+"/meta/scaffolds",e)}async truncate(e,t){return t=Object.assign({method:"DELETE"},t),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(e)+"/truncate",t).then((()=>!0))}}class Ws extends Te{async getList(e=1,t=30,r){return(r=Object.assign({method:"GET"},r)).query=Object.assign({page:e,perPage:t},r.query),this.client.send("/api/logs",r)}async getOne(e,t){if(!e)throw new ce({url:this.client.buildURL("/api/logs/"),status:404,response:{code:404,message:"Missing required log id.",data:{}}});return t=Object.assign({method:"GET"},t),this.client.send("/api/logs/"+encodeURIComponent(e),t)}async getStats(e){return e=Object.assign({method:"GET"},e),this.client.send("/api/logs/stats",e)}}class Js extends Te{async check(e){return e=Object.assign({method:"GET"},e),this.client.send("/api/health",e)}}class zs extends Te{getUrl(e,t,r={}){return console.warn("Please replace pb.files.getUrl() with pb.files.getURL()"),this.getURL(e,t,r)}getURL(e,t,r={}){if(!t||!e?.id||!e?.collectionId&&!e?.collectionName)return"";const i=[];i.push("api"),i.push("files"),i.push(encodeURIComponent(e.collectionId||e.collectionName)),i.push(encodeURIComponent(e.id)),i.push(encodeURIComponent(t));let s=this.client.buildURL(i.join("/"));if(Object.keys(r).length){r.download===!1&&delete r.download;const a=new URLSearchParams(r);s+=(s.includes("?")?"&":"?")+a}return s}async getToken(e){return e=Object.assign({method:"POST"},e),this.client.send("/api/files/token",e).then((t=>t?.token||""))}}class Zs extends Te{async getFullList(e){return e=Object.assign({method:"GET"},e),this.client.send("/api/backups",e)}async create(e,t){return t=Object.assign({method:"POST",body:{name:e}},t),this.client.send("/api/backups",t).then((()=>!0))}async upload(e,t){return t=Object.assign({method:"POST",body:e},t),this.client.send("/api/backups/upload",t).then((()=>!0))}async delete(e,t){return t=Object.assign({method:"DELETE"},t),this.client.send(`/api/backups/${encodeURIComponent(e)}`,t).then((()=>!0))}async restore(e,t){return t=Object.assign({method:"POST"},t),this.client.send(`/api/backups/${encodeURIComponent(e)}/restore`,t).then((()=>!0))}getDownloadUrl(e,t){return console.warn("Please replace pb.backups.getDownloadUrl() with pb.backups.getDownloadURL()"),this.getDownloadURL(e,t)}getDownloadURL(e,t){return this.client.buildURL(`/api/backups/${encodeURIComponent(t)}?token=${encodeURIComponent(e)}`)}}class Gs extends Te{async getFullList(e){return e=Object.assign({method:"GET"},e),this.client.send("/api/crons",e)}async run(e,t){return t=Object.assign({method:"POST"},t),this.client.send(`/api/crons/${encodeURIComponent(e)}`,t).then((()=>!0))}}function _n(n){return typeof Blob<"u"&&n instanceof Blob||typeof File<"u"&&n instanceof File||n!==null&&typeof n=="object"&&n.uri&&(typeof navigator<"u"&&navigator.product==="ReactNative"||typeof global<"u"&&global.HermesInternal)}function bn(n){return n&&(n.constructor?.name==="FormData"||typeof FormData<"u"&&n instanceof FormData)}function ar(n){for(const e in n){const t=Array.isArray(n[e])?n[e]:[n[e]];for(const r of t)if(_n(r))return!0}return!1}const Ys=/^[\-\.\d]+$/;function or(n){if(typeof n!="string")return n;if(n=="true")return!0;if(n=="false")return!1;if((n[0]==="-"||n[0]>="0"&&n[0]<="9")&&Ys.test(n)){let e=+n;if(""+e===n)return e}return n}class Qs extends Te{constructor(){super(...arguments),this.requests=[],this.subs={}}collection(e){return this.subs[e]||(this.subs[e]=new Xs(this.requests,e)),this.subs[e]}async send(e){const t=new FormData,r=[];for(let i=0;i<this.requests.length;i++){const s=this.requests[i];if(r.push({method:s.method,url:s.url,headers:s.headers,body:s.json}),s.files)for(let a in s.files){const o=s.files[a]||[];for(let l of o)t.append("requests."+i+"."+a,l)}}return t.append("@jsonPayload",JSON.stringify({requests:r})),e=Object.assign({method:"POST",body:t},e),this.client.send("/api/batch",e)}}class Xs{constructor(e,t){this.requests=[],this.requests=e,this.collectionIdOrName=t}upsert(e,t){t=Object.assign({body:e||{}},t);const r={method:"PUT",url:"/api/collections/"+encodeURIComponent(this.collectionIdOrName)+"/records"};this.prepareRequest(r,t),this.requests.push(r)}create(e,t){t=Object.assign({body:e||{}},t);const r={method:"POST",url:"/api/collections/"+encodeURIComponent(this.collectionIdOrName)+"/records"};this.prepareRequest(r,t),this.requests.push(r)}update(e,t,r){r=Object.assign({body:t||{}},r);const i={method:"PATCH",url:"/api/collections/"+encodeURIComponent(this.collectionIdOrName)+"/records/"+encodeURIComponent(e)};this.prepareRequest(i,r),this.requests.push(i)}delete(e,t){t=Object.assign({},t);const r={method:"DELETE",url:"/api/collections/"+encodeURIComponent(this.collectionIdOrName)+"/records/"+encodeURIComponent(e)};this.prepareRequest(r,t),this.requests.push(r)}prepareRequest(e,t){if(Nn(t),e.headers=t.headers,e.json={},e.files={},t.query!==void 0){const i=Xr(t.query);i&&(e.url+=(e.url.includes("?")?"&":"?")+i)}let r=t.body;bn(r)&&(r=(function(s){let a={};return s.forEach(((o,l)=>{if(l==="@jsonPayload"&&typeof o=="string")try{let c=JSON.parse(o);Object.assign(a,c)}catch(c){console.warn("@jsonPayload error:",c)}else a[l]!==void 0?(Array.isArray(a[l])||(a[l]=[a[l]]),a[l].push(or(o))):a[l]=or(o)})),a})(r));for(const i in r){const s=r[i];if(_n(s))e.files[i]=e.files[i]||[],e.files[i].push(s);else if(Array.isArray(s)){const a=[],o=[];for(const l of s)_n(l)?a.push(l):o.push(l);if(a.length>0&&a.length==s.length){e.files[i]=e.files[i]||[];for(let l of a)e.files[i].push(l)}else if(e.json[i]=o,a.length>0){let l=i;i.startsWith("+")||i.endsWith("+")||(l+="+"),e.files[l]=e.files[l]||[];for(let c of a)e.files[l].push(c)}}else e.json[i]=s}}}class ni{get baseUrl(){return this.baseURL}set baseUrl(e){this.baseURL=e}constructor(e="/",t,r="en-US"){this.cancelControllers={},this.recordServices={},this.enableAutoCancellation=!0,this.baseURL=e,this.lang=r,t?this.authStore=t:typeof window<"u"&&window.Deno?this.authStore=new Hn:this.authStore=new Ds,this.collections=new Ks(this),this.files=new zs(this),this.logs=new Ws(this),this.settings=new Ms(this),this.realtime=new ei(this),this.health=new Js(this),this.backups=new Zs(this),this.crons=new Gs(this)}get admins(){return this.collection("_superusers")}createBatch(){return new Qs(this)}collection(e){return this.recordServices[e]||(this.recordServices[e]=new $s(this,e)),this.recordServices[e]}autoCancellation(e){return this.enableAutoCancellation=!!e,this}cancelRequest(e){return this.cancelControllers[e]&&(this.cancelControllers[e].abort(),delete this.cancelControllers[e]),this}cancelAllRequests(){for(let e in this.cancelControllers)this.cancelControllers[e].abort();return this.cancelControllers={},this}filter(e,t){if(!t)return e;for(let r in t){let i=t[r];switch(typeof i){case"boolean":case"number":i=""+i;break;case"string":i="'"+i.replace(/'/g,"\\'")+"'";break;default:i=i===null?"null":i instanceof Date?"'"+i.toISOString().replace("T"," ")+"'":"'"+JSON.stringify(i).replace(/'/g,"\\'")+"'"}e=e.replaceAll("{:"+r+"}",i)}return e}getFileUrl(e,t,r={}){return console.warn("Please replace pb.getFileUrl() with pb.files.getURL()"),this.files.getURL(e,t,r)}buildUrl(e){return console.warn("Please replace pb.buildUrl() with pb.buildURL()"),this.buildURL(e)}buildURL(e){let t=this.baseURL;return typeof window>"u"||!window.location||t.startsWith("https://")||t.startsWith("http://")||(t=window.location.origin?.endsWith("/")?window.location.origin.substring(0,window.location.origin.length-1):window.location.origin||"",this.baseURL.startsWith("/")||(t+=window.location.pathname||"/",t+=t.endsWith("/")?"":"/"),t+=this.baseURL),e&&(t+=t.endsWith("/")?"":"/",t+=e.startsWith("/")?e.substring(1):e),t}async send(e,t){t=this.initSendOptions(e,t);let r=this.buildURL(e);if(this.beforeSend){const i=Object.assign({},await this.beforeSend(r,t));i.url!==void 0||i.options!==void 0?(r=i.url||r,t=i.options||t):Object.keys(i).length&&(t=i,console?.warn&&console.warn("Deprecated format of beforeSend return: please use `return { url, options }`, instead of `return options`."))}if(t.query!==void 0){const i=Xr(t.query);i&&(r+=(r.includes("?")?"&":"?")+i),delete t.query}return this.getHeader(t.headers,"Content-Type")=="application/json"&&t.body&&typeof t.body!="string"&&(t.body=JSON.stringify(t.body)),(t.fetch||fetch)(r,t).then((async i=>{let s={};try{s=await i.json()}catch{}if(this.afterSend&&(s=await this.afterSend(i,s,t)),i.status>=400)throw new ce({url:i.url,status:i.status,data:s});return s})).catch((i=>{throw new ce(i)}))}initSendOptions(e,t){if((t=Object.assign({method:"GET"},t)).body=(function(i){if(typeof FormData>"u"||i===void 0||typeof i!="object"||i===null||bn(i)||!ar(i))return i;const s=new FormData;for(const a in i){const o=i[a];if(o!==void 0)if(typeof o!="object"||ar({data:o})){const l=Array.isArray(o)?o:[o];for(let c of l)s.append(a,c)}else{let l={};l[a]=o,s.append("@jsonPayload",JSON.stringify(l))}}return s})(t.body),Nn(t),t.query=Object.assign({},t.params,t.query),t.requestKey===void 0&&(t.$autoCancel===!1||t.query.$autoCancel===!1?t.requestKey=null:(t.$cancelKey||t.query.$cancelKey)&&(t.requestKey=t.$cancelKey||t.query.$cancelKey)),delete t.$autoCancel,delete t.query.$autoCancel,delete t.$cancelKey,delete t.query.$cancelKey,this.getHeader(t.headers,"Content-Type")!==null||bn(t.body)||(t.headers=Object.assign({},t.headers,{"Content-Type":"application/json"})),this.getHeader(t.headers,"Accept-Language")===null&&(t.headers=Object.assign({},t.headers,{"Accept-Language":this.lang})),this.authStore.token&&this.getHeader(t.headers,"Authorization")===null&&(t.headers=Object.assign({},t.headers,{Authorization:this.authStore.token})),this.enableAutoCancellation&&t.requestKey!==null){const r=t.requestKey||(t.method||"GET")+e;delete t.requestKey,this.cancelRequest(r);const i=new AbortController;this.cancelControllers[r]=i,t.signal=i.signal}return t}getHeader(e,t){e=e||{},t=t.toLowerCase();for(let r in e)if(r.toLowerCase()==t)return e[r];return null}}const ht=Yt(null),ea=Rs([],n=>{Z.collection("contests").getFullList({sort:"-created"}).then(e=>{n(e)}).catch(e=>{console.error("Error fetching contests:",e),n([])})}),Un=Yt([]);async function ri(n){try{const e=await Z.collection("teams").getFullList({filter:`teacher = "${n}"`});Un.set(e)}catch(e){console.error("Error fetching teams:",e)}}const Z=new ni("https://strela-vlna.gchd.cz");ht.set(Z.authStore.model);Z.authStore.onChange(()=>{ht.set(Z.authStore.model)});const ta="/assets/strelavlna-BVlyU7HX.svg",na="/assets/for_teachers-Bln0Czng.svg";var ra=M('<li class="svelte-12bt2ui"> </li>'),ia=M('<li class="svelte-12bt2ui"> </li>'),sa=M('<li class="svelte-12bt2ui"> </li>'),aa=M('<li class="svelte-12bt2ui"> </li>'),oa=M('<li class="svelte-12bt2ui"> </li>'),la=M('<div class="modal-backdrop svelte-12bt2ui"><div class="modal-content svelte-12bt2ui"><h2> </h2> <ul class="svelte-12bt2ui"><!> <!> <!> <!> <!></ul> <button>Close</button></div></div>');function ca(n,e){Ne(e,!1);let t=gt(e,"team",8);const r=Xt();Ze();var i=la(),s=y(i),a=y(s),o=y(a),l=C(a,2),c=y(l);{var h=k=>{var x=ra(),O=y(x);U(()=>B(O,(H(t()),P(()=>t().player1email)))),j(k,x)};X(c,k=>{H(t()),P(()=>t().player1email)&&k(h)})}var d=C(c,2);{var p=k=>{var x=ia(),O=y(x);U(()=>B(O,(H(t()),P(()=>t().player2email)))),j(k,x)};X(d,k=>{H(t()),P(()=>t().player2email)&&k(p)})}var v=C(d,2);{var f=k=>{var x=sa(),O=y(x);U(()=>B(O,(H(t()),P(()=>t().player3email)))),j(k,x)};X(v,k=>{H(t()),P(()=>t().player3email)&&k(f)})}var m=C(v,2);{var b=k=>{var x=aa(),O=y(x);U(()=>B(O,(H(t()),P(()=>t().player4email)))),j(k,x)};X(m,k=>{H(t()),P(()=>t().player4email)&&k(b)})}var S=C(m,2);{var g=k=>{var x=oa(),O=y(x);U(()=>B(O,(H(t()),P(()=>t().player5email)))),j(k,x)};X(S,k=>{H(t()),P(()=>t().player5email)&&k(g)})}var E=C(l,2);U(()=>B(o,(H(t()),P(()=>t().name)))),J("click",E,()=>r("close")),J("click",s,Ot(function(k){Gt.call(this,e,k)})),J("click",i,()=>r("close")),j(n,i),Ue()}var ua=M('<button class="logout svelte-d1acce">Logout</button>'),fa=M('<img alt="For Teachers"/> <div class="button-holder svelte-d1acce"><button class="register svelte-d1acce">Registrovat</button> <div class="bottom_row svelte-d1acce"><p class="or svelte-d1acce">nebo</p> <button class="login svelte-d1acce">Přihlásit</button></div></div>',1),ha=M('<main><a href="/"><img alt="Strela Vlna Logo"/></a> <div class="right-section svelte-d1acce"><!></div></main>');function da(n,e){Ne(e,!1);let t=gt(e,"currentUser",8);const r=Xt();function i(){r("showAuth","login")}function s(){r("showAuth","register")}function a(){Z.authStore.clear(),Un.set([])}Qt(()=>{console.log(t())}),Ze();var o=ha();let l;var c=y(o),h=y(c),d=C(c,2),p=y(d);{var v=m=>{var b=ua();J("click",b,a),j(m,b)},f=m=>{var b=fa(),S=Mt(b),g=C(S,2),E=y(g),k=C(E,2),x=C(y(k),2);U(()=>Ee(S,"src",na)),J("click",E,s),J("click",x,i),j(m,b)};X(p,m=>{H(t()),H(Z),P(()=>t()&&Z.authStore.isValid&&t()?.verified)?m(v):m(f,!1)})}U(m=>{l=Es(o,1,"svelte-d1acce",null,l,m),Ee(h,"src",ta)},[()=>({"logged-in":t()&&Z.authStore.isValid&&t()?.verified})]),j(n,o),Ue()}const va="data:image/svg+xml,%3csvg%20width='13'%20height='13'%20viewBox='0%200%2013%2013'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20width='13'%20height='13'%20rx='3'%20fill='%23EB6E00'/%3e%3c/svg%3e",pa="data:image/svg+xml,%3csvg%20width='13'%20height='13'%20viewBox='0%200%2013%2013'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20width='13'%20height='13'%20rx='3'%20fill='%23EBAD00'/%3e%3c/svg%3e",ma="data:image/svg+xml,%3csvg%20width='13'%20height='13'%20viewBox='0%200%2013%2013'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20width='13'%20height='13'%20rx='3'%20fill='%239500EB'/%3e%3c/svg%3e",ga="data:image/svg+xml,%3csvg%20width='13'%20height='13'%20viewBox='0%200%2013%2013'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20width='13'%20height='13'%20rx='3'%20fill='%23EB0072'/%3e%3c/svg%3e",lr="data:image/svg+xml,%3csvg%20width='135'%20height='37'%20viewBox='0%200%20135%2037'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_5_165)'%3e%3cpath%20d='M26.9995%201H46.6362C47.4349%201%2048.0913%201.65213%2048.0913%202.4668V9.86621C48.0913%2010.6809%2047.4349%2011.333%2046.6362%2011.333H26.9995C26.201%2011.3328%2025.5454%2010.6807%2025.5454%209.86621V2.4668C25.5454%201.65228%2026.201%201.00024%2026.9995%201Z'%20stroke='%23002C5E'%20stroke-width='2'/%3e%3cpath%20d='M2.4541%2025.6667H34.3633C35.162%2025.6667%2035.8184%2026.3188%2035.8184%2027.1335V34.5329C35.8184%2035.3475%2035.162%2035.9997%2034.3633%2035.9997H2.4541C1.65562%2035.9994%201%2035.3474%201%2034.5329V27.1335L1.00781%2026.9831C1.08258%2026.2401%201.70539%2025.6669%202.4541%2025.6667Z'%20stroke='%23002C5E'%20stroke-width='2'/%3e%3cpath%20d='M63.8207%201H122.727C128.948%201%20134%206.06927%20134%2012.333V24.667C134%2030.9307%20128.948%2036%20122.727%2036H63.8207C63.0221%2036%2062.3639%2035.3458%2062.3636%2034.5312V2.46875C62.3638%201.65426%2063.022%201%2063.8207%201ZM114.968%2031.833H122.104C126.05%2031.833%20129.24%2028.6201%20129.241%2024.667V12.333C129.24%208.37987%20126.05%205.16699%20122.104%205.16699H114.968V31.833Z'%20stroke='%23002C5E'%20stroke-width='2'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_5_165'%3e%3crect%20width='135'%20height='37'%20fill='white'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",cr="data:image/svg+xml,%3csvg%20width='146'%20height='67'%20viewBox='0%200%20146%2067'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_5_179)'%3e%3cpath%20d='M29.2031%201H50.4336C51.3385%201%2052.0908%201.74579%2052.0908%202.68262V10.7178C52.091%2012.4914%2053.3395%2013.9849%2055.0166%2014.3271L55.0674%2014.3379L55.1191%2014.3428L55.6504%2014.3955L55.6992%2014.4004H63.7061C64.6109%2014.4004%2065.3633%2015.1461%2065.3633%2016.083V24.1172C65.3633%2026.1405%2066.9933%2027.7996%2069.0205%2027.7998H76.9795C77.8841%2027.8%2078.6366%2028.5458%2078.6367%2029.4824V37.5176C78.6368%2039.2913%2079.8852%2040.7849%2081.5625%2041.127L81.6123%2041.1377L81.6641%2041.1426L82.1953%2041.1953L82.2441%2041.2002H90.252C91.1568%2041.2002%2091.9092%2041.9459%2091.9092%2042.8828V50.917C91.9092%2052.6908%2093.1576%2054.1852%2094.835%2054.5273L94.8857%2054.5381L94.9365%2054.543L95.4678%2054.5947L95.5176%2054.5996H116.797C118.824%2054.5996%20120.454%2052.9404%20120.454%2050.917V42.8828C120.454%2041.9461%20121.207%2041.2004%20122.111%2041.2002H130.07C132.097%2041.2001%20133.727%2039.5408%20133.728%2037.5176V29.4824C133.728%2028.5455%20134.48%2027.7998%20135.385%2027.7998H143.343C144.248%2027.7998%20145%2028.5455%20145%2029.4824V37.5176C145%2038.4545%20144.248%2039.2002%20143.343%2039.2002H135.385C133.357%2039.2002%20131.728%2040.8595%20131.728%2042.8828V50.917C131.728%2051.8538%20130.975%2052.5995%20130.07%2052.5996H122.111C120.084%2052.5998%20118.454%2054.2591%20118.454%2056.2822V64.3174C118.454%2065.2542%20117.702%2066%20116.797%2066H95.5664C95.4485%2066%2095.3362%2065.9884%2095.2354%2065.9678H95.2344C94.4862%2065.815%2093.9092%2065.1382%2093.9092%2064.3174V56.2822C93.9089%2054.259%2092.2791%2052.5996%2090.252%2052.5996H82.2939C81.3891%2052.5996%2080.6367%2051.8539%2080.6367%2050.917V42.8828C80.6367%2040.8595%2079.0067%2039.2004%2076.9795%2039.2002H69.0205C68.1159%2039.2%2067.3634%2038.4542%2067.3633%2037.5176V29.4824C67.3631%2027.4591%2065.7333%2025.7998%2063.7061%2025.7998H55.748C54.8432%2025.7998%2054.0908%2025.0541%2054.0908%2024.1172V16.083C54.0908%2014.0596%2052.461%2012.4004%2050.4336%2012.4004H29.2031C27.1758%2012.4004%2025.5459%2014.0596%2025.5459%2016.083V24.1172C25.5459%2025.0539%2024.7933%2025.7996%2023.8887%2025.7998H15.9297C13.9025%2025.7999%2012.2726%2027.4592%2012.2725%2029.4824V37.5176C12.2723%2038.4544%2011.5199%2039.2002%2010.6152%2039.2002H2.65723C1.75253%2039.2002%201.00014%2038.4544%201%2037.5176V29.4824C1.00014%2028.5456%201.75253%2027.7998%202.65723%2027.7998H10.6152C12.6426%2027.7998%2014.2725%2026.1406%2014.2725%2024.1172V16.083C14.2725%2015.1462%2015.0249%2014.4005%2015.9297%2014.4004H23.8887C25.9157%2014.4002%2027.5457%2012.7409%2027.5459%2010.7178V2.68262C27.5459%201.74579%2028.2983%201%2029.2031%201Z'%20stroke='%23002C5E'%20stroke-width='2'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_5_179'%3e%3crect%20width='146'%20height='67'%20fill='white'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e";var _a=M('<p class="error svelte-11if7ae"> </p>'),ba=M('<div class="modal-backdrop svelte-11if7ae"><div class="modal-content svelte-11if7ae"><h2 class="title svelte-11if7ae">Registrovat tým do:<br/> <span class="contest-name svelte-11if7ae"> </span></h2> <form class="svelte-11if7ae"><input class="team-name svelte-11if7ae" type="text" placeholder="Název týmu" required/> <input class="email1 svelte-11if7ae" type="email" placeholder="Email hráče 1"/> <input class="email1 svelte-11if7ae" type="text" placeholder="Jméno hráče 1"/> <input class="email2 svelte-11if7ae" type="email" placeholder="Email hráče 2"/> <input class="email2 svelte-11if7ae" type="text" placeholder="Jméno hráče 2"/> <input class="email3 svelte-11if7ae" type="email" placeholder="Email hráče 3"/> <input class="email3 svelte-11if7ae" type="text" placeholder="Jméno hráče 3"/> <input class="email4 svelte-11if7ae" type="email" placeholder="Email hráče 4"/> <input class="email4 svelte-11if7ae" type="text" placeholder="Jméno hráče 4"/> <input class="email5 svelte-11if7ae" type="email" placeholder="Email hráče 5"/> <input class="email5 svelte-11if7ae" type="text" placeholder="Jméno hráče 5"/> <button type="submit">Registrovat</button></form> <!></div></div>');function ya(n,e){Ne(e,!1);const t=()=>ot(ht,"$authStore",r),[r,i]=Vn(),s=Xt();let a=gt(e,"contest",8),o=I(""),l=I(""),c=I(""),h=I(""),d=I(""),p=I(""),v=I(""),f=I(""),m=I(""),b=I(""),S=I(""),g=I("");Qt(()=>{a()||w(g,"Contest object is missing.")});async function E(){if(w(g,""),!u(o)){w(g,"Jméno týmu je potřeba.");return}try{await Z.collection("teams").create({name:u(o),player1email:u(l),player2email:u(c),player3email:u(h),player4email:u(d),player5email:u(p),player1name:u(v),player2name:u(f),player3name:u(m),player4name:u(b),player5name:u(S),contest:a().id,teacher:t()?.id}),s("created"),s("close")}catch(T){console.error("Add Team Error:",T),w(g,"Failed to add team.")}}Ze();var k=ba(),x=y(k),O=y(x),_=C(y(O),3),q=y(_),V=C(O,2),ie=y(V),F=C(ie,2),K=C(F,2),fe=C(K,2),ee=C(fe,2),te=C(ee,2),G=C(te,2),oe=C(G,2),ge=C(oe,2),he=C(ge,2),Se=C(he,2),Ge=C(V,2);{var Ye=T=>{var Re=_a(),_t=y(Re);U(()=>B(_t,u(g))),j(T,Re)};X(Ge,T=>{u(g)&&T(Ye)})}U(()=>B(q,(H(a()),P(()=>a().name)))),re(ie,()=>u(o),T=>w(o,T)),re(F,()=>u(l),T=>w(l,T)),re(K,()=>u(v),T=>w(v,T)),re(fe,()=>u(c),T=>w(c,T)),re(ee,()=>u(f),T=>w(f,T)),re(te,()=>u(h),T=>w(h,T)),re(G,()=>u(m),T=>w(m,T)),re(oe,()=>u(d),T=>w(d,T)),re(ge,()=>u(b),T=>w(b,T)),re(he,()=>u(p),T=>w(p,T)),re(Se,()=>u(S),T=>w(S,T)),J("submit",V,mn(E)),J("click",x,Ot(function(T){Gt.call(this,e,T)})),J("click",k,()=>s("close")),j(n,k),Ue(),i()}const wa="data:image/svg+xml,%3csvg%20width='52'%20height='91'%20viewBox='0%200%2052%2091'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20x='13'%20y='78'%20width='13'%20height='13'%20rx='3'%20fill='%23EBAD00'/%3e%3cpath%20d='M41.99%2026H49.01C50.6613%2026%2052%2024.6614%2052%2023.01V15.99C52%2014.3386%2050.6613%2013%2049.01%2013H41.99C40.3387%2013%2039%2011.6613%2039%2010.01V2.99C39%201.33868%2037.6614%200%2036.01%200H28.99C27.3386%200%2026%201.33868%2026%202.99V10.01C26%2011.6613%2027.3386%2013%2028.99%2013H36.01C37.6614%2013%2039%2014.3386%2039%2015.99V23.01C39%2024.6614%2040.3387%2026%2041.99%2026Z'%20fill='%23EBAD00'/%3e%3cpath%20d='M36.01%2052H28.99C27.3387%2052%2026%2050.6614%2026%2049.01V41.99C26%2040.3386%2027.3387%2039%2028.99%2039H36.01C37.6613%2039%2039%2037.6613%2039%2036.01V28.99C39%2027.3387%2040.3386%2026%2041.99%2026H49.01C50.6614%2026%2052%2027.3387%2052%2028.99V36.01C52%2037.6613%2050.6614%2039%2049.01%2039H41.99C40.3386%2039%2039%2040.3386%2039%2041.99V49.01C39%2050.6614%2037.6613%2052%2036.01%2052Z'%20fill='%23EBAD00'/%3e%3cpath%20d='M23.01%2065H15.99C14.3387%2065%2013%2063.6614%2013%2062.01V54.99C13%2053.3386%2014.3387%2052%2015.99%2052H23.01C24.6613%2052%2026%2050.6613%2026%2049.01V41.99C26%2040.3387%2027.3386%2039%2028.99%2039H36.01C37.6614%2039%2039%2040.3387%2039%2041.99V49.01C39%2050.6613%2037.6614%2052%2036.01%2052H28.99C27.3386%2052%2026%2053.3386%2026%2054.99V62.01C26%2063.6614%2024.6613%2065%2023.01%2065Z'%20fill='%23EBAD00'/%3e%3crect%20x='13'%20width='26'%20height='13'%20rx='3'%20fill='%23EBAD00'/%3e%3cpath%20d='M10.01%2026H2.99C1.33868%2026%200%2024.6614%200%2023.01V15.99C0%2014.3386%201.33868%2013%202.99%2013H10.01C11.6613%2013%2013%2011.6613%2013%2010.01V2.99C13%201.33868%2014.3386%200%2015.99%200H23.01C24.6614%200%2026%201.33868%2026%202.99V10.01C26%2011.6613%2024.6614%2013%2023.01%2013H15.99C14.3386%2013%2013%2014.3386%2013%2015.99V23.01C13%2024.6614%2011.6613%2026%2010.01%2026Z'%20fill='%23EBAD00'/%3e%3crect%20x='52'%20y='13'%20width='26'%20height='13'%20rx='3'%20transform='rotate(90%2052%2013)'%20fill='%23EBAD00'/%3e%3c/svg%3e",Ca="data:image/svg+xml,%3csvg%20width='52'%20height='91'%20viewBox='0%200%2052%2091'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20x='13'%20y='78'%20width='13'%20height='13'%20rx='3'%20fill='%23EB6E00'/%3e%3cpath%20d='M41.99%2026H49.01C50.6613%2026%2052%2024.6614%2052%2023.01V15.99C52%2014.3386%2050.6613%2013%2049.01%2013H41.99C40.3387%2013%2039%2011.6613%2039%2010.01V2.99C39%201.33868%2037.6614%200%2036.01%200H28.99C27.3386%200%2026%201.33868%2026%202.99V10.01C26%2011.6613%2027.3386%2013%2028.99%2013H36.01C37.6614%2013%2039%2014.3386%2039%2015.99V23.01C39%2024.6614%2040.3387%2026%2041.99%2026Z'%20fill='%23EB6E00'/%3e%3cpath%20d='M36.01%2052H28.99C27.3387%2052%2026%2050.6614%2026%2049.01V41.99C26%2040.3386%2027.3387%2039%2028.99%2039H36.01C37.6613%2039%2039%2037.6613%2039%2036.01V28.99C39%2027.3387%2040.3386%2026%2041.99%2026H49.01C50.6614%2026%2052%2027.3387%2052%2028.99V36.01C52%2037.6613%2050.6614%2039%2049.01%2039H41.99C40.3386%2039%2039%2040.3386%2039%2041.99V49.01C39%2050.6614%2037.6613%2052%2036.01%2052Z'%20fill='%23EB6E00'/%3e%3cpath%20d='M23.01%2065H15.99C14.3387%2065%2013%2063.6614%2013%2062.01V54.99C13%2053.3386%2014.3387%2052%2015.99%2052H23.01C24.6613%2052%2026%2050.6613%2026%2049.01V41.99C26%2040.3387%2027.3386%2039%2028.99%2039H36.01C37.6614%2039%2039%2040.3387%2039%2041.99V49.01C39%2050.6613%2037.6614%2052%2036.01%2052H28.99C27.3386%2052%2026%2053.3386%2026%2054.99V62.01C26%2063.6614%2024.6613%2065%2023.01%2065Z'%20fill='%23EB6E00'/%3e%3crect%20x='13'%20width='26'%20height='13'%20rx='3'%20fill='%23EB6E00'/%3e%3cpath%20d='M10.01%2026H2.99C1.33868%2026%200%2024.6614%200%2023.01V15.99C0%2014.3386%201.33868%2013%202.99%2013H10.01C11.6613%2013%2013%2011.6613%2013%2010.01V2.99C13%201.33868%2014.3386%200%2015.99%200H23.01C24.6614%200%2026%201.33868%2026%202.99V10.01C26%2011.6613%2024.6614%2013%2023.01%2013H15.99C14.3386%2013%2013%2014.3386%2013%2015.99V23.01C13%2024.6614%2011.6613%2026%2010.01%2026Z'%20fill='%23EB6E00'/%3e%3crect%20x='52'%20y='13'%20width='26'%20height='13'%20rx='3'%20transform='rotate(90%2052%2013)'%20fill='%23EB6E00'/%3e%3c/svg%3e",Sa="data:image/svg+xml,%3csvg%20width='52'%20height='91'%20viewBox='0%200%2052%2091'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20x='13'%20y='78'%20width='13'%20height='13'%20rx='3'%20fill='%23EB0072'/%3e%3cpath%20d='M41.99%2026H49.01C50.6613%2026%2052%2024.6614%2052%2023.01V15.99C52%2014.3386%2050.6613%2013%2049.01%2013H41.99C40.3387%2013%2039%2011.6613%2039%2010.01V2.99C39%201.33868%2037.6614%200%2036.01%200H28.99C27.3386%200%2026%201.33868%2026%202.99V10.01C26%2011.6613%2027.3386%2013%2028.99%2013H36.01C37.6614%2013%2039%2014.3386%2039%2015.99V23.01C39%2024.6614%2040.3387%2026%2041.99%2026Z'%20fill='%23EB0072'/%3e%3cpath%20d='M36.01%2052H28.99C27.3387%2052%2026%2050.6614%2026%2049.01V41.99C26%2040.3386%2027.3387%2039%2028.99%2039H36.01C37.6613%2039%2039%2037.6613%2039%2036.01V28.99C39%2027.3387%2040.3386%2026%2041.99%2026H49.01C50.6614%2026%2052%2027.3387%2052%2028.99V36.01C52%2037.6613%2050.6614%2039%2049.01%2039H41.99C40.3386%2039%2039%2040.3386%2039%2041.99V49.01C39%2050.6614%2037.6613%2052%2036.01%2052Z'%20fill='%23EB0072'/%3e%3cpath%20d='M23.01%2065H15.99C14.3387%2065%2013%2063.6614%2013%2062.01V54.99C13%2053.3386%2014.3387%2052%2015.99%2052H23.01C24.6613%2052%2026%2050.6613%2026%2049.01V41.99C26%2040.3387%2027.3386%2039%2028.99%2039H36.01C37.6614%2039%2039%2040.3387%2039%2041.99V49.01C39%2050.6613%2037.6614%2052%2036.01%2052H28.99C27.3386%2052%2026%2053.3386%2026%2054.99V62.01C26%2063.6614%2024.6613%2065%2023.01%2065Z'%20fill='%23EB0072'/%3e%3crect%20x='13'%20width='26'%20height='13'%20rx='3'%20fill='%23EB0072'/%3e%3cpath%20d='M10.01%2026H2.99C1.33868%2026%200%2024.6614%200%2023.01V15.99C0%2014.3386%201.33868%2013%202.99%2013H10.01C11.6613%2013%2013%2011.6613%2013%2010.01V2.99C13%201.33868%2014.3386%200%2015.99%200H23.01C24.6614%200%2026%201.33868%2026%202.99V10.01C26%2011.6613%2024.6614%2013%2023.01%2013H15.99C14.3386%2013%2013%2014.3386%2013%2015.99V23.01C13%2024.6614%2011.6613%2026%2010.01%2026Z'%20fill='%23EB0072'/%3e%3crect%20x='52'%20y='13'%20width='26'%20height='13'%20rx='3'%20transform='rotate(90%2052%2013)'%20fill='%23EB0072'/%3e%3c/svg%3e",Ea="data:image/svg+xml,%3csvg%20width='52'%20height='91'%20viewBox='0%200%2052%2091'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20x='13'%20y='78'%20width='13'%20height='13'%20rx='3'%20fill='%239500EB'/%3e%3cpath%20d='M41.99%2026H49.01C50.6613%2026%2052%2024.6614%2052%2023.01V15.99C52%2014.3386%2050.6613%2013%2049.01%2013H41.99C40.3387%2013%2039%2011.6613%2039%2010.01V2.99C39%201.33868%2037.6614%200%2036.01%200H28.99C27.3386%200%2026%201.33868%2026%202.99V10.01C26%2011.6613%2027.3386%2013%2028.99%2013H36.01C37.6614%2013%2039%2014.3386%2039%2015.99V23.01C39%2024.6614%2040.3387%2026%2041.99%2026Z'%20fill='%239500EB'/%3e%3cpath%20d='M36.01%2052H28.99C27.3387%2052%2026%2050.6614%2026%2049.01V41.99C26%2040.3386%2027.3387%2039%2028.99%2039H36.01C37.6613%2039%2039%2037.6613%2039%2036.01V28.99C39%2027.3387%2040.3386%2026%2041.99%2026H49.01C50.6614%2026%2052%2027.3387%2052%2028.99V36.01C52%2037.6613%2050.6614%2039%2049.01%2039H41.99C40.3386%2039%2039%2040.3386%2039%2041.99V49.01C39%2050.6614%2037.6613%2052%2036.01%2052Z'%20fill='%239500EB'/%3e%3cpath%20d='M23.01%2065H15.99C14.3387%2065%2013%2063.6614%2013%2062.01V54.99C13%2053.3386%2014.3387%2052%2015.99%2052H23.01C24.6613%2052%2026%2050.6613%2026%2049.01V41.99C26%2040.3387%2027.3386%2039%2028.99%2039H36.01C37.6614%2039%2039%2040.3387%2039%2041.99V49.01C39%2050.6613%2037.6614%2052%2036.01%2052H28.99C27.3386%2052%2026%2053.3386%2026%2054.99V62.01C26%2063.6614%2024.6613%2065%2023.01%2065Z'%20fill='%239500EB'/%3e%3crect%20x='13'%20width='26'%20height='13'%20rx='3'%20fill='%239500EB'/%3e%3cpath%20d='M10.01%2026H2.99C1.33868%2026%200%2024.6614%200%2023.01V15.99C0%2014.3386%201.33868%2013%202.99%2013H10.01C11.6613%2013%2013%2011.6613%2013%2010.01V2.99C13%201.33868%2014.3386%200%2015.99%200H23.01C24.6614%200%2026%201.33868%2026%202.99V10.01C26%2011.6613%2024.6614%2013%2023.01%2013H15.99C14.3386%2013%2013%2014.3386%2013%2015.99V23.01C13%2024.6614%2011.6613%2026%2010.01%2026Z'%20fill='%239500EB'/%3e%3crect%20x='52'%20y='13'%20width='26'%20height='13'%20rx='3'%20transform='rotate(90%2052%2013)'%20fill='%239500EB'/%3e%3c/svg%3e";var ka=M('<li class="player-item svelte-v36pde"><div class="dot svelte-v36pde"></div><span class="player-name svelte-v36pde"> </span><span class="player-email svelte-v36pde"> </span></li>'),Oa=M('<div class="popup-holder svelte-v36pde"><div class="popup svelte-v36pde"><h2 class="name svelte-v36pde"> </h2> <ul class="player-list svelte-v36pde"></ul></div></div>'),xa=M('<main class="svelte-v36pde"><!> <div class="slider svelte-v36pde"><h2 class="name svelte-v36pde"> </h2> <div class="img-wrapper svelte-v36pde"><img height="50px" class="svelte-v36pde"/></div></div></main>');function Pa(n,e){Ne(e,!1);let t=[wa,Ca,Sa,Ea],r=["#fffffa","#fffbfa","#fffafe","#fefaff"],i=I(0);Qt(()=>{const g=setInterval(()=>{w(i,(u(i)+1)%t.length)},1e3);return()=>clearInterval(g)});let s=gt(e,"team",8),a=I([]),o=I(!1);function l(){w(o,!1)}function c(){w(o,!0)}qt(()=>H(s()),()=>{w(a,[{name:s().player1name,email:s().player1email},{name:s().player2name,email:s().player2email},{name:s().player3name,email:s().player3email},{name:s().player4name,email:s().player4email},{name:s().player5name,email:s().player5email}])}),jr(),Ze();var h=xa(),d=y(h);{var p=g=>{var E=Oa(),k=y(E),x=y(k),O=y(x),_=C(x,2);at(_,5,()=>u(a),st,(q,V,ie)=>{var F=pn(),K=Mt(F);{var fe=ee=>{var te=ka(),G=y(te),oe=C(G),ge=y(oe),he=C(oe),Se=y(he);U(()=>{er(G,`animation-delay:-${u(a),P(()=>u(a).length-ie)??""}s`),B(ge,(u(V),P(()=>u(V).name))),B(Se,(u(V),P(()=>u(V).email)))}),j(ee,te)};X(K,ee=>{u(V),P(()=>u(V).email||u(V).name)&&ee(fe)})}j(q,F)}),U(()=>B(O,(H(s()),P(()=>s().name)))),J("click",k,Ot(function(q){Gt.call(this,e,q)})),J("click",E,Ot(l)),j(g,E)};X(d,g=>{u(o)&&g(p)})}var v=C(d,2),f=y(v),m=y(f),b=C(f,2),S=y(b);U(()=>{er(h,`--hover-color: ${u(i),P(()=>r[u(i)])??""}`),B(m,(H(s()),P(()=>s().name))),Ee(S,"src",(u(i),P(()=>t[u(i)])))}),J("click",h,c),j(n,h),Ue()}var Ta=M('<main class="svelte-19u24fb"><!> <div class="contest-container svelte-19u24fb"><div class="tooltip svelte-19u24fb"><h3 class="svelte-19u24fb"><!></h3></div> <img alt="" class="block svelte-19u24fb" id="block-orange"/> <img alt="" class="block svelte-19u24fb" id="block-yellow"/> <img alt="" class="block svelte-19u24fb" id="block-purple"/> <img alt="" class="block svelte-19u24fb" id="block-pink"/> <div class="contest-name svelte-19u24fb"> </div> <div class="contest-type svelte-19u24fb"> </div> <div class="date-holder svelte-19u24fb"><p class="date svelte-19u24fb"> </p> <p class="remaining svelte-19u24fb"> </p></div> <div class="date-holder svelte-19u24fb"><p class="date svelte-19u24fb"> </p> <p class="remaining svelte-19u24fb"> </p></div> <img class="contest-image svelte-19u24fb"/></div> <div class="registered-team-container svelte-19u24fb"></div></main>');function Ra(n,e){Ne(e,!1);const t=()=>ot(ht,"$authStore",s),r=()=>ot(Un,"$teamsStore",s),i=()=>ot(f,"$remaining_str",s),[s,a]=Vn();let o=gt(e,"contest",8),l=I(!1);function c(){t()&&Z.authStore.isValid&&t()?.verified&&w(l,!0)}async function h(){t()&&Z.authStore.isValid&&t()?.verified&&await ri(t().id)}let d=I([]),p=I([o().onlineStart,o().onSiteStart]),v=I(["",""]),f=Yt(["",""]);Qt(()=>{const A=setInterval(()=>{let W=["",""];for(let ne=0;ne<u(p).length;ne++){let _e=new Date(u(p)[ne]).getTime()-Date.now(),De,Ae,bt,en;_e>0?(De=Math.floor(_e/1e3%60),Ae=Math.floor(_e/1e3/60%60),bt=Math.floor(_e/1e3/60/60%24),en=Math.floor(_e/1e3/60/60/24)):(De=0,Ae=0,bt=0,en=0);let ii=De<10?"0"+De.toString():De.toString(),si=Ae<10?"0"+Ae.toString():Ae.toString(),ai=bt<10?"0"+bt.toString():bt.toString(),oi=en.toString();W[ne]=oi+" dní "+ai+":"+si+":"+ii}f.set(W)},1e3);return()=>clearInterval(A)}),qt(()=>(r(),H(o())),()=>{w(d,r().filter(A=>A.contest===o().id))}),qt(()=>H(o()),()=>{w(p,[o().onlineStart,o().onSiteStart])}),qt(()=>u(p),()=>{for(let A=0;A<u(p).length;A++){let W=new Date(u(p)[A]).toLocaleDateString().split("/"),ne=W[1]+". "+W[0]+". "+W[2];zi(v,u(v)[A]=ne)}}),jr(),Ze();var m=Ta(),b=y(m);{var S=A=>{ya(A,{get contest(){return o()},$$events:{close:()=>w(l,!1),created:h}})};X(b,A=>{u(l)&&A(S)})}var g=C(b,2),E=y(g),k=y(E),x=y(k);{var O=A=>{var W=Qn("Zaregistrovat tým");j(A,W)},_=A=>{var W=Qn("Pro registraci týmu se přihlaste");j(A,W)};X(x,A=>{t(),H(Z),P(()=>t()&&Z.authStore.isValid&&t()?.verified)?A(O):A(_,!1)})}var q=C(E,2),V=C(q,2),ie=C(V,2),F=C(ie,2),K=C(F,2),fe=y(K),ee=C(K,2),te=y(ee),G=C(ee,2),oe=y(G),ge=y(oe),he=C(oe,2),Se=y(he),Ge=C(G,2),Ye=y(Ge),T=y(Ye),Re=C(Ye,2),_t=y(Re),$=C(Ge,2),z=C(g,2);at(z,5,()=>u(d),st,(A,W)=>{Pa(A,{get team(){return u(W)}})}),U(()=>{Ee(q,"src",va),Ee(V,"src",pa),Ee(ie,"src",ma),Ee(F,"src",ga),B(fe,(H(o()),P(()=>o().name))),B(te,(H(o()),P(()=>o().type=="math"?"Matematika":"Fyzika"))),B(ge,`Online: ${u(v),P(()=>u(v)[0])??""}`),B(Se,(i(),P(()=>i()[0]))),B(T,`Prezenční: ${u(v),P(()=>u(v)[1])??""}`),B(_t,(i(),P(()=>i()[1]))),Ee($,"src",(H(o()),H(lr),H(cr),P(()=>o().type=="math"?lr:cr)))}),J("click",g,c),j(n,m),Ue(),a()}var Aa=M('<form class="svelte-bv5mq0"><h2 class="svelte-bv5mq0">Přihlásit se</h2> <input type="email" placeholder="Email" required class="email svelte-bv5mq0"/> <input type="password" placeholder="Heslo" required class="password svelte-bv5mq0"/> <button type="submit">Pokračovat</button></form>'),Ia=M("<option> </option>"),La=M("<option> </option>"),qa=M("<option> </option>"),ja=M('<form class="svelte-bv5mq0"><h2 class="svelte-bv5mq0">Registrovat se</h2> <input type="email" placeholder="email" class="email svelte-bv5mq0" required/> <input type="password" placeholder="Heslo" required class="password svelte-bv5mq0"/> <input type="password" placeholder="Potvrďte heslo" required class="password-again svelte-bv5mq0"/> <select class="school svelte-bv5mq0"><option>Vyberte kraj</option><!></select> <select class="school svelte-bv5mq0"><option>Vyberte okres</option><!></select> <select class="school svelte-bv5mq0"><option>Vyberte školu</option><!></select> <button type="submit">Registrovat</button></form>'),Va=M('<p class="error svelte-bv5mq0"> </p>'),Ha=M('<div class="auth-modal-backdrop svelte-bv5mq0"><div class="auth-modal-content svelte-bv5mq0"><!> <!></div></div>');function Na(n,e){Ne(e,!1);const t=Xt();let r=I(""),i=I(""),s=I(""),a=I(""),o=I(""),l=gt(e,"type",8,"login"),c=I(""),h=I(""),d=I([]);const p=[{name:"Hlavní město Praha",okresy:["Praha 1","Praha 2","Praha 3","Praha 4","Praha 5","Praha 6","Praha 7","Praha 8","Praha 9","Praha 10","Praha 11","Praha 12","Praha 13","Praha 14","Praha 15","Praha 16","Praha 17","Praha 18","Praha 19","Praha 20","Praha 21","Praha 22"]},{name:"Jihočeský kraj",okresy:["České Budějovice","Český Krumlov","Jindřichův Hradec","Písek","Prachatice","Strakonice","Tábor"]},{name:"Jihomoravský kraj",okresy:["Blansko","Brno-město","Brno-venkov","Břeclav","Hodonín","Vyškov","Znojmo"]},{name:"Karlovarský kraj",okresy:["Cheb","Karlovy Vary","Sokolov"]},{name:"Královéhradecký kraj",okresy:["Hradec Králové","Jičín","Náchod","Rychnov nad Kněžnou","Trutnov"]},{name:"Liberecký kraj",okresy:["Česká Lípa","Jablonec nad Nisou","Liberec","Semily"]},{name:"Moravskoslezský kraj",okresy:["Bruntál","Frýdek-Místek","Karviná","Nový Jičín","Opava","Ostrava-město"]},{name:"Olomoucký kraj",okresy:["Jeseník","Olomouc","Prostějov","Přerov","Šumperk"]},{name:"Pardubický kraj",okresy:["Chrudim","Pardubice","Svitavy","Ústí nad Orlicí"]},{name:"Plzeňský kraj",okresy:["Domažlice","Klatovy","Plzeň-město","Plzeň-jih","Plzeň-sever","Rokycany","Tachov"]},{name:"Středočeský kraj",okresy:["Benešov","Beroun","Kladno","Kolín","Kutná Hora","Mělník","Mladá Boleslav","Nymburk","Praha-východ","Praha-západ","Příbram","Rakovník"]},{name:"Ústecký kraj",okresy:["Děčín","Chomutov","Litoměřice","Louny","Most","Teplice","Ústí nad Labem"]},{name:"Kraj Vysočina",okresy:["Havlíčkův Brod","Jihlava","Pelhřimov","Třebíč","Žďár nad Sázavou"]},{name:"Zlínský kraj",okresy:["Kroměříž","Uherské Hradiště","Vsetín","Zlín"]}];async function v(){if(!u(c)||!u(h)){w(d,[]);return}try{const _=await Z.collection("skoly").getFullList({filter:`kraj = "${u(c)}" && okres = "${u(h)}"`});w(d,_)}catch(_){console.error("Failed to fetch schools:",_),w(d,[])}}async function f(){w(o,"");try{await Z.collection("teachers").authWithPassword(u(r),u(i)),t("close")}catch(_){_.status===400?w(o,"Zadané údaje nesedí"):_.status===403?w(o,"Váš účet zatím není ověřený, ale pracujeme na tom :)"):w(o,"Failed to authenticate. Please check your credentials.")}}async function m(){if(w(o,""),u(i)!==u(s)){w(o,"Passwords do not match.");return}try{console.log("Registering with school ID:",u(a)),await Z.collection("teachers").create({email:u(r),password:u(i),passwordConfirm:u(s),skola:u(a)}),await Z.collection("teachers").authWithPassword(u(r),u(i)),t("close")}catch(_){console.error("Registration Error:",_),w(o,"Failed to register. Please try again.")}}Ze();var b=Ha(),S=y(b),g=y(S);{var E=_=>{var q=Aa(),V=C(y(q),2),ie=C(V,2);re(V,()=>u(r),F=>w(r,F)),re(ie,()=>u(i),F=>w(i,F)),J("submit",q,mn(f)),j(_,q)},k=_=>{var q=pn(),V=Mt(q);{var ie=F=>{var K=ja(),fe=C(y(K),2),ee=C(fe,2),te=C(ee,2),G=C(te,2);U(()=>{u(c),rn(()=>{u(h)})});var oe=y(G);oe.value=oe.__value="";var ge=C(oe);at(ge,1,()=>p,st,($,z)=>{var A=Ia(),W=y(A),ne={};U(()=>{B(W,(u(z),P(()=>u(z).name))),ne!==(ne=(u(z),P(()=>u(z).name)))&&(A.value=(A.__value=(u(z),P(()=>u(z).name)))??"")}),j($,A)});var he=C(G,2);U(()=>{u(h),rn(()=>{u(c)})});var Se=y(he);Se.value=Se.__value="";var Ge=C(Se);{var Ye=$=>{var z=pn(),A=Mt(z);at(A,1,()=>(u(c),P(()=>p.find(W=>W.name===u(c))?.okresy??[])),st,(W,ne)=>{var _e=La(),De=y(_e),Ae={};U(()=>{B(De,u(ne)),Ae!==(Ae=u(ne))&&(_e.value=(_e.__value=u(ne))??"")}),j(W,_e)}),j($,z)};X(Ge,$=>{u(c)&&$(Ye)})}var T=C(he,2);U(()=>{u(a),rn(()=>{u(h),u(d)})});var Re=y(T);Re.value=Re.__value="";var _t=C(Re);at(_t,1,()=>u(d),st,($,z)=>{var A=qa(),W=y(A),ne={};U(()=>{B(W,(u(z),P(()=>u(z).plny_nazev))),ne!==(ne=(u(z),P(()=>u(z).id)))&&(A.value=(A.__value=(u(z),P(()=>u(z).id)))??"")}),j($,A)}),U(()=>{he.disabled=!u(c),T.disabled=(u(h),u(d),P(()=>!u(h)||u(d).length===0))}),re(fe,()=>u(r),$=>w(r,$)),re(ee,()=>u(i),$=>w(i,$)),re(te,()=>u(s),$=>w(s,$)),an(G,()=>u(c),$=>w(c,$)),J("change",G,()=>{w(h,"")}),an(he,()=>u(h),$=>w(h,$)),J("change",he,v),an(T,()=>u(a),$=>w(a,$)),J("submit",K,mn(m)),j(F,K)};X(V,F=>{l()==="register"&&F(ie)},!0)}j(_,q)};X(g,_=>{l()==="login"?_(E):_(k,!1)})}var x=C(g,2);{var O=_=>{var q=Va(),V=y(q);U(()=>B(V,u(o))),j(_,q)};X(x,_=>{u(o)&&_(O)})}J("click",S,Ot(function(_){Gt.call(this,e,_)})),J("click",b,()=>t("close")),j(n,b),Ue()}const Ua="data:image/svg+xml,%3csvg%20width='52'%20height='26'%20viewBox='0%200%2052%2026'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20y='13'%20width='13'%20height='13'%20rx='3'%20fill='%23EBAD00'/%3e%3crect%20x='26'%20y='13'%20width='13'%20height='13'%20rx='3'%20fill='%23EB0072'/%3e%3crect%20x='13'%20width='13'%20height='13'%20rx='3'%20fill='%23EB6E00'/%3e%3crect%20x='39'%20width='13'%20height='13'%20rx='3'%20fill='%239500EB'/%3e%3c/svg%3e";var Da=M('<div id="app"><!> <!>  <!> <div class="content-holder svelte-m10mfj"><div class="logout-page svelte-m10mfj"><h1 class="upcomming svelte-m10mfj"><span class="anchor svelte-m10mfj"><img class="blocks-clumped svelte-m10mfj"/></span> Nadcházející</h1> <div class="contests-list svelte-m10mfj"></div></div></div></div>');function Ma(n,e){Ne(e,!1);const t=()=>ot(ht,"$authStore",i),r=()=>ot(ea,"$contestsStore",i),[i,s]=Vn();let a=I(!1),o=I("login"),l=I(!1),c=I(!1),h=null;ht.subscribe(_=>{_&&ri(_.id)}),Ze();var d=Da(),p=y(d);da(p,{get currentUser(){return t()},$$events:{showAuth:_=>{w(a,!0),w(o,_.detail)},toggleTeamsPanel:()=>w(l,!u(l))}});var v=C(p,2);{var f=_=>{Na(_,{get type(){return u(o)},$$events:{close:()=>w(a,!1)}})};X(v,_=>{u(a)&&_(f)})}var m=C(v,2);{var b=_=>{ca(_,{team:h,$$events:{close:()=>w(c,!1)}})};X(m,_=>{u(c)&&_(b)})}var S=C(m,2),g=y(S),E=y(g),k=y(E),x=y(k),O=C(E,2);at(O,5,r,st,(_,q)=>{Ra(_,{get contest(){return u(q)}})}),U(()=>Ee(x,"src",Ua)),j(n,d),Ue(),s()}gs(Ma,{target:document.getElementById("app")});
