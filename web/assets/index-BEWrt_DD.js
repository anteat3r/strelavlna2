(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function t(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=t(s);fetch(s.href,i)}})();const Dn=!1;var ze=Array.isArray,Ir=Array.prototype.indexOf,zt=Array.from,ht=Object.defineProperty,Fe=Object.getOwnPropertyDescriptor,Fn=Object.getOwnPropertyDescriptors,Lr=Object.prototype,qr=Array.prototype,Gt=Object.getPrototypeOf,mn=Object.isExtensible;const Me=()=>{};function jr(n){return n()}function dt(n){for(var e=0;e<n.length;e++)n[e]()}function Nr(){var n,e,t=new Promise((r,s)=>{n=r,e=s});return{promise:t,resolve:n,reject:e}}const ee=2,Jt=4,St=8,Ge=16,pe=32,Re=64,Mn=128,se=256,pt=512,V=1024,ie=2048,Ce=4096,oe=8192,Ae=16384,Yt=32768,Zt=65536,gn=1<<17,Ur=1<<18,rt=1<<19,$n=1<<20,Nt=1<<21,Qt=1<<22,Te=1<<23,ye=Symbol("$state"),Dr=Symbol("legacy props"),Xt=new class extends Error{name="StaleReactionError";message="The reaction that called `getAbortSignal()` was re-run or destroyed"};function Fr(){throw new Error("https://svelte.dev/e/await_outside_boundary")}function Hn(n){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function Mr(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function $r(n){throw new Error("https://svelte.dev/e/effect_in_teardown")}function Hr(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Vr(n){throw new Error("https://svelte.dev/e/effect_orphan")}function Br(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Kr(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Wr(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function zr(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}const Ct=1,Et=2,Vn=4,Gr=8,Jr=16,Yr=2,Zr=4,Qr=8,Xr=1,es=2,H=Symbol(),ts="http://www.w3.org/1999/xhtml";function ns(){console.warn("https://svelte.dev/e/select_multiple_invalid_value")}let rs=!1;function Bn(n){return n===this.v}function Kn(n,e){return n!=n?e==e:n!==e||n!==null&&typeof n=="object"||typeof n=="function"}function Wn(n){return!Kn(n,this.v)}let Je=!1,ss=!1;function is(){Je=!0}let D=null;function vt(n){D=n}function Ee(n,e=!1,t){D={p:D,c:null,e:null,s:n,x:null,l:Je&&!e?{s:null,u:null,$:[]}:null}}function ke(n){var e=D,t=e.e;if(t!==null){e.e=null;for(var r of t)lr(r)}return D=e.p,{}}function st(){return!Je||D!==null&&D.l===null}const os=new WeakMap;function as(n){var e=P;if(e===null)return R.f|=Te,n;if((e.f&Yt)===0){if((e.f&Mn)===0)throw!e.parent&&n instanceof Error&&zn(n),n;e.b.error(n)}else en(n,e)}function en(n,e){for(;e!==null;){if((e.f&Mn)!==0)try{e.b.error(n);return}catch(t){n=t}e=e.parent}throw n instanceof Error&&zn(n),n}function zn(n){const e=os.get(n);e&&(ht(n,"message",{value:e.message}),ht(n,"stack",{value:e.stack}))}let Qe=[],Ut=[];function Gn(){var n=Qe;Qe=[],dt(n)}function ls(){var n=Ut;Ut=[],dt(n)}function Jn(n){Qe.length===0&&queueMicrotask(Gn),Qe.push(n)}function cs(){Qe.length>0&&Gn(),Ut.length>0&&ls()}function us(){for(var n=P.b;n!==null&&!n.has_pending_snippet();)n=n.parent;return n===null&&Fr(),n}function tn(n){var e=ee|ie,t=R!==null&&(R.f&ee)!==0?R:null;return P===null||t!==null&&(t.f&se)!==0?e|=se:P.f|=rt,{ctx:D,deps:null,effects:null,equals:Bn,f:e,fn:n,reactions:null,rv:0,v:H,wv:0,parent:t??P,ac:null}}function fs(n,e){let t=P;t===null&&Mr();var r=t.b,s=void 0,i=Xe(H),o=null,a=!R;return ks(()=>{try{var l=n();o&&Promise.resolve(l).catch(()=>{})}catch(f){l=Promise.reject(f)}var c=()=>l;s=o?.then(c,c)??Promise.resolve(l),o=s;var h=I,d=r.pending;a&&(r.update_pending_count(1),d||h.increment());const p=(f,u=void 0)=>{o=null,d||h.activate(),u?u!==Xt&&(i.f|=Te,We(i,u)):((i.f&Te)!==0&&(i.f^=Te),We(i,f)),a&&(r.update_pending_count(-1),d||h.decrement()),Qn()};if(s.then(p,f=>p(null,f||"unknown")),h)return()=>{queueMicrotask(()=>h.neuter())}}),new Promise(l=>{function c(h){function d(){h===s?l(i):c(s)}h.then(d,d)}c(s)})}function nn(n){const e=tn(n);return e.equals=Wn,e}function Yn(n){var e=n.effects;if(e!==null){n.effects=null;for(var t=0;t<e.length;t+=1)de(e[t])}}function hs(n){for(var e=n.parent;e!==null;){if((e.f&ee)===0)return e;e=e.parent}return null}function rn(n){var e,t=P;Se(hs(n));try{Yn(n),e=br(n)}finally{Se(t)}return e}function Zn(n){var e=rn(n);if(n.equals(e)||(n.v=e,n.wv=mr()),!Ie){var t=(_e||(n.f&se)!==0)&&n.deps!==null?Ce:V;J(n,t)}}function ds(n,e,t){const r=st()?tn:nn;if(e.length===0){t(n.map(r));return}var s=I,i=P,o=ps(),a=us();Promise.all(e.map(l=>fs(l))).then(l=>{s?.activate(),o();try{t([...n.map(r),...l])}catch(c){(i.f&Ae)===0&&en(c,i)}s?.deactivate(),Qn()}).catch(l=>{a.error(l)})}function ps(){var n=P,e=R,t=D,r=I;return function(){Se(n),ue(e),vt(t),r?.activate()}}function Qn(){Se(null),ue(null),vt(null)}const Rt=new Set;let I=null,ut=null,bn=new Set,mt=[];function Xn(){const n=mt.shift();mt.length>0&&queueMicrotask(Xn),n()}let xe=[],kt=null,Dt=!1,ft=!1;class Be{current=new Map;#l=new Map;#s=new Set;#e=0;#c=null;#u=!1;#n=[];#i=[];#r=[];#t=[];#o=[];#f=[];#h=[];skipped_effects=new Set;process(e){xe=[],ut=null;for(const s of e)this.#p(s);if(this.#n.length===0&&this.#e===0){this.#d();var t=this.#r,r=this.#t;this.#r=[],this.#t=[],this.#o=[],ut=I,I=null,_n(t),_n(r),I===null?I=this:Rt.delete(this),this.#c?.resolve()}else this.#a(this.#r),this.#a(this.#t),this.#a(this.#o);for(const s of this.#n)He(s);for(const s of this.#i)He(s);this.#n=[],this.#i=[]}#p(e){e.f^=V;for(var t=e.first;t!==null;){var r=t.f,s=(r&(pe|Re))!==0,i=s&&(r&V)!==0,o=i||(r&oe)!==0||this.skipped_effects.has(t);if(!o&&t.fn!==null){if(s)t.f^=V;else if((r&Jt)!==0)this.#t.push(t);else if((r&V)===0)if((r&Qt)!==0){var a=t.b?.pending?this.#i:this.#n;a.push(t)}else Pt(t)&&((t.f&Ge)!==0&&this.#o.push(t),He(t));var l=t.first;if(l!==null){t=l;continue}}var c=t.parent;for(t=t.next;t===null&&c!==null;)t=c.next,c=c.parent}}#a(e){for(const t of e)((t.f&ie)!==0?this.#f:this.#h).push(t),J(t,V);e.length=0}capture(e,t){this.#l.has(e)||this.#l.set(e,t),this.current.set(e,e.v)}activate(){I=this}deactivate(){I=null,ut=null;for(const e of bn)if(bn.delete(e),e(),I!==null)break}neuter(){this.#u=!0}flush(){xe.length>0?er():this.#d(),I===this&&(this.#e===0&&Rt.delete(this),this.deactivate())}#d(){if(!this.#u)for(const e of this.#s)e();this.#s.clear()}increment(){this.#e+=1}decrement(){if(this.#e-=1,this.#e===0){for(const e of this.#f)J(e,ie),Ke(e);for(const e of this.#h)J(e,Ce),Ke(e);this.#r=[],this.#t=[],this.flush()}else this.deactivate()}add_callback(e){this.#s.add(e)}settled(){return(this.#c??=Nr()).promise}static ensure(){if(I===null){const e=I=new Be;Rt.add(I),ft||Be.enqueue(()=>{I===e&&e.flush()})}return I}static enqueue(e){mt.length===0&&queueMicrotask(Xn),mt.unshift(e)}}function vs(n){var e=ft;ft=!0;try{for(var t;;){if(cs(),xe.length===0&&(I?.flush(),xe.length===0))return kt=null,t;er()}}finally{ft=e}}function er(){var n=$e;Dt=!0;try{var e=0;for(Cn(!0);xe.length>0;){var t=Be.ensure();if(e++>1e3){var r,s;ms()}t.process(xe),we.clear()}}finally{Dt=!1,Cn(n),kt=null}}function ms(){try{Br()}catch(n){en(n,kt)}}let Oe=null;function _n(n){var e=n.length;if(e!==0){for(var t=0;t<e;){var r=n[t++];if((r.f&(Ae|oe))===0&&Pt(r)&&(Oe=[],He(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null&&r.ac===null?hr(r):r.fn=null),Oe?.length>0)){we.clear();for(const s of Oe)He(s);Oe=[]}}Oe=null}}function Ke(n){for(var e=kt=n;e.parent!==null;){e=e.parent;var t=e.f;if(Dt&&e===P&&(t&Ge)!==0)return;if((t&(Re|pe))!==0){if((t&V)===0)return;e.f^=V}}xe.push(e)}const we=new Map;function Xe(n,e){var t={f:0,v:n,reactions:null,equals:Bn,rv:0,wv:0};return t}function me(n,e){const t=Xe(n);return As(t),t}function U(n,e=!1,t=!0){const r=Xe(n);return e||(r.equals=Wn),Je&&t&&D!==null&&D.l!==null&&(D.l.s??=[]).push(r),r}function k(n,e,t=!1){R!==null&&(!ce||(R.f&gn)!==0)&&st()&&(R.f&(ee|Ge|Qt|gn))!==0&&!he?.includes(n)&&zr();let r=t?De(e):e;return We(n,r)}function We(n,e){if(!n.equals(e)){var t=n.v;Ie?we.set(n,e):we.set(n,t),n.v=e;var r=Be.ensure();r.capture(n,t),(n.f&ee)!==0&&((n.f&ie)!==0&&rn(n),J(n,(n.f&se)===0?V:Ce)),n.wv=mr(),tr(n,ie),st()&&P!==null&&(P.f&V)!==0&&(P.f&(pe|Re))===0&&(ne===null?Is([n]):ne.push(n))}return e}function At(n){k(n,n.v+1)}function tr(n,e){var t=n.reactions;if(t!==null)for(var r=st(),s=t.length,i=0;i<s;i++){var o=t[i],a=o.f;if(!(!r&&o===P)){var l=(a&ie)===0;l&&J(o,e),(a&ee)!==0?tr(o,Ce):l&&((a&Ge)!==0&&Oe!==null&&Oe.push(o),Ke(o))}}}function De(n){if(typeof n!="object"||n===null||ye in n)return n;const e=Gt(n);if(e!==Lr&&e!==qr)return n;var t=new Map,r=ze(n),s=me(0),i=Pe,o=a=>{if(Pe===i)return a();var l=R,c=Pe;ue(null),kn(i);var h=a();return ue(l),kn(c),h};return r&&t.set("length",me(n.length)),new Proxy(n,{defineProperty(a,l,c){(!("value"in c)||c.configurable===!1||c.enumerable===!1||c.writable===!1)&&Kr();var h=t.get(l);return h===void 0?h=o(()=>{var d=me(c.value);return t.set(l,d),d}):k(h,c.value,!0),!0},deleteProperty(a,l){var c=t.get(l);if(c===void 0){if(l in a){const h=o(()=>me(H));t.set(l,h),At(s)}}else k(c,H),At(s);return!0},get(a,l,c){if(l===ye)return n;var h=t.get(l),d=l in a;if(h===void 0&&(!d||Fe(a,l)?.writable)&&(h=o(()=>{var f=De(d?a[l]:H),u=me(f);return u}),t.set(l,h)),h!==void 0){var p=g(h);return p===H?void 0:p}return Reflect.get(a,l,c)},getOwnPropertyDescriptor(a,l){var c=Reflect.getOwnPropertyDescriptor(a,l);if(c&&"value"in c){var h=t.get(l);h&&(c.value=g(h))}else if(c===void 0){var d=t.get(l),p=d?.v;if(d!==void 0&&p!==H)return{enumerable:!0,configurable:!0,value:p,writable:!0}}return c},has(a,l){if(l===ye)return!0;var c=t.get(l),h=c!==void 0&&c.v!==H||Reflect.has(a,l);if(c!==void 0||P!==null&&(!h||Fe(a,l)?.writable)){c===void 0&&(c=o(()=>{var p=h?De(a[l]):H,f=me(p);return f}),t.set(l,c));var d=g(c);if(d===H)return!1}return h},set(a,l,c,h){var d=t.get(l),p=l in a;if(r&&l==="length")for(var f=c;f<d.v;f+=1){var u=t.get(f+"");u!==void 0?k(u,H):f in a&&(u=o(()=>me(H)),t.set(f+"",u))}if(d===void 0)(!p||Fe(a,l)?.writable)&&(d=o(()=>me(void 0)),k(d,De(c)),t.set(l,d));else{p=d.v!==H;var m=o(()=>De(c));k(d,m)}var b=Reflect.getOwnPropertyDescriptor(a,l);if(b?.set&&b.set.call(h,c),!p){if(r&&typeof l=="string"){var S=t.get("length"),v=Number(l);Number.isInteger(v)&&v>=S.v&&k(S,v+1)}At(s)}return!0},ownKeys(a){g(s);var l=Reflect.ownKeys(a).filter(d=>{var p=t.get(d);return p===void 0||p.v!==H});for(var[c,h]of t)h.v!==H&&!(c in a)&&l.push(c);return l},setPrototypeOf(){Wr()}})}function yn(n){try{if(n!==null&&typeof n=="object"&&ye in n)return n[ye]}catch{}return n}function gs(n,e){return Object.is(yn(n),yn(e))}var wn,nr,rr,sr;function bs(){if(wn===void 0){wn=window,nr=/Firefox/.test(navigator.userAgent);var n=Element.prototype,e=Node.prototype,t=Text.prototype;rr=Fe(e,"firstChild").get,sr=Fe(e,"nextSibling").get,mn(n)&&(n.__click=void 0,n.__className=void 0,n.__attributes=null,n.__style=void 0,n.__e=void 0),mn(t)&&(t.__t=void 0)}}function it(n=""){return document.createTextNode(n)}function gt(n){return rr.call(n)}function Ot(n){return sr.call(n)}function T(n,e){return gt(n)}function Ft(n,e){{var t=gt(n);return t instanceof Comment&&t.data===""?Ot(t):t}}function E(n,e=1,t=!1){let r=n;for(;e--;)r=Ot(r);return r}function _s(n){n.textContent=""}function ir(){return!1}let Sn=!1;function ys(){Sn||(Sn=!0,document.addEventListener("reset",n=>{Promise.resolve().then(()=>{if(!n.defaultPrevented)for(const e of n.target.elements)e.__on_r?.()})},{capture:!0}))}function Tt(n){var e=R,t=P;ue(null),Se(null);try{return n()}finally{ue(e),Se(t)}}function or(n,e,t,r=t){n.addEventListener(e,()=>Tt(t));const s=n.__on_r;s?n.__on_r=()=>{s(),r(!0)}:n.__on_r=()=>r(!0),ys()}function ar(n){P===null&&R===null&&Vr(),R!==null&&(R.f&se)!==0&&P===null&&Hr(),Ie&&$r()}function ws(n,e){var t=e.last;t===null?e.last=e.first=n:(t.next=n,n.prev=t,e.last=n)}function fe(n,e,t,r=!0){var s=P;s!==null&&(s.f&oe)!==0&&(n|=oe);var i={ctx:D,deps:null,nodes_start:null,nodes_end:null,f:n|ie,first:null,fn:e,last:null,next:null,parent:s,b:s&&s.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(t)try{He(i),i.f|=Yt}catch(l){throw de(i),l}else e!==null&&Ke(i);if(r){var o=i;if(t&&o.deps===null&&o.teardown===null&&o.nodes_start===null&&o.first===o.last&&(o.f&rt)===0&&(o=o.first),o!==null&&(o.parent=s,s!==null&&ws(o,s),R!==null&&(R.f&ee)!==0&&(n&Re)===0)){var a=R;(a.effects??=[]).push(o)}}return i}function sn(n){const e=fe(St,null,!1);return J(e,V),e.teardown=n,e}function Mt(n){ar();var e=P.f,t=!R&&(e&pe)!==0&&(e&Yt)===0;if(t){var r=D;(r.e??=[]).push(n)}else return lr(n)}function lr(n){return fe(Jt|$n,n,!1)}function Ss(n){return ar(),fe(St|$n,n,!0)}function Cs(n){Be.ensure();const e=fe(Re|rt,n,!0);return(t={})=>new Promise(r=>{t.outro?on(e,()=>{de(e),r(void 0)}):(de(e),r(void 0))})}function Es(n){return fe(Jt,n,!1)}function ks(n){return fe(Qt|rt,n,!0)}function Os(n,e=0){return fe(St|e,n,!0)}function W(n,e=[],t=[]){ds(e,t,r=>{fe(St,()=>n(...r.map(g)),!0)})}function cr(n,e=0){var t=fe(Ge|e,n,!0);return t}function et(n,e=!0){return fe(pe|rt,n,!0,e)}function ur(n){var e=n.teardown;if(e!==null){const t=Ie,r=R;En(!0),ue(null);try{e.call(null)}finally{En(t),ue(r)}}}function fr(n,e=!1){var t=n.first;for(n.first=n.last=null;t!==null;){const s=t.ac;s!==null&&Tt(()=>{s.abort(Xt)});var r=t.next;(t.f&Re)!==0?t.parent=null:de(t,e),t=r}}function Ts(n){for(var e=n.first;e!==null;){var t=e.next;(e.f&pe)===0&&de(e),e=t}}function de(n,e=!0){var t=!1;(e||(n.f&Ur)!==0)&&n.nodes_start!==null&&n.nodes_end!==null&&(Ps(n.nodes_start,n.nodes_end),t=!0),fr(n,e&&!t),bt(n,0),J(n,Ae);var r=n.transitions;if(r!==null)for(const i of r)i.stop();ur(n);var s=n.parent;s!==null&&s.first!==null&&hr(n),n.next=n.prev=n.teardown=n.ctx=n.deps=n.fn=n.nodes_start=n.nodes_end=n.ac=null}function Ps(n,e){for(;n!==null;){var t=n===e?null:Ot(n);n.remove(),n=t}}function hr(n){var e=n.parent,t=n.prev,r=n.next;t!==null&&(t.next=r),r!==null&&(r.prev=t),e!==null&&(e.first===n&&(e.first=r),e.last===n&&(e.last=t))}function on(n,e){var t=[];an(n,t,!0),dr(t,()=>{de(n),e&&e()})}function dr(n,e){var t=n.length;if(t>0){var r=()=>--t||e();for(var s of n)s.out(r)}else e()}function an(n,e,t){if((n.f&oe)===0){if(n.f^=oe,n.transitions!==null)for(const o of n.transitions)(o.is_global||t)&&e.push(o);for(var r=n.first;r!==null;){var s=r.next,i=(r.f&Zt)!==0||(r.f&pe)!==0;an(r,e,i?t:!1),r=s}}}function ln(n){pr(n,!0)}function pr(n,e){if((n.f&oe)!==0){n.f^=oe,(n.f&V)===0&&(J(n,ie),Ke(n));for(var t=n.first;t!==null;){var r=t.next,s=(t.f&Zt)!==0||(t.f&pe)!==0;pr(t,s?e:!1),t=r}if(n.transitions!==null)for(const i of n.transitions)(i.is_global||e)&&i.in()}}let Ue=null;function xs(n){var e=Ue;try{if(Ue=new Set,N(n),e!==null)for(var t of Ue)e.add(t);return Ue}finally{Ue=e}}function Rs(n){for(var e of xs(n))We(e,e.v)}let $e=!1;function Cn(n){$e=n}let Ie=!1;function En(n){Ie=n}let R=null,ce=!1;function ue(n){R=n}let P=null;function Se(n){P=n}let he=null;function As(n){R!==null&&(he===null?he=[n]:he.push(n))}let K=null,Z=0,ne=null;function Is(n){ne=n}let vr=1,tt=0,Pe=tt;function kn(n){Pe=n}let _e=!1;function mr(){return++vr}function Pt(n){var e=n.f;if((e&ie)!==0)return!0;if((e&Ce)!==0){var t=n.deps,r=(e&se)!==0;if(t!==null){var s,i,o=(e&pt)!==0,a=r&&P!==null&&!_e,l=t.length;if((o||a)&&(P===null||(P.f&Ae)===0)){var c=n,h=c.parent;for(s=0;s<l;s++)i=t[s],(o||!i?.reactions?.includes(c))&&(i.reactions??=[]).push(c);o&&(c.f^=pt),a&&h!==null&&(h.f&se)===0&&(c.f^=se)}for(s=0;s<l;s++)if(i=t[s],Pt(i)&&Zn(i),i.wv>n.wv)return!0}(!r||P!==null&&!_e)&&J(n,V)}return!1}function gr(n,e,t=!0){var r=n.reactions;if(r!==null&&!he?.includes(n))for(var s=0;s<r.length;s++){var i=r[s];(i.f&ee)!==0?gr(i,e,!1):e===i&&(t?J(i,ie):(i.f&V)!==0&&J(i,Ce),Ke(i))}}function br(n){var e=K,t=Z,r=ne,s=R,i=_e,o=he,a=D,l=ce,c=Pe,h=n.f;K=null,Z=0,ne=null,_e=(h&se)!==0&&(ce||!$e||R===null),R=(h&(pe|Re))===0?n:null,he=null,vt(n.ctx),ce=!1,Pe=++tt,n.ac!==null&&(Tt(()=>{n.ac.abort(Xt)}),n.ac=null);try{n.f|=Nt;var d=n.fn,p=d(),f=n.deps;if(K!==null){var u;if(bt(n,Z),f!==null&&Z>0)for(f.length=Z+K.length,u=0;u<K.length;u++)f[Z+u]=K[u];else n.deps=f=K;if(!_e||(h&ee)!==0&&n.reactions!==null)for(u=Z;u<f.length;u++)(f[u].reactions??=[]).push(n)}else f!==null&&Z<f.length&&(bt(n,Z),f.length=Z);if(st()&&ne!==null&&!ce&&f!==null&&(n.f&(ee|Ce|ie))===0)for(u=0;u<ne.length;u++)gr(ne[u],n);return s!==null&&s!==n&&(tt++,ne!==null&&(r===null?r=ne:r.push(...ne))),(n.f&Te)!==0&&(n.f^=Te),p}catch(m){return as(m)}finally{n.f^=Nt,K=e,Z=t,ne=r,R=s,_e=i,he=o,vt(a),ce=l,Pe=c}}function Ls(n,e){let t=e.reactions;if(t!==null){var r=Ir.call(t,n);if(r!==-1){var s=t.length-1;s===0?t=e.reactions=null:(t[r]=t[s],t.pop())}}t===null&&(e.f&ee)!==0&&(K===null||!K.includes(e))&&(J(e,Ce),(e.f&(se|pt))===0&&(e.f^=pt),Yn(e),bt(e,0))}function bt(n,e){var t=n.deps;if(t!==null)for(var r=e;r<t.length;r++)Ls(n,t[r])}function He(n){var e=n.f;if((e&Ae)===0){J(n,V);var t=P,r=$e;P=n,$e=!0;try{(e&Ge)!==0?Ts(n):fr(n),ur(n);var s=br(n);n.teardown=typeof s=="function"?s:null,n.wv=vr;var i;Dn&&ss&&(n.f&ie)!==0&&n.deps}finally{$e=r,P=t}}}async function qs(){await Promise.resolve(),vs()}function g(n){var e=n.f,t=(e&ee)!==0;if(Ue?.add(n),R!==null&&!ce){var r=P!==null&&(P.f&Ae)!==0;if(!r&&!he?.includes(n)){var s=R.deps;if((R.f&Nt)!==0)n.rv<tt&&(n.rv=tt,K===null&&s!==null&&s[Z]===n?Z++:K===null?K=[n]:(!_e||!K.includes(n))&&K.push(n));else{(R.deps??=[]).push(n);var i=n.reactions;i===null?n.reactions=[R]:i.includes(R)||i.push(R)}}}else if(t&&n.deps===null&&n.effects===null){var o=n,a=o.parent;a!==null&&(a.f&se)===0&&(o.f^=se)}if(Ie){if(we.has(n))return we.get(n);if(t){o=n;var l=o.v;return((o.f&V)===0&&o.reactions!==null||_r(o))&&(l=rn(o)),we.set(o,l),l}}else t&&(o=n,Pt(o)&&Zn(o));if((n.f&Te)!==0)throw n.v;return n.v}function _r(n){if(n.v===H)return!0;if(n.deps===null)return!1;for(const e of n.deps)if(we.has(e)||(e.f&ee)!==0&&_r(e))return!0;return!1}function N(n){var e=ce;try{return ce=!0,n()}finally{ce=e}}const js=-7169;function J(n,e){n.f=n.f&js|e}function F(n){if(!(typeof n!="object"||!n||n instanceof EventTarget)){if(ye in n)$t(n);else if(!Array.isArray(n))for(let e in n){const t=n[e];typeof t=="object"&&t&&ye in t&&$t(t)}}}function $t(n,e=new Set){if(typeof n=="object"&&n!==null&&!(n instanceof EventTarget)&&!e.has(n)){e.add(n),n instanceof Date&&n.getTime();for(let r in n)try{$t(n[r],e)}catch{}const t=Gt(n);if(t!==Object.prototype&&t!==Array.prototype&&t!==Map.prototype&&t!==Set.prototype&&t!==Date.prototype){const r=Fn(t);for(let s in r){const i=r[s].get;if(i)try{i.call(n)}catch{}}}}}const Ns=["touchstart","touchmove"];function Us(n){return Ns.includes(n)}const Ds=new Set,On=new Set;function Fs(n,e,t,r={}){function s(i){if(r.capture||Ye.call(e,i),!i.cancelBubble)return Tt(()=>t?.call(this,i))}return n.startsWith("pointer")||n.startsWith("touch")||n==="wheel"?Jn(()=>{e.addEventListener(n,s,r)}):e.addEventListener(n,s,r),s}function B(n,e,t,r,s){var i={capture:r,passive:s},o=Fs(n,e,t,i);(e===document.body||e===window||e===document||e instanceof HTMLMediaElement)&&sn(()=>{e.removeEventListener(n,o,i)})}let Tn=null;function Ye(n){var e=this,t=e.ownerDocument,r=n.type,s=n.composedPath?.()||[],i=s[0]||n.target;Tn=n;var o=0,a=Tn===n&&n.__root;if(a){var l=s.indexOf(a);if(l!==-1&&(e===document||e===window)){n.__root=e;return}var c=s.indexOf(e);if(c===-1)return;l<=c&&(o=l)}if(i=s[o]||n.target,i!==e){ht(n,"currentTarget",{configurable:!0,get(){return i||t}});var h=R,d=P;ue(null),Se(null);try{for(var p,f=[];i!==null;){var u=i.assignedSlot||i.parentNode||i.host||null;try{var m=i["__"+r];if(m!=null&&(!i.disabled||n.target===i))if(ze(m)){var[b,...S]=m;b.apply(i,[n,...S])}else m.call(i,n)}catch(v){p?f.push(v):p=v}if(n.cancelBubble||u===e||u===null)break;i=u}if(p){for(let v of f)queueMicrotask(()=>{throw v});throw p}}finally{n.__root=e,delete n.currentTarget,ue(h),Se(d)}}}function Ms(n){var e=document.createElement("template");return e.innerHTML=n.replaceAll("<!>","<!---->"),e.content}function Ht(n,e){var t=P;t.nodes_start===null&&(t.nodes_start=n,t.nodes_end=e)}function j(n,e){var t=(e&Xr)!==0,r=(e&es)!==0,s,i=!n.startsWith("<!>");return()=>{s===void 0&&(s=Ms(i?n:"<!>"+n),t||(s=gt(s)));var o=r||nr?document.importNode(s,!0):s.cloneNode(!0);if(t){var a=gt(o),l=o.lastChild;Ht(a,l)}else Ht(o,o);return o}}function $s(){var n=document.createDocumentFragment(),e=document.createComment(""),t=it();return n.append(e,t),Ht(e,t),n}function L(n,e){n!==null&&n.before(e)}function Q(n,e){var t=e==null?"":typeof e=="object"?e+"":e;t!==(n.__t??=n.nodeValue)&&(n.__t=t,n.nodeValue=t+"")}function Hs(n,e){return Vs(n,e)}const je=new Map;function Vs(n,{target:e,anchor:t,props:r={},events:s,context:i,intro:o=!0}){bs();var a=new Set,l=d=>{for(var p=0;p<d.length;p++){var f=d[p];if(!a.has(f)){a.add(f);var u=Us(f);e.addEventListener(f,Ye,{passive:u});var m=je.get(f);m===void 0?(document.addEventListener(f,Ye,{passive:u}),je.set(f,1)):je.set(f,m+1)}}};l(zt(Ds)),On.add(l);var c=void 0,h=Cs(()=>{var d=t??e.appendChild(it());return et(()=>{if(i){Ee({});var p=D;p.c=i}s&&(r.$$events=s),c=n(d,r)||{},i&&ke()}),()=>{for(var p of a){e.removeEventListener(p,Ye);var f=je.get(p);--f===0?(document.removeEventListener(p,Ye),je.delete(p)):je.set(p,f)}On.delete(l),d!==t&&d.parentNode?.removeChild(d)}});return Bs.set(c,h),c}let Bs=new WeakMap;function z(n,e,t=!1){var r=n,s=null,i=null,o=H,a=t?Zt:0,l=!1;const c=(f,u=!0)=>{l=!0,p(u,f)};var h=null;function d(){h!==null&&(h.lastChild.remove(),r.before(h),h=null);var f=o?s:i,u=o?i:s;f&&ln(f),u&&on(u,()=>{o?i=null:s=null})}const p=(f,u)=>{if(o!==(o=f)){var m=ir(),b=r;if(m&&(h=document.createDocumentFragment(),h.append(b=it())),o?s??=u&&et(()=>u(b)):i??=u&&et(()=>u(b)),m){var S=I,v=o?s:i,_=o?i:s;v&&S.skipped_effects.delete(v),_&&S.skipped_effects.add(_),S.add_callback(d)}else d()}};cr(()=>{l=!1,e(c),l||p(null,null)},a)}function _t(n,e){return e}function Ks(n,e,t){for(var r=n.items,s=[],i=e.length,o=0;o<i;o++)an(e[o].e,s,!0);var a=i>0&&s.length===0&&t!==null;if(a){var l=t.parentNode;_s(l),l.append(t),r.clear(),le(n,e[0].prev,e[i-1].next)}dr(s,()=>{for(var c=0;c<i;c++){var h=e[c];a||(r.delete(h.k),le(n,h.prev,h.next)),de(h.e,!a)}})}function yt(n,e,t,r,s,i=null){var o=n,a={flags:e,items:new Map,first:null},l=(e&Vn)!==0;if(l){var c=n;o=c.appendChild(it())}var h=null,d=!1,p=new Map,f=nn(()=>{var S=t();return ze(S)?S:S==null?[]:zt(S)}),u,m;function b(){Ws(m,u,a,p,o,s,e,r,t),i!==null&&(u.length===0?h?ln(h):h=et(()=>i(o)):h!==null&&on(h,()=>{h=null}))}cr(()=>{m??=P,u=g(f);var S=u.length;if(!(d&&S===0)){d=S===0;var v,_,y,C;if(ir()){var w=new Set,x=I;for(_=0;_<S;_+=1){y=u[_],C=r(y,_);var M=a.items.get(C)??p.get(C);M?(e&(Ct|Et))!==0&&yr(M,y,_,e):(v=wr(null,a,null,null,y,C,_,s,e,t,!0),p.set(C,v)),w.add(C)}for(const[O,$]of a.items)w.has(O)||x.skipped_effects.add($.e);x.add_callback(b)}else b();g(f)}})}function Ws(n,e,t,r,s,i,o,a,l){var c=(o&Gr)!==0,h=(o&(Ct|Et))!==0,d=e.length,p=t.items,f=t.first,u=f,m,b=null,S,v=[],_=[],y,C,w,x;if(c)for(x=0;x<d;x+=1)y=e[x],C=a(y,x),w=p.get(C),w!==void 0&&(w.a?.measure(),(S??=new Set).add(w));for(x=0;x<d;x+=1){if(y=e[x],C=a(y,x),w=p.get(C),w===void 0){var M=r.get(C);if(M!==void 0){r.delete(C),p.set(C,M);var O=b?b.next:u;le(t,b,M),le(t,M,O),It(M,O,s),b=M}else{var $=u?u.e.nodes_start:s;b=wr($,t,b,b===null?t.first:b.next,y,C,x,i,o,l)}p.set(C,b),v=[],_=[],u=b.next;continue}if(h&&yr(w,y,x,o),(w.e.f&oe)!==0&&(ln(w.e),c&&(w.a?.unfix(),(S??=new Set).delete(w))),w!==u){if(m!==void 0&&m.has(w)){if(v.length<_.length){var Y=_[0],q;b=Y.prev;var qe=v[0],A=v[v.length-1];for(q=0;q<v.length;q+=1)It(v[q],Y,s);for(q=0;q<_.length;q+=1)m.delete(_[q]);le(t,qe.prev,A.next),le(t,b,qe),le(t,A,Y),u=Y,b=A,x-=1,v=[],_=[]}else m.delete(w),It(w,u,s),le(t,w.prev,w.next),le(t,w,b===null?t.first:b.next),le(t,b,w),b=w;continue}for(v=[],_=[];u!==null&&u.k!==C;)(u.e.f&oe)===0&&(m??=new Set).add(u),_.push(u),u=u.next;if(u===null)continue;w=u}v.push(w),b=w,u=w.next}if(u!==null||m!==void 0){for(var G=m===void 0?[]:zt(m);u!==null;)(u.e.f&oe)===0&&G.push(u),u=u.next;var te=G.length;if(te>0){var xt=(o&Vn)!==0&&d===0?s:null;if(c){for(x=0;x<te;x+=1)G[x].a?.measure();for(x=0;x<te;x+=1)G[x].a?.fix()}Ks(t,G,xt)}}c&&Jn(()=>{if(S!==void 0)for(w of S)w.a?.apply()}),n.first=t.first&&t.first.e,n.last=b&&b.e;for(var at of r.values())de(at.e);r.clear()}function yr(n,e,t,r){(r&Ct)!==0&&We(n.v,e),(r&Et)!==0?We(n.i,t):n.i=t}function wr(n,e,t,r,s,i,o,a,l,c,h){var d=(l&Ct)!==0,p=(l&Jr)===0,f=d?p?U(s,!1,!1):Xe(s):s,u=(l&Et)===0?o:Xe(o),m={i:u,v:f,k:i,a:null,e:null,prev:t,next:r};try{if(n===null){var b=document.createDocumentFragment();b.append(n=it())}return m.e=et(()=>a(n,f,u,c),rs),m.e.prev=t&&t.e,m.e.next=r&&r.e,t===null?h||(e.first=m):(t.next=m,t.e.next=m.e),r!==null&&(r.prev=m,r.e.prev=m.e),m}finally{}}function It(n,e,t){for(var r=n.next?n.next.e.nodes_start:t,s=e?e.e.nodes_start:t,i=n.e.nodes_start;i!==null&&i!==r;){var o=Ot(i);s.before(i),i=o}}function le(n,e,t){e===null?n.first=t:(e.next=t,e.e.next=t&&t.e),t!==null&&(t.prev=e,t.e.prev=e&&e.e)}function Sr(n,e,t=!1){if(n.multiple){if(e==null)return;if(!ze(e))return ns();for(var r of n.options)r.selected=e.includes(Ze(r));return}for(r of n.options){var s=Ze(r);if(gs(s,e)){r.selected=!0;return}}(!t||e!==void 0)&&(n.selectedIndex=-1)}function zs(n){var e=new MutationObserver(()=>{Sr(n,n.__value)});e.observe(n,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),sn(()=>{e.disconnect()})}function Gs(n,e,t=e){var r=!0;or(n,"change",s=>{var i=s?"[selected]":":checked",o;if(n.multiple)o=[].map.call(n.querySelectorAll(i),Ze);else{var a=n.querySelector(i)??n.querySelector("option:not([disabled])");o=a&&Ze(a)}t(o)}),Es(()=>{var s=e();if(Sr(n,s,r),r&&s===void 0){var i=n.querySelector(":checked");i!==null&&(s=Ze(i),t(s))}n.__value=s,r=!1}),zs(n)}function Ze(n){return"__value"in n?n.__value:n.value}const Js=Symbol("is custom element"),Ys=Symbol("is html");function be(n,e,t,r){var s=Zs(n);s[e]!==(s[e]=t)&&(t==null?n.removeAttribute(e):typeof t!="string"&&Qs(n).includes(e)?n[e]=t:n.setAttribute(e,t))}function Zs(n){return n.__attributes??={[Js]:n.nodeName.includes("-"),[Ys]:n.namespaceURI===ts}}var Pn=new Map;function Qs(n){var e=n.getAttribute("is")||n.nodeName,t=Pn.get(e);if(t)return t;Pn.set(e,t=[]);for(var r,s=n,i=Element.prototype;i!==s;){r=Fn(s);for(var o in r)r[o].set&&t.push(o);s=Gt(s)}return t}function re(n,e,t=e){var r=new WeakSet;or(n,"input",async s=>{var i=s?n.defaultValue:n.value;if(i=Lt(n)?qt(i):i,t(i),I!==null&&r.add(I),await qs(),i!==(i=e())){var o=n.selectionStart,a=n.selectionEnd;n.value=i??"",a!==null&&(n.selectionStart=o,n.selectionEnd=Math.min(a,n.value.length))}}),N(e)==null&&n.value&&(t(Lt(n)?qt(n.value):n.value),I!==null&&r.add(I)),Os(()=>{var s=e();if(n===document.activeElement){var i=ut??I;if(r.has(i))return}Lt(n)&&s===qt(n.value)||n.type==="date"&&!s&&!n.value||s!==n.value&&(n.value=s??"")})}function Lt(n){var e=n.type;return e==="number"||e==="range"}function qt(n){return n===""?null:+n}function cn(n){return function(...e){var t=e[0];return t.stopPropagation(),n?.apply(this,e)}}function Vt(n){return function(...e){var t=e[0];return t.preventDefault(),n?.apply(this,e)}}function Le(n=!1){const e=D,t=e.l.u;if(!t)return;let r=()=>F(e.s);if(n){let s=0,i={};const o=tn(()=>{let a=!1;const l=e.s;for(const c in l)l[c]!==i[c]&&(i[c]=l[c],a=!0);return a&&s++,s});r=()=>g(o)}t.b.length&&Ss(()=>{xn(e,r),dt(t.b)}),Mt(()=>{const s=N(()=>t.m.map(jr));return()=>{for(const i of s)typeof i=="function"&&i()}}),t.a.length&&Mt(()=>{xn(e,r),dt(t.a)})}function xn(n,e){if(n.l.s)for(const t of n.l.s)g(t);e()}function un(n,e){var t=n.$$events?.[e.type],r=ze(t)?t.slice():t==null?[]:[t];for(var s of r)s.call(this,e)}function Cr(n,e,t){if(n==null)return e(void 0),Me;const r=N(()=>n.subscribe(e,t));return r.unsubscribe?()=>r.unsubscribe():r}const Ne=[];function Xs(n,e){return{subscribe:fn(n,e).subscribe}}function fn(n,e=Me){let t=null;const r=new Set;function s(a){if(Kn(n,a)&&(n=a,t)){const l=!Ne.length;for(const c of r)c[1](),Ne.push(c,n);if(l){for(let c=0;c<Ne.length;c+=2)Ne[c][0](Ne[c+1]);Ne.length=0}}}function i(a){s(a(n))}function o(a,l=Me){const c=[a,l];return r.add(c),r.size===1&&(t=e(s,i)||Me),a(n),()=>{r.delete(c),r.size===0&&t&&(t(),t=null)}}return{set:s,update:i,subscribe:o}}function ei(n){let e;return Cr(n,t=>e=t)(),e}let lt=!1,Bt=Symbol();function nt(n,e,t){const r=t[e]??={store:null,source:U(void 0),unsubscribe:Me};if(r.store!==n&&!(Bt in t))if(r.unsubscribe(),r.store=n??null,n==null)r.source.v=void 0,r.unsubscribe=Me;else{var s=!0;r.unsubscribe=Cr(n,i=>{s?r.source.v=i:k(r.source,i)}),s=!1}return n&&Bt in t?ei(n):g(r.source)}function hn(){const n={};function e(){sn(()=>{for(var t in n)n[t].unsubscribe();ht(n,Bt,{enumerable:!1,value:!0})})}return[n,e]}function ti(n){var e=lt;try{return lt=!1,[n(),lt]}finally{lt=e}}function dn(n,e,t,r){var s=!Je||(t&Yr)!==0,i=(t&Qr)!==0,o=r,a=!0,l=()=>(a&&(a=!1,o=r),o),c;{var h=ye in n||Dr in n;c=Fe(n,e)?.set??(h&&e in n?v=>n[e]=v:void 0)}var d,p=!1;[d,p]=ti(()=>n[e]);var f;if(s?f=()=>{var v=n[e];return v===void 0?l():(a=!0,v)}:f=()=>{var v=n[e];return v!==void 0&&(o=void 0),v===void 0?o:v},s&&(t&Zr)===0)return f;if(c){var u=n.$$legacy;return(function(v,_){return arguments.length>0?((!s||!_||u||p)&&c(_?f():v),v):f()})}var m=!1,b=nn(()=>(m=!1,f()));g(b);var S=P;return(function(v,_){if(arguments.length>0){const y=_?g(b):s&&i?De(v):v;return k(b,y),m=!0,o!==void 0&&(o=y),v}return Ie&&m||(S.f&Ae)!==0?b.v:g(b)})}function ni(n){D===null&&Hn(),Je&&D.l!==null?si(D).m.push(n):Mt(()=>{const e=N(n);if(typeof e=="function")return e})}function ri(n,e,{bubbles:t=!1,cancelable:r=!1}={}){return new CustomEvent(n,{detail:e,bubbles:t,cancelable:r})}function ot(){const n=D;return n===null&&Hn(),(e,t,r)=>{const s=n.s.$$events?.[e];if(s){const i=ze(s)?s.slice():[s],o=ri(e,t,r);for(const a of i)a.call(n.x,o);return!o.defaultPrevented}return!0}}function si(n){var e=n.l;return e.u??={a:[],b:[],m:[]}}const ii="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(ii);is();class X extends Error{constructor(e){super("ClientResponseError"),this.url="",this.status=0,this.response={},this.isAbort=!1,this.originalError=null,Object.setPrototypeOf(this,X.prototype),e!==null&&typeof e=="object"&&(this.url=typeof e.url=="string"?e.url:"",this.status=typeof e.status=="number"?e.status:0,this.isAbort=!!e.isAbort,this.originalError=e.originalError,e.response!==null&&typeof e.response=="object"?this.response=e.response:e.data!==null&&typeof e.data=="object"?this.response=e.data:this.response={}),this.originalError||e instanceof X||(this.originalError=e),typeof DOMException<"u"&&e instanceof DOMException&&(this.isAbort=!0),this.name="ClientResponseError "+this.status,this.message=this.response?.message,this.message||(this.isAbort?this.message="The request was autocancelled. You can find more info in https://github.com/pocketbase/js-sdk#auto-cancellation.":this.originalError?.cause?.message?.includes("ECONNREFUSED ::1")?this.message="Failed to connect to the PocketBase server. Try changing the SDK URL from localhost to 127.0.0.1 (https://github.com/pocketbase/js-sdk/issues/21).":this.message="Something went wrong."),this.cause=this.originalError}get data(){return this.response}toJSON(){return{...this}}}const ct=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function oi(n,e){const t={};if(typeof n!="string")return t;const r=Object.assign({},{}).decode||ai;let s=0;for(;s<n.length;){const i=n.indexOf("=",s);if(i===-1)break;let o=n.indexOf(";",s);if(o===-1)o=n.length;else if(o<i){s=n.lastIndexOf(";",i-1)+1;continue}const a=n.slice(s,i).trim();if(t[a]===void 0){let l=n.slice(i+1,o).trim();l.charCodeAt(0)===34&&(l=l.slice(1,-1));try{t[a]=r(l)}catch{t[a]=l}}s=o+1}return t}function Rn(n,e,t){const r=Object.assign({},t||{}),s=r.encode||li;if(!ct.test(n))throw new TypeError("argument name is invalid");const i=s(e);if(i&&!ct.test(i))throw new TypeError("argument val is invalid");let o=n+"="+i;if(r.maxAge!=null){const a=r.maxAge-0;if(isNaN(a)||!isFinite(a))throw new TypeError("option maxAge is invalid");o+="; Max-Age="+Math.floor(a)}if(r.domain){if(!ct.test(r.domain))throw new TypeError("option domain is invalid");o+="; Domain="+r.domain}if(r.path){if(!ct.test(r.path))throw new TypeError("option path is invalid");o+="; Path="+r.path}if(r.expires){if(!(function(l){return Object.prototype.toString.call(l)==="[object Date]"||l instanceof Date})(r.expires)||isNaN(r.expires.valueOf()))throw new TypeError("option expires is invalid");o+="; Expires="+r.expires.toUTCString()}if(r.httpOnly&&(o+="; HttpOnly"),r.secure&&(o+="; Secure"),r.priority)switch(typeof r.priority=="string"?r.priority.toLowerCase():r.priority){case"low":o+="; Priority=Low";break;case"medium":o+="; Priority=Medium";break;case"high":o+="; Priority=High";break;default:throw new TypeError("option priority is invalid")}if(r.sameSite)switch(typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite){case!0:o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"strict":o+="; SameSite=Strict";break;case"none":o+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return o}function ai(n){return n.indexOf("%")!==-1?decodeURIComponent(n):n}function li(n){return encodeURIComponent(n)}const ci=typeof navigator<"u"&&navigator.product==="ReactNative"||typeof global<"u"&&global.HermesInternal;let Er;function Ve(n){if(n)try{const e=decodeURIComponent(Er(n.split(".")[1]).split("").map((function(t){return"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)})).join(""));return JSON.parse(e)||{}}catch{}return{}}function kr(n,e=0){let t=Ve(n);return!(Object.keys(t).length>0&&(!t.exp||t.exp-e>Date.now()/1e3))}Er=typeof atob!="function"||ci?n=>{let e=String(n).replace(/=+$/,"");if(e.length%4==1)throw new Error("'atob' failed: The string to be decoded is not correctly encoded.");for(var t,r,s=0,i=0,o="";r=e.charAt(i++);~r&&(t=s%4?64*t+r:r,s++%4)?o+=String.fromCharCode(255&t>>(-2*s&6)):0)r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(r);return o}:atob;const An="pb_auth";class pn{constructor(){this.baseToken="",this.baseModel=null,this._onChangeCallbacks=[]}get token(){return this.baseToken}get record(){return this.baseModel}get model(){return this.baseModel}get isValid(){return!kr(this.token)}get isSuperuser(){let e=Ve(this.token);return e.type=="auth"&&(this.record?.collectionName=="_superusers"||!this.record?.collectionName&&e.collectionId=="pbc_3142635823")}get isAdmin(){return console.warn("Please replace pb.authStore.isAdmin with pb.authStore.isSuperuser OR simply check the value of pb.authStore.record?.collectionName"),this.isSuperuser}get isAuthRecord(){return console.warn("Please replace pb.authStore.isAuthRecord with !pb.authStore.isSuperuser OR simply check the value of pb.authStore.record?.collectionName"),Ve(this.token).type=="auth"&&!this.isSuperuser}save(e,t){this.baseToken=e||"",this.baseModel=t||null,this.triggerChange()}clear(){this.baseToken="",this.baseModel=null,this.triggerChange()}loadFromCookie(e,t=An){const r=oi(e||"")[t]||"";let s={};try{s=JSON.parse(r),(typeof s===null||typeof s!="object"||Array.isArray(s))&&(s={})}catch{}this.save(s.token||"",s.record||s.model||null)}exportToCookie(e,t=An){const r={secure:!0,sameSite:!0,httpOnly:!0,path:"/"},s=Ve(this.token);r.expires=s?.exp?new Date(1e3*s.exp):new Date("1970-01-01"),e=Object.assign({},r,e);const i={token:this.token,record:this.record?JSON.parse(JSON.stringify(this.record)):null};let o=Rn(t,JSON.stringify(i),e);const a=typeof Blob<"u"?new Blob([o]).size:o.length;if(i.record&&a>4096){i.record={id:i.record?.id,email:i.record?.email};const l=["collectionId","collectionName","verified"];for(const c in this.record)l.includes(c)&&(i.record[c]=this.record[c]);o=Rn(t,JSON.stringify(i),e)}return o}onChange(e,t=!1){return this._onChangeCallbacks.push(e),t&&e(this.token,this.record),()=>{for(let r=this._onChangeCallbacks.length-1;r>=0;r--)if(this._onChangeCallbacks[r]==e)return delete this._onChangeCallbacks[r],void this._onChangeCallbacks.splice(r,1)}}triggerChange(){for(const e of this._onChangeCallbacks)e&&e(this.token,this.record)}}class ui extends pn{constructor(e="pocketbase_auth"){super(),this.storageFallback={},this.storageKey=e,this._bindStorageEvent()}get token(){return(this._storageGet(this.storageKey)||{}).token||""}get record(){const e=this._storageGet(this.storageKey)||{};return e.record||e.model||null}get model(){return this.record}save(e,t){this._storageSet(this.storageKey,{token:e,record:t}),super.save(e,t)}clear(){this._storageRemove(this.storageKey),super.clear()}_storageGet(e){if(typeof window<"u"&&window?.localStorage){const t=window.localStorage.getItem(e)||"";try{return JSON.parse(t)}catch{return t}}return this.storageFallback[e]}_storageSet(e,t){if(typeof window<"u"&&window?.localStorage){let r=t;typeof t!="string"&&(r=JSON.stringify(t)),window.localStorage.setItem(e,r)}else this.storageFallback[e]=t}_storageRemove(e){typeof window<"u"&&window?.localStorage&&window.localStorage?.removeItem(e),delete this.storageFallback[e]}_bindStorageEvent(){typeof window<"u"&&window?.localStorage&&window.addEventListener&&window.addEventListener("storage",(e=>{if(e.key!=this.storageKey)return;const t=this._storageGet(this.storageKey)||{};super.save(t.token||"",t.record||t.model||null)}))}}class ve{constructor(e){this.client=e}}class fi extends ve{async getAll(e){return e=Object.assign({method:"GET"},e),this.client.send("/api/settings",e)}async update(e,t){return t=Object.assign({method:"PATCH",body:e},t),this.client.send("/api/settings",t)}async testS3(e="storage",t){return t=Object.assign({method:"POST",body:{filesystem:e}},t),this.client.send("/api/settings/test/s3",t).then((()=>!0))}async testEmail(e,t,r,s){return s=Object.assign({method:"POST",body:{email:t,template:r,collection:e}},s),this.client.send("/api/settings/test/email",s).then((()=>!0))}async generateAppleClientSecret(e,t,r,s,i,o){return o=Object.assign({method:"POST",body:{clientId:e,teamId:t,keyId:r,privateKey:s,duration:i}},o),this.client.send("/api/settings/apple/generate-client-secret",o)}}const hi=["requestKey","$cancelKey","$autoCancel","fetch","headers","body","query","params","cache","credentials","headers","integrity","keepalive","method","mode","redirect","referrer","referrerPolicy","signal","window"];function vn(n){if(n){n.query=n.query||{};for(let e in n)hi.includes(e)||(n.query[e]=n[e],delete n[e])}}function Or(n){const e=[];for(const t in n){const r=encodeURIComponent(t),s=Array.isArray(n[t])?n[t]:[n[t]];for(let i of s)i=di(i),i!==null&&e.push(r+"="+i)}return e.join("&")}function di(n){return n==null?null:n instanceof Date?encodeURIComponent(n.toISOString().replace("T"," ")):encodeURIComponent(typeof n=="object"?JSON.stringify(n):n)}class Tr extends ve{constructor(){super(...arguments),this.clientId="",this.eventSource=null,this.subscriptions={},this.lastSentSubscriptions=[],this.maxConnectTimeout=15e3,this.reconnectAttempts=0,this.maxReconnectAttempts=1/0,this.predefinedReconnectIntervals=[200,300,500,1e3,1200,1500,2e3],this.pendingConnects=[]}get isConnected(){return!!this.eventSource&&!!this.clientId&&!this.pendingConnects.length}async subscribe(e,t,r){if(!e)throw new Error("topic must be set.");let s=e;if(r){vn(r=Object.assign({},r));const o="options="+encodeURIComponent(JSON.stringify({query:r.query,headers:r.headers}));s+=(s.includes("?")?"&":"?")+o}const i=function(o){const a=o;let l;try{l=JSON.parse(a?.data)}catch{}t(l||{})};return this.subscriptions[s]||(this.subscriptions[s]=[]),this.subscriptions[s].push(i),this.isConnected?this.subscriptions[s].length===1?await this.submitSubscriptions():this.eventSource?.addEventListener(s,i):await this.connect(),async()=>this.unsubscribeByTopicAndListener(e,i)}async unsubscribe(e){let t=!1;if(e){const r=this.getSubscriptionsByTopic(e);for(let s in r)if(this.hasSubscriptionListeners(s)){for(let i of this.subscriptions[s])this.eventSource?.removeEventListener(s,i);delete this.subscriptions[s],t||(t=!0)}}else this.subscriptions={};this.hasSubscriptionListeners()?t&&await this.submitSubscriptions():this.disconnect()}async unsubscribeByPrefix(e){let t=!1;for(let r in this.subscriptions)if((r+"?").startsWith(e)){t=!0;for(let s of this.subscriptions[r])this.eventSource?.removeEventListener(r,s);delete this.subscriptions[r]}t&&(this.hasSubscriptionListeners()?await this.submitSubscriptions():this.disconnect())}async unsubscribeByTopicAndListener(e,t){let r=!1;const s=this.getSubscriptionsByTopic(e);for(let i in s){if(!Array.isArray(this.subscriptions[i])||!this.subscriptions[i].length)continue;let o=!1;for(let a=this.subscriptions[i].length-1;a>=0;a--)this.subscriptions[i][a]===t&&(o=!0,delete this.subscriptions[i][a],this.subscriptions[i].splice(a,1),this.eventSource?.removeEventListener(i,t));o&&(this.subscriptions[i].length||delete this.subscriptions[i],r||this.hasSubscriptionListeners(i)||(r=!0))}this.hasSubscriptionListeners()?r&&await this.submitSubscriptions():this.disconnect()}hasSubscriptionListeners(e){if(this.subscriptions=this.subscriptions||{},e)return!!this.subscriptions[e]?.length;for(let t in this.subscriptions)if(this.subscriptions[t]?.length)return!0;return!1}async submitSubscriptions(){if(this.clientId)return this.addAllSubscriptionListeners(),this.lastSentSubscriptions=this.getNonEmptySubscriptionKeys(),this.client.send("/api/realtime",{method:"POST",body:{clientId:this.clientId,subscriptions:this.lastSentSubscriptions},requestKey:this.getSubscriptionsCancelKey()}).catch((e=>{if(!e?.isAbort)throw e}))}getSubscriptionsCancelKey(){return"realtime_"+this.clientId}getSubscriptionsByTopic(e){const t={};e=e.includes("?")?e:e+"?";for(let r in this.subscriptions)(r+"?").startsWith(e)&&(t[r]=this.subscriptions[r]);return t}getNonEmptySubscriptionKeys(){const e=[];for(let t in this.subscriptions)this.subscriptions[t].length&&e.push(t);return e}addAllSubscriptionListeners(){if(this.eventSource){this.removeAllSubscriptionListeners();for(let e in this.subscriptions)for(let t of this.subscriptions[e])this.eventSource.addEventListener(e,t)}}removeAllSubscriptionListeners(){if(this.eventSource)for(let e in this.subscriptions)for(let t of this.subscriptions[e])this.eventSource.removeEventListener(e,t)}async connect(){if(!(this.reconnectAttempts>0))return new Promise(((e,t)=>{this.pendingConnects.push({resolve:e,reject:t}),this.pendingConnects.length>1||this.initConnect()}))}initConnect(){this.disconnect(!0),clearTimeout(this.connectTimeoutId),this.connectTimeoutId=setTimeout((()=>{this.connectErrorHandler(new Error("EventSource connect took too long."))}),this.maxConnectTimeout),this.eventSource=new EventSource(this.client.buildURL("/api/realtime")),this.eventSource.onerror=e=>{this.connectErrorHandler(new Error("Failed to establish realtime connection."))},this.eventSource.addEventListener("PB_CONNECT",(e=>{const t=e;this.clientId=t?.lastEventId,this.submitSubscriptions().then((async()=>{let r=3;for(;this.hasUnsentSubscriptions()&&r>0;)r--,await this.submitSubscriptions()})).then((()=>{for(let s of this.pendingConnects)s.resolve();this.pendingConnects=[],this.reconnectAttempts=0,clearTimeout(this.reconnectTimeoutId),clearTimeout(this.connectTimeoutId);const r=this.getSubscriptionsByTopic("PB_CONNECT");for(let s in r)for(let i of r[s])i(e)})).catch((r=>{this.clientId="",this.connectErrorHandler(r)}))}))}hasUnsentSubscriptions(){const e=this.getNonEmptySubscriptionKeys();if(e.length!=this.lastSentSubscriptions.length)return!0;for(const t of e)if(!this.lastSentSubscriptions.includes(t))return!0;return!1}connectErrorHandler(e){if(clearTimeout(this.connectTimeoutId),clearTimeout(this.reconnectTimeoutId),!this.clientId&&!this.reconnectAttempts||this.reconnectAttempts>this.maxReconnectAttempts){for(let r of this.pendingConnects)r.reject(new X(e));return this.pendingConnects=[],void this.disconnect()}this.disconnect(!0);const t=this.predefinedReconnectIntervals[this.reconnectAttempts]||this.predefinedReconnectIntervals[this.predefinedReconnectIntervals.length-1];this.reconnectAttempts++,this.reconnectTimeoutId=setTimeout((()=>{this.initConnect()}),t)}disconnect(e=!1){if(this.clientId&&this.onDisconnect&&this.onDisconnect(Object.keys(this.subscriptions)),clearTimeout(this.connectTimeoutId),clearTimeout(this.reconnectTimeoutId),this.removeAllSubscriptionListeners(),this.client.cancelRequest(this.getSubscriptionsCancelKey()),this.eventSource?.close(),this.eventSource=null,this.clientId="",!e){this.reconnectAttempts=0;for(let t of this.pendingConnects)t.resolve();this.pendingConnects=[]}}}class Pr extends ve{decode(e){return e}async getFullList(e,t){if(typeof e=="number")return this._getFullList(e,t);let r=500;return(t=Object.assign({},e,t)).batch&&(r=t.batch,delete t.batch),this._getFullList(r,t)}async getList(e=1,t=30,r){return(r=Object.assign({method:"GET"},r)).query=Object.assign({page:e,perPage:t},r.query),this.client.send(this.baseCrudPath,r).then((s=>(s.items=s.items?.map((i=>this.decode(i)))||[],s)))}async getFirstListItem(e,t){return(t=Object.assign({requestKey:"one_by_filter_"+this.baseCrudPath+"_"+e},t)).query=Object.assign({filter:e,skipTotal:1},t.query),this.getList(1,1,t).then((r=>{if(!r?.items?.length)throw new X({status:404,response:{code:404,message:"The requested resource wasn't found.",data:{}}});return r.items[0]}))}async getOne(e,t){if(!e)throw new X({url:this.client.buildURL(this.baseCrudPath+"/"),status:404,response:{code:404,message:"Missing required record id.",data:{}}});return t=Object.assign({method:"GET"},t),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(e),t).then((r=>this.decode(r)))}async create(e,t){return t=Object.assign({method:"POST",body:e},t),this.client.send(this.baseCrudPath,t).then((r=>this.decode(r)))}async update(e,t,r){return r=Object.assign({method:"PATCH",body:t},r),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(e),r).then((s=>this.decode(s)))}async delete(e,t){return t=Object.assign({method:"DELETE"},t),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(e),t).then((()=>!0))}_getFullList(e=500,t){(t=t||{}).query=Object.assign({skipTotal:1},t.query);let r=[],s=async i=>this.getList(i,e||500,t).then((o=>{const a=o.items;return r=r.concat(a),a.length==o.perPage?s(i+1):r}));return s(1)}}function ge(n,e,t,r){const s=r!==void 0;return s||t!==void 0?s?(console.warn(n),e.body=Object.assign({},e.body,t),e.query=Object.assign({},e.query,r),e):Object.assign(e,t):e}function jt(n){n._resetAutoRefresh?.()}class pi extends Pr{constructor(e,t){super(e),this.collectionIdOrName=t}get baseCrudPath(){return this.baseCollectionPath+"/records"}get baseCollectionPath(){return"/api/collections/"+encodeURIComponent(this.collectionIdOrName)}get isSuperusers(){return this.collectionIdOrName=="_superusers"||this.collectionIdOrName=="_pbc_2773867675"}async subscribe(e,t,r){if(!e)throw new Error("Missing topic.");if(!t)throw new Error("Missing subscription callback.");return this.client.realtime.subscribe(this.collectionIdOrName+"/"+e,t,r)}async unsubscribe(e){return e?this.client.realtime.unsubscribe(this.collectionIdOrName+"/"+e):this.client.realtime.unsubscribeByPrefix(this.collectionIdOrName)}async getFullList(e,t){if(typeof e=="number")return super.getFullList(e,t);const r=Object.assign({},e,t);return super.getFullList(r)}async getList(e=1,t=30,r){return super.getList(e,t,r)}async getFirstListItem(e,t){return super.getFirstListItem(e,t)}async getOne(e,t){return super.getOne(e,t)}async create(e,t){return super.create(e,t)}async update(e,t,r){return super.update(e,t,r).then((s=>{if(this.client.authStore.record?.id===s?.id&&(this.client.authStore.record?.collectionId===this.collectionIdOrName||this.client.authStore.record?.collectionName===this.collectionIdOrName)){let i=Object.assign({},this.client.authStore.record.expand),o=Object.assign({},this.client.authStore.record,s);i&&(o.expand=Object.assign(i,s.expand)),this.client.authStore.save(this.client.authStore.token,o)}return s}))}async delete(e,t){return super.delete(e,t).then((r=>(!r||this.client.authStore.record?.id!==e||this.client.authStore.record?.collectionId!==this.collectionIdOrName&&this.client.authStore.record?.collectionName!==this.collectionIdOrName||this.client.authStore.clear(),r)))}authResponse(e){const t=this.decode(e?.record||{});return this.client.authStore.save(e?.token,t),Object.assign({},e,{token:e?.token||"",record:t})}async listAuthMethods(e){return e=Object.assign({method:"GET",fields:"mfa,otp,password,oauth2"},e),this.client.send(this.baseCollectionPath+"/auth-methods",e)}async authWithPassword(e,t,r){let s;r=Object.assign({method:"POST",body:{identity:e,password:t}},r),this.isSuperusers&&(s=r.autoRefreshThreshold,delete r.autoRefreshThreshold,r.autoRefresh||jt(this.client));let i=await this.client.send(this.baseCollectionPath+"/auth-with-password",r);return i=this.authResponse(i),s&&this.isSuperusers&&(function(a,l,c,h){jt(a);const d=a.beforeSend,p=a.authStore.record,f=a.authStore.onChange(((u,m)=>{(!u||m?.id!=p?.id||(m?.collectionId||p?.collectionId)&&m?.collectionId!=p?.collectionId)&&jt(a)}));a._resetAutoRefresh=function(){f(),a.beforeSend=d,delete a._resetAutoRefresh},a.beforeSend=async(u,m)=>{const b=a.authStore.token;if(m.query?.autoRefresh)return d?d(u,m):{url:u,sendOptions:m};let S=a.authStore.isValid;if(S&&kr(a.authStore.token,l))try{await c()}catch{S=!1}S||await h();const v=m.headers||{};for(let _ in v)if(_.toLowerCase()=="authorization"&&b==v[_]&&a.authStore.token){v[_]=a.authStore.token;break}return m.headers=v,d?d(u,m):{url:u,sendOptions:m}}})(this.client,s,(()=>this.authRefresh({autoRefresh:!0})),(()=>this.authWithPassword(e,t,Object.assign({autoRefresh:!0},r)))),i}async authWithOAuth2Code(e,t,r,s,i,o,a){let l={method:"POST",body:{provider:e,code:t,codeVerifier:r,redirectURL:s,createData:i}};return l=ge("This form of authWithOAuth2Code(provider, code, codeVerifier, redirectURL, createData?, body?, query?) is deprecated. Consider replacing it with authWithOAuth2Code(provider, code, codeVerifier, redirectURL, createData?, options?).",l,o,a),this.client.send(this.baseCollectionPath+"/auth-with-oauth2",l).then((c=>this.authResponse(c)))}authWithOAuth2(...e){if(e.length>1||typeof e?.[0]=="string")return console.warn("PocketBase: This form of authWithOAuth2() is deprecated and may get removed in the future. Please replace with authWithOAuth2Code() OR use the authWithOAuth2() realtime form as shown in https://pocketbase.io/docs/authentication/#oauth2-integration."),this.authWithOAuth2Code(e?.[0]||"",e?.[1]||"",e?.[2]||"",e?.[3]||"",e?.[4]||{},e?.[5]||{},e?.[6]||{});const t=e?.[0]||{};let r=null;t.urlCallback||(r=In(void 0));const s=new Tr(this.client);function i(){r?.close(),s.unsubscribe()}const o={},a=t.requestKey;return a&&(o.requestKey=a),this.listAuthMethods(o).then((l=>{const c=l.oauth2.providers.find((p=>p.name===t.provider));if(!c)throw new X(new Error(`Missing or invalid provider "${t.provider}".`));const h=this.client.buildURL("/api/oauth2-redirect"),d=a?this.client.cancelControllers?.[a]:void 0;return d&&(d.signal.onabort=()=>{i()}),new Promise((async(p,f)=>{try{await s.subscribe("@oauth2",(async S=>{const v=s.clientId;try{if(!S.state||v!==S.state)throw new Error("State parameters don't match.");if(S.error||!S.code)throw new Error("OAuth2 redirect error or missing code: "+S.error);const _=Object.assign({},t);delete _.provider,delete _.scopes,delete _.createData,delete _.urlCallback,d?.signal?.onabort&&(d.signal.onabort=null);const y=await this.authWithOAuth2Code(c.name,S.code,c.codeVerifier,h,t.createData,_);p(y)}catch(_){f(new X(_))}i()}));const u={state:s.clientId};t.scopes?.length&&(u.scope=t.scopes.join(" "));const m=this._replaceQueryParams(c.authURL+h,u);await(t.urlCallback||function(S){r?r.location.href=S:r=In(S)})(m)}catch(u){i(),f(new X(u))}}))})).catch((l=>{throw i(),l}))}async authRefresh(e,t){let r={method:"POST"};return r=ge("This form of authRefresh(body?, query?) is deprecated. Consider replacing it with authRefresh(options?).",r,e,t),this.client.send(this.baseCollectionPath+"/auth-refresh",r).then((s=>this.authResponse(s)))}async requestPasswordReset(e,t,r){let s={method:"POST",body:{email:e}};return s=ge("This form of requestPasswordReset(email, body?, query?) is deprecated. Consider replacing it with requestPasswordReset(email, options?).",s,t,r),this.client.send(this.baseCollectionPath+"/request-password-reset",s).then((()=>!0))}async confirmPasswordReset(e,t,r,s,i){let o={method:"POST",body:{token:e,password:t,passwordConfirm:r}};return o=ge("This form of confirmPasswordReset(token, password, passwordConfirm, body?, query?) is deprecated. Consider replacing it with confirmPasswordReset(token, password, passwordConfirm, options?).",o,s,i),this.client.send(this.baseCollectionPath+"/confirm-password-reset",o).then((()=>!0))}async requestVerification(e,t,r){let s={method:"POST",body:{email:e}};return s=ge("This form of requestVerification(email, body?, query?) is deprecated. Consider replacing it with requestVerification(email, options?).",s,t,r),this.client.send(this.baseCollectionPath+"/request-verification",s).then((()=>!0))}async confirmVerification(e,t,r){let s={method:"POST",body:{token:e}};return s=ge("This form of confirmVerification(token, body?, query?) is deprecated. Consider replacing it with confirmVerification(token, options?).",s,t,r),this.client.send(this.baseCollectionPath+"/confirm-verification",s).then((()=>{const i=Ve(e),o=this.client.authStore.record;return o&&!o.verified&&o.id===i.id&&o.collectionId===i.collectionId&&(o.verified=!0,this.client.authStore.save(this.client.authStore.token,o)),!0}))}async requestEmailChange(e,t,r){let s={method:"POST",body:{newEmail:e}};return s=ge("This form of requestEmailChange(newEmail, body?, query?) is deprecated. Consider replacing it with requestEmailChange(newEmail, options?).",s,t,r),this.client.send(this.baseCollectionPath+"/request-email-change",s).then((()=>!0))}async confirmEmailChange(e,t,r,s){let i={method:"POST",body:{token:e,password:t}};return i=ge("This form of confirmEmailChange(token, password, body?, query?) is deprecated. Consider replacing it with confirmEmailChange(token, password, options?).",i,r,s),this.client.send(this.baseCollectionPath+"/confirm-email-change",i).then((()=>{const o=Ve(e),a=this.client.authStore.record;return a&&a.id===o.id&&a.collectionId===o.collectionId&&this.client.authStore.clear(),!0}))}async listExternalAuths(e,t){return this.client.collection("_externalAuths").getFullList(Object.assign({},t,{filter:this.client.filter("recordRef = {:id}",{id:e})}))}async unlinkExternalAuth(e,t,r){const s=await this.client.collection("_externalAuths").getFirstListItem(this.client.filter("recordRef = {:recordId} && provider = {:provider}",{recordId:e,provider:t}));return this.client.collection("_externalAuths").delete(s.id,r).then((()=>!0))}async requestOTP(e,t){return t=Object.assign({method:"POST",body:{email:e}},t),this.client.send(this.baseCollectionPath+"/request-otp",t)}async authWithOTP(e,t,r){return r=Object.assign({method:"POST",body:{otpId:e,password:t}},r),this.client.send(this.baseCollectionPath+"/auth-with-otp",r).then((s=>this.authResponse(s)))}async impersonate(e,t,r){(r=Object.assign({method:"POST",body:{duration:t}},r)).headers=r.headers||{},r.headers.Authorization||(r.headers.Authorization=this.client.authStore.token);const s=new xr(this.client.baseURL,new pn,this.client.lang),i=await s.send(this.baseCollectionPath+"/impersonate/"+encodeURIComponent(e),r);return s.authStore.save(i?.token,this.decode(i?.record||{})),s}_replaceQueryParams(e,t={}){let r=e,s="";e.indexOf("?")>=0&&(r=e.substring(0,e.indexOf("?")),s=e.substring(e.indexOf("?")+1));const i={},o=s.split("&");for(const a of o){if(a=="")continue;const l=a.split("=");i[decodeURIComponent(l[0].replace(/\+/g," "))]=decodeURIComponent((l[1]||"").replace(/\+/g," "))}for(let a in t)t.hasOwnProperty(a)&&(t[a]==null?delete i[a]:i[a]=t[a]);s="";for(let a in i)i.hasOwnProperty(a)&&(s!=""&&(s+="&"),s+=encodeURIComponent(a.replace(/%20/g,"+"))+"="+encodeURIComponent(i[a].replace(/%20/g,"+")));return s!=""?r+"?"+s:r}}function In(n){if(typeof window>"u"||!window?.open)throw new X(new Error("Not in a browser context - please pass a custom urlCallback function."));let e=1024,t=768,r=window.innerWidth,s=window.innerHeight;e=e>r?r:e,t=t>s?s:t;let i=r/2-e/2,o=s/2-t/2;return window.open(n,"popup_window","width="+e+",height="+t+",top="+o+",left="+i+",resizable,menubar=no")}class vi extends Pr{get baseCrudPath(){return"/api/collections"}async import(e,t=!1,r){return r=Object.assign({method:"PUT",body:{collections:e,deleteMissing:t}},r),this.client.send(this.baseCrudPath+"/import",r).then((()=>!0))}async getScaffolds(e){return e=Object.assign({method:"GET"},e),this.client.send(this.baseCrudPath+"/meta/scaffolds",e)}async truncate(e,t){return t=Object.assign({method:"DELETE"},t),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(e)+"/truncate",t).then((()=>!0))}}class mi extends ve{async getList(e=1,t=30,r){return(r=Object.assign({method:"GET"},r)).query=Object.assign({page:e,perPage:t},r.query),this.client.send("/api/logs",r)}async getOne(e,t){if(!e)throw new X({url:this.client.buildURL("/api/logs/"),status:404,response:{code:404,message:"Missing required log id.",data:{}}});return t=Object.assign({method:"GET"},t),this.client.send("/api/logs/"+encodeURIComponent(e),t)}async getStats(e){return e=Object.assign({method:"GET"},e),this.client.send("/api/logs/stats",e)}}class gi extends ve{async check(e){return e=Object.assign({method:"GET"},e),this.client.send("/api/health",e)}}class bi extends ve{getUrl(e,t,r={}){return console.warn("Please replace pb.files.getUrl() with pb.files.getURL()"),this.getURL(e,t,r)}getURL(e,t,r={}){if(!t||!e?.id||!e?.collectionId&&!e?.collectionName)return"";const s=[];s.push("api"),s.push("files"),s.push(encodeURIComponent(e.collectionId||e.collectionName)),s.push(encodeURIComponent(e.id)),s.push(encodeURIComponent(t));let i=this.client.buildURL(s.join("/"));if(Object.keys(r).length){r.download===!1&&delete r.download;const o=new URLSearchParams(r);i+=(i.includes("?")?"&":"?")+o}return i}async getToken(e){return e=Object.assign({method:"POST"},e),this.client.send("/api/files/token",e).then((t=>t?.token||""))}}class _i extends ve{async getFullList(e){return e=Object.assign({method:"GET"},e),this.client.send("/api/backups",e)}async create(e,t){return t=Object.assign({method:"POST",body:{name:e}},t),this.client.send("/api/backups",t).then((()=>!0))}async upload(e,t){return t=Object.assign({method:"POST",body:e},t),this.client.send("/api/backups/upload",t).then((()=>!0))}async delete(e,t){return t=Object.assign({method:"DELETE"},t),this.client.send(`/api/backups/${encodeURIComponent(e)}`,t).then((()=>!0))}async restore(e,t){return t=Object.assign({method:"POST"},t),this.client.send(`/api/backups/${encodeURIComponent(e)}/restore`,t).then((()=>!0))}getDownloadUrl(e,t){return console.warn("Please replace pb.backups.getDownloadUrl() with pb.backups.getDownloadURL()"),this.getDownloadURL(e,t)}getDownloadURL(e,t){return this.client.buildURL(`/api/backups/${encodeURIComponent(t)}?token=${encodeURIComponent(e)}`)}}class yi extends ve{async getFullList(e){return e=Object.assign({method:"GET"},e),this.client.send("/api/crons",e)}async run(e,t){return t=Object.assign({method:"POST"},t),this.client.send(`/api/crons/${encodeURIComponent(e)}`,t).then((()=>!0))}}function Kt(n){return typeof Blob<"u"&&n instanceof Blob||typeof File<"u"&&n instanceof File||n!==null&&typeof n=="object"&&n.uri&&(typeof navigator<"u"&&navigator.product==="ReactNative"||typeof global<"u"&&global.HermesInternal)}function Wt(n){return n&&(n.constructor?.name==="FormData"||typeof FormData<"u"&&n instanceof FormData)}function Ln(n){for(const e in n){const t=Array.isArray(n[e])?n[e]:[n[e]];for(const r of t)if(Kt(r))return!0}return!1}const wi=/^[\-\.\d]+$/;function qn(n){if(typeof n!="string")return n;if(n=="true")return!0;if(n=="false")return!1;if((n[0]==="-"||n[0]>="0"&&n[0]<="9")&&wi.test(n)){let e=+n;if(""+e===n)return e}return n}class Si extends ve{constructor(){super(...arguments),this.requests=[],this.subs={}}collection(e){return this.subs[e]||(this.subs[e]=new Ci(this.requests,e)),this.subs[e]}async send(e){const t=new FormData,r=[];for(let s=0;s<this.requests.length;s++){const i=this.requests[s];if(r.push({method:i.method,url:i.url,headers:i.headers,body:i.json}),i.files)for(let o in i.files){const a=i.files[o]||[];for(let l of a)t.append("requests."+s+"."+o,l)}}return t.append("@jsonPayload",JSON.stringify({requests:r})),e=Object.assign({method:"POST",body:t},e),this.client.send("/api/batch",e)}}class Ci{constructor(e,t){this.requests=[],this.requests=e,this.collectionIdOrName=t}upsert(e,t){t=Object.assign({body:e||{}},t);const r={method:"PUT",url:"/api/collections/"+encodeURIComponent(this.collectionIdOrName)+"/records"};this.prepareRequest(r,t),this.requests.push(r)}create(e,t){t=Object.assign({body:e||{}},t);const r={method:"POST",url:"/api/collections/"+encodeURIComponent(this.collectionIdOrName)+"/records"};this.prepareRequest(r,t),this.requests.push(r)}update(e,t,r){r=Object.assign({body:t||{}},r);const s={method:"PATCH",url:"/api/collections/"+encodeURIComponent(this.collectionIdOrName)+"/records/"+encodeURIComponent(e)};this.prepareRequest(s,r),this.requests.push(s)}delete(e,t){t=Object.assign({},t);const r={method:"DELETE",url:"/api/collections/"+encodeURIComponent(this.collectionIdOrName)+"/records/"+encodeURIComponent(e)};this.prepareRequest(r,t),this.requests.push(r)}prepareRequest(e,t){if(vn(t),e.headers=t.headers,e.json={},e.files={},t.query!==void 0){const s=Or(t.query);s&&(e.url+=(e.url.includes("?")?"&":"?")+s)}let r=t.body;Wt(r)&&(r=(function(i){let o={};return i.forEach(((a,l)=>{if(l==="@jsonPayload"&&typeof a=="string")try{let c=JSON.parse(a);Object.assign(o,c)}catch(c){console.warn("@jsonPayload error:",c)}else o[l]!==void 0?(Array.isArray(o[l])||(o[l]=[o[l]]),o[l].push(qn(a))):o[l]=qn(a)})),o})(r));for(const s in r){const i=r[s];if(Kt(i))e.files[s]=e.files[s]||[],e.files[s].push(i);else if(Array.isArray(i)){const o=[],a=[];for(const l of i)Kt(l)?o.push(l):a.push(l);if(o.length>0&&o.length==i.length){e.files[s]=e.files[s]||[];for(let l of o)e.files[s].push(l)}else if(e.json[s]=a,o.length>0){let l=s;s.startsWith("+")||s.endsWith("+")||(l+="+"),e.files[l]=e.files[l]||[];for(let c of o)e.files[l].push(c)}}else e.json[s]=i}}}class xr{get baseUrl(){return this.baseURL}set baseUrl(e){this.baseURL=e}constructor(e="/",t,r="en-US"){this.cancelControllers={},this.recordServices={},this.enableAutoCancellation=!0,this.baseURL=e,this.lang=r,t?this.authStore=t:typeof window<"u"&&window.Deno?this.authStore=new pn:this.authStore=new ui,this.collections=new vi(this),this.files=new bi(this),this.logs=new mi(this),this.settings=new fi(this),this.realtime=new Tr(this),this.health=new gi(this),this.backups=new _i(this),this.crons=new yi(this)}get admins(){return this.collection("_superusers")}createBatch(){return new Si(this)}collection(e){return this.recordServices[e]||(this.recordServices[e]=new pi(this,e)),this.recordServices[e]}autoCancellation(e){return this.enableAutoCancellation=!!e,this}cancelRequest(e){return this.cancelControllers[e]&&(this.cancelControllers[e].abort(),delete this.cancelControllers[e]),this}cancelAllRequests(){for(let e in this.cancelControllers)this.cancelControllers[e].abort();return this.cancelControllers={},this}filter(e,t){if(!t)return e;for(let r in t){let s=t[r];switch(typeof s){case"boolean":case"number":s=""+s;break;case"string":s="'"+s.replace(/'/g,"\\'")+"'";break;default:s=s===null?"null":s instanceof Date?"'"+s.toISOString().replace("T"," ")+"'":"'"+JSON.stringify(s).replace(/'/g,"\\'")+"'"}e=e.replaceAll("{:"+r+"}",s)}return e}getFileUrl(e,t,r={}){return console.warn("Please replace pb.getFileUrl() with pb.files.getURL()"),this.files.getURL(e,t,r)}buildUrl(e){return console.warn("Please replace pb.buildUrl() with pb.buildURL()"),this.buildURL(e)}buildURL(e){let t=this.baseURL;return typeof window>"u"||!window.location||t.startsWith("https://")||t.startsWith("http://")||(t=window.location.origin?.endsWith("/")?window.location.origin.substring(0,window.location.origin.length-1):window.location.origin||"",this.baseURL.startsWith("/")||(t+=window.location.pathname||"/",t+=t.endsWith("/")?"":"/"),t+=this.baseURL),e&&(t+=t.endsWith("/")?"":"/",t+=e.startsWith("/")?e.substring(1):e),t}async send(e,t){t=this.initSendOptions(e,t);let r=this.buildURL(e);if(this.beforeSend){const s=Object.assign({},await this.beforeSend(r,t));s.url!==void 0||s.options!==void 0?(r=s.url||r,t=s.options||t):Object.keys(s).length&&(t=s,console?.warn&&console.warn("Deprecated format of beforeSend return: please use `return { url, options }`, instead of `return options`."))}if(t.query!==void 0){const s=Or(t.query);s&&(r+=(r.includes("?")?"&":"?")+s),delete t.query}return this.getHeader(t.headers,"Content-Type")=="application/json"&&t.body&&typeof t.body!="string"&&(t.body=JSON.stringify(t.body)),(t.fetch||fetch)(r,t).then((async s=>{let i={};try{i=await s.json()}catch{}if(this.afterSend&&(i=await this.afterSend(s,i,t)),s.status>=400)throw new X({url:s.url,status:s.status,data:i});return i})).catch((s=>{throw new X(s)}))}initSendOptions(e,t){if((t=Object.assign({method:"GET"},t)).body=(function(s){if(typeof FormData>"u"||s===void 0||typeof s!="object"||s===null||Wt(s)||!Ln(s))return s;const i=new FormData;for(const o in s){const a=s[o];if(a!==void 0)if(typeof a!="object"||Ln({data:a})){const l=Array.isArray(a)?a:[a];for(let c of l)i.append(o,c)}else{let l={};l[o]=a,i.append("@jsonPayload",JSON.stringify(l))}}return i})(t.body),vn(t),t.query=Object.assign({},t.params,t.query),t.requestKey===void 0&&(t.$autoCancel===!1||t.query.$autoCancel===!1?t.requestKey=null:(t.$cancelKey||t.query.$cancelKey)&&(t.requestKey=t.$cancelKey||t.query.$cancelKey)),delete t.$autoCancel,delete t.query.$autoCancel,delete t.$cancelKey,delete t.query.$cancelKey,this.getHeader(t.headers,"Content-Type")!==null||Wt(t.body)||(t.headers=Object.assign({},t.headers,{"Content-Type":"application/json"})),this.getHeader(t.headers,"Accept-Language")===null&&(t.headers=Object.assign({},t.headers,{"Accept-Language":this.lang})),this.authStore.token&&this.getHeader(t.headers,"Authorization")===null&&(t.headers=Object.assign({},t.headers,{Authorization:this.authStore.token})),this.enableAutoCancellation&&t.requestKey!==null){const r=t.requestKey||(t.method||"GET")+e;delete t.requestKey,this.cancelRequest(r);const s=new AbortController;this.cancelControllers[r]=s,t.signal=s.signal}return t}getHeader(e,t){e=e||{},t=t.toLowerCase();for(let r in e)if(r.toLowerCase()==t)return e[r];return null}}const wt=fn(null),Rr=Xs([],n=>{ae.collection("contests").getFullList({sort:"-created"}).then(e=>{n(e)}).catch(e=>{console.error("Error fetching contests:",e),n([])})}),Ar=fn([]);async function Ei(n){try{const e=await ae.collection("teams").getFullList({filter:`teacher = "${n}"`});Ar.set(e)}catch(e){console.error("Error fetching teams:",e)}}const ae=new xr("https://strela-vlna.gchd.cz");ae.authStore.onChange(()=>{wt.set(ae.authStore.model)});const ki="/assets/strelavlna-BVlyU7HX.svg",Oi="/assets/for_teachers-Bln0Czng.svg";var Ti=j('<button class="my_teams svelte-cocgno">Moje tymy</button> <button class="logout svelte-cocgno">Logout</button>',1),Pi=j('<img alt="For Teachers"/> <button class="register svelte-cocgno">Registrovat <span class="desaturated svelte-cocgno">nebo</span> Přihlásit</button>',1),xi=j('<main class="svelte-cocgno"><img alt="Strela Vlna Logo"/> <div class="right-section svelte-cocgno"><!></div></main>');function Ri(n,e){Ee(e,!1);let t=dn(e,"currentUser",8);const r=ot();function s(){r("showAuth")}function i(){ae.authStore.clear()}function o(){r("toggleTeamsPanel")}ni(()=>{console.log(t())}),Le();var a=xi(),l=T(a),c=E(l,2),h=T(c);{var d=f=>{var u=Ti(),m=Ft(u),b=E(m,2);B("click",m,o),B("click",b,i),L(f,u)},p=f=>{var u=Pi(),m=Ft(u),b=E(m,2);W(()=>be(m,"src",Oi)),B("click",b,s),L(f,u)};z(h,f=>{F(t()),F(ae),N(()=>t()&&ae.authStore.isValid&&t()?.verified)?f(d):f(p,!1)})}W(()=>be(l,"src",ki)),L(n,a),ke()}const Ai="data:image/svg+xml,%3csvg%20width='13'%20height='13'%20viewBox='0%200%2013%2013'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20width='13'%20height='13'%20rx='3'%20fill='%23EB6E00'/%3e%3c/svg%3e",Ii="data:image/svg+xml,%3csvg%20width='13'%20height='13'%20viewBox='0%200%2013%2013'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20width='13'%20height='13'%20rx='3'%20fill='%23EBAD00'/%3e%3c/svg%3e",Li="data:image/svg+xml,%3csvg%20width='13'%20height='13'%20viewBox='0%200%2013%2013'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20width='13'%20height='13'%20rx='3'%20fill='%239500EB'/%3e%3c/svg%3e",qi="data:image/svg+xml,%3csvg%20width='13'%20height='13'%20viewBox='0%200%2013%2013'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20width='13'%20height='13'%20rx='3'%20fill='%23EB0072'/%3e%3c/svg%3e",jn="data:image/svg+xml,%3csvg%20width='135'%20height='37'%20viewBox='0%200%20135%2037'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_5_165)'%3e%3cpath%20d='M26.9995%201H46.6362C47.4349%201%2048.0913%201.65213%2048.0913%202.4668V9.86621C48.0913%2010.6809%2047.4349%2011.333%2046.6362%2011.333H26.9995C26.201%2011.3328%2025.5454%2010.6807%2025.5454%209.86621V2.4668C25.5454%201.65228%2026.201%201.00024%2026.9995%201Z'%20stroke='%23002C5E'%20stroke-width='2'/%3e%3cpath%20d='M2.4541%2025.6667H34.3633C35.162%2025.6667%2035.8184%2026.3188%2035.8184%2027.1335V34.5329C35.8184%2035.3475%2035.162%2035.9997%2034.3633%2035.9997H2.4541C1.65562%2035.9994%201%2035.3474%201%2034.5329V27.1335L1.00781%2026.9831C1.08258%2026.2401%201.70539%2025.6669%202.4541%2025.6667Z'%20stroke='%23002C5E'%20stroke-width='2'/%3e%3cpath%20d='M63.8207%201H122.727C128.948%201%20134%206.06927%20134%2012.333V24.667C134%2030.9307%20128.948%2036%20122.727%2036H63.8207C63.0221%2036%2062.3639%2035.3458%2062.3636%2034.5312V2.46875C62.3638%201.65426%2063.022%201%2063.8207%201ZM114.968%2031.833H122.104C126.05%2031.833%20129.24%2028.6201%20129.241%2024.667V12.333C129.24%208.37987%20126.05%205.16699%20122.104%205.16699H114.968V31.833Z'%20stroke='%23002C5E'%20stroke-width='2'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_5_165'%3e%3crect%20width='135'%20height='37'%20fill='white'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",Nn="data:image/svg+xml,%3csvg%20width='146'%20height='67'%20viewBox='0%200%20146%2067'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_5_179)'%3e%3cpath%20d='M29.2031%201H50.4336C51.3385%201%2052.0908%201.74579%2052.0908%202.68262V10.7178C52.091%2012.4914%2053.3395%2013.9849%2055.0166%2014.3271L55.0674%2014.3379L55.1191%2014.3428L55.6504%2014.3955L55.6992%2014.4004H63.7061C64.6109%2014.4004%2065.3633%2015.1461%2065.3633%2016.083V24.1172C65.3633%2026.1405%2066.9933%2027.7996%2069.0205%2027.7998H76.9795C77.8841%2027.8%2078.6366%2028.5458%2078.6367%2029.4824V37.5176C78.6368%2039.2913%2079.8852%2040.7849%2081.5625%2041.127L81.6123%2041.1377L81.6641%2041.1426L82.1953%2041.1953L82.2441%2041.2002H90.252C91.1568%2041.2002%2091.9092%2041.9459%2091.9092%2042.8828V50.917C91.9092%2052.6908%2093.1576%2054.1852%2094.835%2054.5273L94.8857%2054.5381L94.9365%2054.543L95.4678%2054.5947L95.5176%2054.5996H116.797C118.824%2054.5996%20120.454%2052.9404%20120.454%2050.917V42.8828C120.454%2041.9461%20121.207%2041.2004%20122.111%2041.2002H130.07C132.097%2041.2001%20133.727%2039.5408%20133.728%2037.5176V29.4824C133.728%2028.5455%20134.48%2027.7998%20135.385%2027.7998H143.343C144.248%2027.7998%20145%2028.5455%20145%2029.4824V37.5176C145%2038.4545%20144.248%2039.2002%20143.343%2039.2002H135.385C133.357%2039.2002%20131.728%2040.8595%20131.728%2042.8828V50.917C131.728%2051.8538%20130.975%2052.5995%20130.07%2052.5996H122.111C120.084%2052.5998%20118.454%2054.2591%20118.454%2056.2822V64.3174C118.454%2065.2542%20117.702%2066%20116.797%2066H95.5664C95.4485%2066%2095.3362%2065.9884%2095.2354%2065.9678H95.2344C94.4862%2065.815%2093.9092%2065.1382%2093.9092%2064.3174V56.2822C93.9089%2054.259%2092.2791%2052.5996%2090.252%2052.5996H82.2939C81.3891%2052.5996%2080.6367%2051.8539%2080.6367%2050.917V42.8828C80.6367%2040.8595%2079.0067%2039.2004%2076.9795%2039.2002H69.0205C68.1159%2039.2%2067.3634%2038.4542%2067.3633%2037.5176V29.4824C67.3631%2027.4591%2065.7333%2025.7998%2063.7061%2025.7998H55.748C54.8432%2025.7998%2054.0908%2025.0541%2054.0908%2024.1172V16.083C54.0908%2014.0596%2052.461%2012.4004%2050.4336%2012.4004H29.2031C27.1758%2012.4004%2025.5459%2014.0596%2025.5459%2016.083V24.1172C25.5459%2025.0539%2024.7933%2025.7996%2023.8887%2025.7998H15.9297C13.9025%2025.7999%2012.2726%2027.4592%2012.2725%2029.4824V37.5176C12.2723%2038.4544%2011.5199%2039.2002%2010.6152%2039.2002H2.65723C1.75253%2039.2002%201.00014%2038.4544%201%2037.5176V29.4824C1.00014%2028.5456%201.75253%2027.7998%202.65723%2027.7998H10.6152C12.6426%2027.7998%2014.2725%2026.1406%2014.2725%2024.1172V16.083C14.2725%2015.1462%2015.0249%2014.4005%2015.9297%2014.4004H23.8887C25.9157%2014.4002%2027.5457%2012.7409%2027.5459%2010.7178V2.68262C27.5459%201.74579%2028.2983%201%2029.2031%201Z'%20stroke='%23002C5E'%20stroke-width='2'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_5_179'%3e%3crect%20width='146'%20height='67'%20fill='white'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e";var ji=j('<div class="contest-container svelte-1j59ibt"><img alt="" class="block svelte-1j59ibt" id="block-orange"/> <img alt="" class="block svelte-1j59ibt" id="block-yellow"/> <img alt="" class="block svelte-1j59ibt" id="block-purple"/> <img alt="" class="block svelte-1j59ibt" id="block-pink"/> <div class="contest-name svelte-1j59ibt"> </div> <div class="contest-type svelte-1j59ibt"> </div> <div class="contest-dates svelte-1j59ibt"> </div> <img class="contest-image svelte-1j59ibt"/></div>');function Un(n,e){Ee(e,!1);let t=dn(e,"contest",8);Le();var r=ji(),s=T(r),i=E(s,2),o=E(i,2),a=E(o,2),l=E(a,2),c=T(l),h=E(l,2),d=T(h),p=E(h,2),f=T(p),u=E(p,2);W(m=>{be(s,"src",Ai),be(i,"src",Ii),be(o,"src",Li),be(a,"src",qi),Q(c,(F(t()),N(()=>t().name))),Q(d,(F(t()),N(()=>t().type=="math"?"Matematika":"Fyzika"))),Q(f,`Online: ${m??""}`),be(u,"src",(F(t()),F(jn),F(Nn),N(()=>t().type=="math"?jn:Nn)))},[()=>(F(t()),N(()=>new Date(t().onlineStart).toLocaleDateString()))]),L(n,r),ke()}var Ni=j('<form class="svelte-jhtbqc"><h2>Prihlasit nebo registrovat</h2> <input type="email" placeholder="Email" required class="svelte-jhtbqc"/> <input type="password" placeholder="Heslo" required class="svelte-jhtbqc"/> <button type="submit">Continue</button></form>'),Ui=j('<form class="svelte-jhtbqc"><h2>Dokoncete registraci</h2> <input type="email" disabled class="svelte-jhtbqc"/> <input type="password" placeholder="Heslo" required class="svelte-jhtbqc"/> <input type="password" placeholder="Podtvrdte Heslo" required class="svelte-jhtbqc"/> <input type="text" placeholder="Skola" required class="svelte-jhtbqc"/> <button type="submit">Register</button></form>'),Di=j('<p class="error svelte-jhtbqc"> </p>'),Fi=j('<div class="auth-modal-backdrop svelte-jhtbqc"><div class="auth-modal-content svelte-jhtbqc"><!> <!></div></div>');function Mi(n,e){Ee(e,!1);const t=ot();let r=U(""),s=U(""),i=U(""),o=U(""),a=U(""),l=U("initial");async function c(){k(a,"");try{await ae.collection("teachers").authWithPassword(g(r),g(s)),t("close")}catch(v){v.status===400?k(l,"register"):k(a,"Failed to authenticate. Please check your credentials.")}}async function h(){if(k(a,""),g(s)!==g(i)){k(a,"Passwords do not match.");return}try{await ae.collection("teachers").create({email:g(r),password:g(s),passwordConfirm:g(i),school:g(o)}),await ae.collection("teachers").authWithPassword(g(r),g(s)),t("close")}catch(v){console.error("Registration Error:",v),k(a,"Failed to register. Please try again.")}}Le();var d=Fi(),p=T(d),f=T(p);{var u=v=>{var _=Ni(),y=E(T(_),2),C=E(y,2);re(y,()=>g(r),w=>k(r,w)),re(C,()=>g(s),w=>k(s,w)),B("submit",_,Vt(c)),L(v,_)},m=v=>{var _=$s(),y=Ft(_);{var C=w=>{var x=Ui(),M=E(T(x),2),O=E(M,2),$=E(O,2),Y=E($,2);re(M,()=>g(r),q=>k(r,q)),re(O,()=>g(s),q=>k(s,q)),re($,()=>g(i),q=>k(i,q)),re(Y,()=>g(o),q=>k(o,q)),B("submit",x,Vt(h)),L(w,x)};z(y,w=>{g(l)==="register"&&w(C)},!0)}L(v,_)};z(f,v=>{g(l)==="initial"?v(u):v(m,!1)})}var b=E(f,2);{var S=v=>{var _=Di(),y=T(_);W(()=>Q(y,g(a))),L(v,_)};z(b,v=>{g(a)&&v(S)})}B("click",p,cn(function(v){un.call(this,e,v)})),B("click",d,()=>t("close")),L(n,d),ke()}var $i=j('<div class="team-item svelte-i3oys2"> </div>'),Hi=j('<div class="teams-panel svelte-i3oys2"><div class="teams-panel-header svelte-i3oys2"><h2>Moje týmy</h2> <button class="close-btn svelte-i3oys2">X</button></div> <div class="teams-list svelte-i3oys2"></div> <button class="add-team-btn svelte-i3oys2">+</button></div>');function Vi(n,e){Ee(e,!1);const t=()=>nt(Ar,"$teamsStore",r),[r,s]=hn(),i=ot();Le();var o=Hi(),a=T(o),l=E(T(a),2),c=E(a,2);yt(c,5,t,_t,(d,p)=>{var f=$i(),u=T(f);W(()=>Q(u,g(p).name)),B("click",f,()=>i("showTeamDetails",g(p))),L(d,f)});var h=E(c,2);B("click",l,()=>i("close")),B("click",h,()=>i("showAddTeam")),L(n,o),ke(),s()}var Bi=j("<option> </option>"),Ki=j('<p class="error svelte-l8zq3i"> </p>'),Wi=j('<div class="modal-backdrop svelte-l8zq3i"><div class="modal-content svelte-l8zq3i"><h2>Add New Team</h2> <form class="svelte-l8zq3i"><input type="text" placeholder="Team Name" required/> <select required><option disabled>Select a contest</option><!></select> <input type="email" placeholder="Player 1 Email"/> <input type="email" placeholder="Player 2 Email"/> <input type="email" placeholder="Player 3 Email"/> <input type="email" placeholder="Player 4 Email"/> <input type="email" placeholder="Player 5 Email"/> <button type="submit">Add Team</button></form> <!></div></div>');function zi(n,e){Ee(e,!1);const t=()=>nt(wt,"$authStore",s),r=()=>nt(Rr,"$contestsStore",s),[s,i]=hn(),o=ot();let a=U(""),l=U(""),c=U(""),h=U(""),d=U(""),p=U(""),f=U(""),u=U("");async function m(){if(k(u,""),!g(a)||!g(f)){k(u,"Team name and contest are required.");return}try{await ae.collection("teams").create({name:g(a),player1email:g(l),player2email:g(c),player3email:g(h),player4email:g(d),player5email:g(p),contest:g(f),teacher:t()?.id}),o("close")}catch(A){console.error("Add Team Error:",A),k(u,"Failed to add team.")}}Le();var b=Wi(),S=T(b),v=E(T(S),2),_=T(v),y=E(_,2);W(()=>{g(f),Rs(()=>{r()})});var C=T(y);C.value=C.__value="";var w=E(C);yt(w,1,r,_t,(A,G)=>{var te=Bi(),xt=T(te),at={};W(()=>{Q(xt,g(G).name),at!==(at=g(G).id)&&(te.value=(te.__value=g(G).id)??"")}),L(A,te)});var x=E(y,2),M=E(x,2),O=E(M,2),$=E(O,2),Y=E($,2),q=E(v,2);{var qe=A=>{var G=Ki(),te=T(G);W(()=>Q(te,g(u))),L(A,G)};z(q,A=>{g(u)&&A(qe)})}re(_,()=>g(a),A=>k(a,A)),Gs(y,()=>g(f),A=>k(f,A)),re(x,()=>g(l),A=>k(l,A)),re(M,()=>g(c),A=>k(c,A)),re(O,()=>g(h),A=>k(h,A)),re($,()=>g(d),A=>k(d,A)),re(Y,()=>g(p),A=>k(p,A)),B("submit",v,Vt(m)),B("click",S,cn(function(A){un.call(this,e,A)})),B("click",b,()=>o("close")),L(n,b),ke(),i()}var Gi=j('<li class="svelte-12bt2ui"> </li>'),Ji=j('<li class="svelte-12bt2ui"> </li>'),Yi=j('<li class="svelte-12bt2ui"> </li>'),Zi=j('<li class="svelte-12bt2ui"> </li>'),Qi=j('<li class="svelte-12bt2ui"> </li>'),Xi=j('<div class="modal-backdrop svelte-12bt2ui"><div class="modal-content svelte-12bt2ui"><h2> </h2> <ul class="svelte-12bt2ui"><!> <!> <!> <!> <!></ul> <button>Close</button></div></div>');function eo(n,e){Ee(e,!1);let t=dn(e,"team",8);const r=ot();Le();var s=Xi(),i=T(s),o=T(i),a=T(o),l=E(o,2),c=T(l);{var h=y=>{var C=Gi(),w=T(C);W(()=>Q(w,(F(t()),N(()=>t().player1email)))),L(y,C)};z(c,y=>{F(t()),N(()=>t().player1email)&&y(h)})}var d=E(c,2);{var p=y=>{var C=Ji(),w=T(C);W(()=>Q(w,(F(t()),N(()=>t().player2email)))),L(y,C)};z(d,y=>{F(t()),N(()=>t().player2email)&&y(p)})}var f=E(d,2);{var u=y=>{var C=Yi(),w=T(C);W(()=>Q(w,(F(t()),N(()=>t().player3email)))),L(y,C)};z(f,y=>{F(t()),N(()=>t().player3email)&&y(u)})}var m=E(f,2);{var b=y=>{var C=Zi(),w=T(C);W(()=>Q(w,(F(t()),N(()=>t().player4email)))),L(y,C)};z(m,y=>{F(t()),N(()=>t().player4email)&&y(b)})}var S=E(m,2);{var v=y=>{var C=Qi(),w=T(C);W(()=>Q(w,(F(t()),N(()=>t().player5email)))),L(y,C)};z(S,y=>{F(t()),N(()=>t().player5email)&&y(v)})}var _=E(l,2);W(()=>Q(a,(F(t()),N(()=>t().name)))),B("click",_,()=>r("close")),B("click",i,cn(function(y){un.call(this,e,y)})),B("click",s,()=>r("close")),L(n,s),ke()}const to="data:image/svg+xml,%3csvg%20width='52'%20height='26'%20viewBox='0%200%2052%2026'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20y='13'%20width='13'%20height='13'%20rx='3'%20fill='%23EBAD00'/%3e%3crect%20x='26'%20y='13'%20width='13'%20height='13'%20rx='3'%20fill='%23EB0072'/%3e%3crect%20x='13'%20width='13'%20height='13'%20rx='3'%20fill='%23EB6E00'/%3e%3crect%20x='39'%20width='13'%20height='13'%20rx='3'%20fill='%239500EB'/%3e%3c/svg%3e";var no=j('<div class="contests-list svelte-mks31e"></div>'),ro=j('<div class="logout-page svelte-mks31e"><h1 class="upcomming svelte-mks31e"><span class="anchor svelte-mks31e"><img class="blocks-clumped svelte-mks31e"/></span> Nadcházející</h1> <div class="contests-list svelte-mks31e"></div></div>'),so=j('<div id="app"><!> <!> <!> <!> <!> <div class="content-holder svelte-mks31e"><!></div></div>');function io(n,e){Ee(e,!1);const t=()=>nt(wt,"$authStore",s),r=()=>nt(Rr,"$contestsStore",s),[s,i]=hn();let o=U(!1),a=U(!1),l=U(!1),c=U(!1),h=U(null);wt.subscribe(O=>{O&&Ei(O.id)}),Le();var d=so(),p=T(d);Ri(p,{get currentUser(){return t()},$$events:{showAuth:()=>k(o,!0),toggleTeamsPanel:()=>k(a,!g(a))}});var f=E(p,2);{var u=O=>{Mi(O,{$$events:{close:()=>k(o,!1)}})};z(f,O=>{g(o)&&O(u)})}var m=E(f,2);{var b=O=>{Vi(O,{$$events:{close:()=>k(a,!1),showAddTeam:()=>k(l,!0),showTeamDetails:$=>{k(h,$.detail),k(c,!0)}}})};z(m,O=>{g(a)&&O(b)})}var S=E(m,2);{var v=O=>{zi(O,{$$events:{close:()=>k(l,!1)}})};z(S,O=>{g(l)&&O(v)})}var _=E(S,2);{var y=O=>{eo(O,{get team(){return g(h)},$$events:{close:()=>k(c,!1)}})};z(_,O=>{g(c)&&O(y)})}var C=E(_,2),w=T(C);{var x=O=>{var $=no();yt($,5,r,_t,(Y,q)=>{Un(Y,{get contest(){return g(q)}})}),L(O,$)},M=O=>{var $=ro(),Y=T($),q=T(Y),qe=T(q),A=E(Y,2);yt(A,5,r,_t,(G,te)=>{Un(G,{get contest(){return g(te)}})}),W(()=>be(qe,"src",to)),L(O,$)};z(w,O=>{t()?O(x):O(M,!1)})}L(n,d),ke(),i()}Hs(io,{target:document.getElementById("app")});
